import{g as n,c as t,a as r}from"../ant-design-vue.07f5f87d.js";var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])})(n,t)};function i(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},o.apply(this,arguments)};function a(n,t){var r={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(r[e]=n[e]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(e=Object.getOwnPropertySymbols(n);i<e.length;i++)t.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(r[e[i]]=n[e[i]])}return r}function u(n,t,r,e){return new(r||(r=Promise))((function(i,o){function a(n){try{c(e.next(n))}catch(t){o(t)}}function u(n){try{c(e.throw(n))}catch(t){o(t)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(a,u)}c((e=e.apply(n,t||[])).next())}))}function c(n,t){var r,e,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,e&&(i=2&o[0]?e.return:o[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,o[1])).done)return i;switch(e=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,e=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(n,a)}catch(u){o=[6,u],e=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var f=Object.create?function(n,t,r,e){void 0===e&&(e=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(n,e,i)}:function(n,t,r,e){void 0===e&&(e=r),n[e]=t[r]};function s(n){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&n[t],e=0;if(r)return r.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,i,o=r.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(e=o.next()).done;)a.push(e.value)}catch(u){i={error:u}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function h(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var e=Array(n),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)e[i]=o[a];return e}function p(n,t,r){if(r||2===arguments.length)for(var e,i=0,o=t.length;i<o;i++)!e&&i in t||(e||(e=Array.prototype.slice.call(t,0,i)),e[i]=t[i]);return n.concat(e||Array.prototype.slice.call(t))}function v(n){return this instanceof v?(this.v=n,this):new v(n)}var d=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t};var g=Object.freeze(Object.defineProperty({__proto__:null,__extends:i,get __assign(){return o},__rest:a,__decorate:function(n,t,r,e){var i,o=arguments.length,a=o<3?t:null===e?e=Object.getOwnPropertyDescriptor(t,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,t,r,e);else for(var u=n.length-1;u>=0;u--)(i=n[u])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},__param:function(n,t){return function(r,e){t(r,e,n)}},__metadata:function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},__awaiter:u,__generator:c,__createBinding:f,__exportStar:function(n,t){for(var r in n)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||f(t,n,r)},__values:s,__read:l,__spread:function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(l(arguments[t]));return n},__spreadArrays:h,__spreadArray:p,__await:v,__asyncGenerator:function(n,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=r.apply(n,t||[]),o=[];return e={},a("next"),a("throw"),a("return"),e[Symbol.asyncIterator]=function(){return this},e;function a(n){i[n]&&(e[n]=function(t){return new Promise((function(r,e){o.push([n,t,r,e])>1||u(n,t)}))})}function u(n,t){try{(r=i[n](t)).value instanceof v?Promise.resolve(r.value.v).then(c,f):s(o[0][2],r)}catch(e){s(o[0][3],e)}var r}function c(n){u("next",n)}function f(n){u("throw",n)}function s(n,t){n(t),o.shift(),o.length&&u(o[0][0],o[0][1])}},__asyncDelegator:function(n){var t,r;return t={},e("next"),e("throw",(function(n){throw n})),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,i){t[e]=n[e]?function(t){return(r=!r)?{value:v(n[e](t)),done:"return"===e}:i?i(t):t}:i}},__asyncValues:function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n=s(n),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(r){t[r]=n[r]&&function(t){return new Promise((function(e,i){(function(n,t,r,e){Promise.resolve(e).then((function(t){n({value:t,done:r})}),t)})(e,i,(t=n[r](t)).done,t.value)}))}}},__makeTemplateObject:function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},__importStar:function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var r in n)"default"!==r&&Object.prototype.hasOwnProperty.call(n,r)&&f(t,n,r);return d(t,n),t},__importDefault:function(n){return n&&n.__esModule?n:{default:n}},__classPrivateFieldGet:function(n,t,r,e){if("a"===r&&!e)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?n!==t||!e:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?e:"a"===r?e.call(n):e?e.value:t.get(n)},__classPrivateFieldSet:function(n,t,r,e,i){if("m"===e)throw new TypeError("Private method is not writable");if("a"===e&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===e?i.call(n,r):i?i.value=r:t.set(n,r),r},__classPrivateFieldIn:function(n,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof n?t===n:n.has(t)}},Symbol.toStringTag,{value:"Module"})),y=n(g),m=function(n){return null!==n&&"function"!=typeof n&&isFinite(n.length)},w=function(n,t){return!!m(n)&&n.indexOf(t)>-1},x=function(n,t){if(!m(n))return n;for(var r=[],e=0;e<n.length;e++){var i=n[e];t(i,e)&&r.push(i)}return r},E=function(n,t){return void 0===t&&(t=[]),x(n,(function(n){return!w(t,n)}))},b={}.toString,_=function(n,t){return b.call(n)==="[object "+t+"]"},S=function(n){return _(n,"Function")},M=function(n){return null==n},T=function(n){return Array.isArray?Array.isArray(n):_(n,"Array")},O=function(n){var t=typeof n;return null!==n&&"object"===t||"function"===t};function j(n,t){if(n)if(T(n))for(var r=0,e=n.length;r<e&&!1!==t(n[r],r);r++);else if(O(n))for(var i in n)if(n.hasOwnProperty(i)&&!1===t(n[i],i))break}var k=Object.keys?function(n){return Object.keys(n)}:function(n){var t=[];return j(n,(function(r,e){S(n)&&"prototype"===e||t.push(e)})),t};function C(n,t){var r=k(t),e=r.length;if(M(n))return!e;for(var i=0;i<e;i+=1){var o=r[i];if(t[o]!==n[o]||!(o in n))return!1}return!0}var P=function(n){return"object"==typeof n&&null!==n},A=function(n){if(!P(n)||!_(n,"Object"))return!1;if(null===Object.getPrototypeOf(n))return!0;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t};function N(n,t){if(!T(n))return null;var r;if(S(t)&&(r=t),A(t)&&(r=function(n){return C(n,t)}),r)for(var e=0;e<n.length;e+=1)if(r(n[e]))return n[e];return null}function R(n,t,r){void 0===r&&(r=0);for(var e=r;e<n.length;e++)if(t(n[e],e))return e;return-1}var D=function(n,t){for(var r=null,e=0;e<n.length;e++){var i=n[e][t];if(!M(i)){r=T(i)?i[0]:i;break}}return r},I=function(n){if(!T(n))return[];for(var t=[],r=0;r<n.length;r++)t=t.concat(n[r]);return t},q=function(n,t){if(void 0===t&&(t=[]),T(n))for(var r=0;r<n.length;r+=1)q(n[r],t);else t.push(n);return t},L=function(n){if(T(n))return n.reduce((function(n,t){return Math.max(n,t)}),n[0])},B=function(n){if(T(n))return n.reduce((function(n,t){return Math.min(n,t)}),n[0])},z=function(n){var t=n.filter((function(n){return!isNaN(n)}));if(!t.length)return{min:0,max:0};if(T(n[0])){for(var r=[],e=0;e<n.length;e++)r=r.concat(n[e]);t=r}var i=L(t);return{min:B(t),max:i}},F=Array.prototype,V=F.splice,G=F.indexOf,H=Array.prototype.splice,U=function(n,t){if(!m(n))return[];for(var r=n?t.length:0,e=r-1;r--;){var i=void 0,o=t[r];r!==e&&o===i||(i=o,H.call(n,o,1))}return n},W=function(n,t,r){if(!T(n)&&!A(n))return n;var e=r;return j(n,(function(n,r){e=t(e,n,r)})),e},Y=function(n,t){var r=[];if(!m(n))return r;for(var e=-1,i=[],o=n.length;++e<o;){var a=n[e];t(a,e,n)&&(r.push(a),i.push(e))}return U(n,i),r},J=function(n){return _(n,"String")};function $(n,t){var r;if(S(t))r=function(n,r){return t(n)-t(r)};else{var e=[];J(t)?e.push(t):T(t)&&(e=t),r=function(n,t){for(var r=0;r<e.length;r+=1){var i=e[r];if(n[i]>t[i])return 1;if(n[i]<t[i])return-1}return 0}}return n.sort(r),n}function X(n,t){void 0===t&&(t=new Map);var r=[];if(Array.isArray(n))for(var e=0,i=n.length;e<i;e++){var o=n[e];t.has(o)||(r.push(o),t.set(o,!0))}return r}var K=function(n,t){for(var r=[],e={},i=0;i<n.length;i++){var o=n[i][t];if(!M(o)){T(o)||(o=[o]);for(var a=0;a<o.length;a++){var u=o[a];e[u]||(r.push(u),e[u]=!0)}}}return r};function Q(n){if(m(n))return n[0]}function Z(n){if(m(n)){return n[n.length-1]}}var nn=function(n,t){for(var r=0;r<n.length;r++)if(!t(n[r],r))return!1;return!0},tn=function(n,t){for(var r=0;r<n.length;r++)if(t(n[r],r))return!0;return!1},rn=Object.prototype.hasOwnProperty;function en(n,t){if(!t||!T(n))return{};for(var r,e={},i=S(t)?t:function(n){return n[t]},o=0;o<n.length;o++){var a=n[o];r=i(a),rn.call(e,r)?e[r].push(a):e[r]=[a]}return e}function on(n,t){if(!t)return{0:n};if(!S(t)){var r=T(t)?t:t.replace(/\s+/g,"").split("*");t=function(n){for(var t="_",e=0,i=r.length;e<i;e++)t+=n[r[e]]&&n[r[e]].toString();return t}}return en(n,t)}var an=function(n,t){if(!t)return[n];var r=on(n,t),e=[];for(var i in r)e.push(r[i]);return e};var un={};var cn=function(n,t,r){return n<t?t:n>r?r:n},fn=function(n,t){var r=t.toString(),e=r.indexOf(".");if(-1===e)return Math.round(n);var i=r.substr(e+1).length;return i>20&&(i=20),parseFloat(n.toFixed(i))},sn=function(n){return _(n,"Number")},ln=Number.isInteger?Number.isInteger:function(n){return sn(n)&&n%1==0};function hn(n,t,r){return void 0===r&&(r=1e-5),Math.abs(n-t)<r}var pn=function(n,t){if(T(n)){for(var r,e=-1/0,i=0;i<n.length;i++){var o=n[i],a=S(t)?t(o):o[t];a>e&&(r=o,e=a)}return r}},vn=function(n,t){if(T(n)){for(var r,e=1/0,i=0;i<n.length;i++){var o=n[i],a=S(t)?t(o):o[t];a<e&&(r=o,e=a)}return r}},dn=function(n,t){return(n%t+t)%t},gn=180/Math.PI,yn=parseInt,mn=Math.PI/180,wn=function(n){return mn*n},xn=function(n,t){return n.hasOwnProperty(t)},En=Object.values?function(n){return Object.values(n)}:function(n){var t=[];return j(n,(function(r,e){S(n)&&"prototype"===e||t.push(r)})),t},bn=function(n){return M(n)?"":n.toString()},_n=function(n){return bn(n).toLowerCase()};function Sn(n,t){return n&&t?n.replace(/\\?\{([^{}]+)\}/g,(function(n,r){return"\\"===n.charAt(0)?n.slice(1):void 0===t[r]?"":t[r]})):n}var Mn=function(n){var t=bn(n);return t.charAt(0).toUpperCase()+t.substring(1)},Tn={}.toString,On=function(n){return Tn.call(n).replace(/^\[object /,"").replace(/]$/,"")},jn=function(n){return _(n,"Boolean")},kn=function(n){return _(n,"Date")};var Cn=function(n){return null===n},Pn=Object.prototype,An=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Pn)},Nn=function(n){return void 0===n},Rn=function(n){return n instanceof Element||n instanceof HTMLDocument};function Dn(n){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,16)})(n)}function In(n){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(n)}function qn(n,t){for(var r in t)t.hasOwnProperty(r)&&"constructor"!==r&&void 0!==t[r]&&(n[r]=t[r])}function Ln(n,t,r,e){return t&&qn(n,t),r&&qn(n,r),e&&qn(n,e),n}var Bn=function(n){if("object"!=typeof n||null===n)return n;var t;if(T(n)){t=[];for(var r=0,e=n.length;r<e;r++)"object"==typeof n[r]&&null!=n[r]?t[r]=Bn(n[r]):t[r]=n[r]}else for(var i in t={},n)"object"==typeof n[i]&&null!=n[i]?t[i]=Bn(n[i]):t[i]=n[i];return t};function zn(n,t,r){var e;return function(){var i=this,o=arguments,a=function(){e=null,r||n.apply(i,o)},u=r&&!e;clearTimeout(e),e=setTimeout(a,t),u&&n.apply(i,o)}}var Fn=function(n,t){if(!S(n))throw new TypeError("Expected a function");var r=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=t?t.apply(this,e):e[0],a=r.cache;if(a.has(o))return a.get(o);var u=n.apply(this,e);return a.set(o,u),u};return r.cache=new Map,r};function Vn(n,t,r,e){for(var i in r=r||0,e=e||5,t)if(t.hasOwnProperty(i)){var o=t[i];null!==o&&A(o)?(A(n[i])||(n[i]={}),r<e?Vn(n[i],o,r+1,e):n[i]=t[i]):T(o)?(n[i]=[],n[i]=n[i].concat(o)):void 0!==o&&(n[i]=o)}}var Gn=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e+=1)Vn(n,t[e]);return n},Hn=function(n,t){if(!m(n))return-1;var r=Array.prototype.indexOf;if(r)return r.call(n,t);for(var e=-1,i=0;i<n.length;i++)if(n[i]===t){e=i;break}return e},Un=Object.prototype.hasOwnProperty;function Wn(n){if(M(n))return!0;if(m(n))return!n.length;var t=On(n);if("Map"===t||"Set"===t)return!n.size;if(An(n))return!Object.keys(n).length;for(var r in n)if(Un.call(n,r))return!1;return!0}var Yn,Jn=function(n,t){if(n===t)return!0;if(!n||!t)return!1;if(J(n)||J(t))return!1;if(m(n)||m(t)){if(n.length!==t.length)return!1;for(var r=!0,e=0;e<n.length&&(r=Jn(n[e],t[e]));e++);return r}if(P(n)||P(t)){var i=Object.keys(n),o=Object.keys(t);if(i.length!==o.length)return!1;for(r=!0,e=0;e<i.length&&(r=Jn(n[i[e]],t[i[e]]));e++);return r}return!1},$n=function(n,t){if(!m(n))return n;for(var r=[],e=0;e<n.length;e++){var i=n[e];r.push(t(i,e))}return r},Xn=function(n){return n},Kn=function(n,t){void 0===t&&(t=Xn);var r={};return O(n)&&!M(n)&&Object.keys(n).forEach((function(e){r[e]=t(n[e],e)})),r},Qn=function(n,t,r){for(var e=0,i=J(t)?t.split("."):t;n&&e<i.length;)n=n[i[e++]];return void 0===n||e<i.length?r:n},Zn=function(n,t,r){var e=n,i=J(t)?t.split("."):t;return i.forEach((function(n,t){t<i.length-1?(O(e[n])||(e[n]=sn(i[t+1])?[]:{}),e=e[n]):e[n]=r})),n},nt=Object.prototype.hasOwnProperty,tt=function(n,t){if(null===n||!A(n))return{};var r={};return j(t,(function(t){nt.call(n,t)&&(r[t]=n[t])})),r},rt=function(n,t){return W(n,(function(n,r,e){return t.includes(e)||(n[e]=r),n}),{})},et=function(n,t,r){var e,i,o,a,u=0;r||(r={});var c=function(){u=!1===r.leading?0:Date.now(),e=null,a=n.apply(i,o),e||(i=o=null)},f=function(){var f=Date.now();u||!1!==r.leading||(u=f);var s=t-(f-u);return i=this,o=arguments,s<=0||s>t?(e&&(clearTimeout(e),e=null),u=f,a=n.apply(i,o),e||(i=o=null)):e||!1===r.trailing||(e=setTimeout(c,s)),a};return f.cancel=function(){clearTimeout(e),u=0,e=i=o=null},f},it=function(n){return m(n)?Array.prototype.slice.call(n):[]},ot={},at=function(n){return ot[n=n||"g"]?ot[n]+=1:ot[n]=1,n+ot[n]},ut=function(){};function ct(n){return M(n)?0:m(n)?n.length:Object.keys(n).length}var ft=Fn((function(n,t){void 0===t&&(t={});var r=t.fontSize,e=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return Yn||(Yn=document.createElement("canvas").getContext("2d")),Yn.font=[o,a,i,r+"px",e].join(" "),Yn.measureText(J(n)?n:"").width}),(function(n,t){return void 0===t&&(t={}),h([n],En(t)).join("")})),st=function(n,t,r,e){void 0===e&&(e="...");var i,o,a=ft(e,r),u=J(n)?n:bn(n),c=t,f=[];if(ft(n,r)<=t)return n;for(;i=u.substr(0,16),!((o=ft(i,r))+a>c&&o>c);)if(f.push(i),c-=o,!(u=u.substr(16)))return f.join("");for(;i=u.substr(0,1),!((o=ft(i,r))+a>c);)if(f.push(i),c-=o,!(u=u.substr(1)))return f.join("");return""+f.join("")+e},lt=function(){function n(){this.map={}}return n.prototype.has=function(n){return void 0!==this.map[n]},n.prototype.get=function(n,t){var r=this.map[n];return void 0===r?t:r},n.prototype.set=function(n,t){this.map[n]=t},n.prototype.clear=function(){this.map={}},n.prototype.delete=function(n){delete this.map[n]},n.prototype.size=function(){return Object.keys(this.map).length},n}(),ht=n(Object.freeze(Object.defineProperty({__proto__:null,contains:w,includes:w,difference:E,find:N,findIndex:R,firstValue:D,flatten:I,flattenDeep:q,getRange:z,pull:function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e++)for(var i=t[e],o=-1;(o=G.call(n,i))>-1;)V.call(n,o,1);return n},pullAt:U,reduce:W,remove:Y,sortBy:$,union:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return X([].concat.apply([],n))},uniq:X,valuesOfKey:K,head:Q,last:Z,startsWith:function(n,t){return!(!T(n)&&!J(n))&&n[0]===t},endsWith:function(n,t){return!(!T(n)&&!J(n))&&n[n.length-1]===t},filter:x,every:nn,some:tn,group:an,groupBy:en,groupToMap:on,getWrapBehavior:function(n,t){return n["_wrap_"+t]},wrapBehavior:function(n,t){if(n["_wrap_"+t])return n["_wrap_"+t];var r=function(r){n[t](r)};return n["_wrap_"+t]=r,r},number2color:function(n){var t=un[n];if(!t){for(var r=n.toString(16),e=r.length;e<6;e++)r="0"+r;t="#"+r,un[n]=t}return t},parseRadius:function(n){var t=0,r=0,e=0,i=0;return T(n)?1===n.length?t=r=e=i=n[0]:2===n.length?(t=e=n[0],r=i=n[1]):3===n.length?(t=n[0],r=i=n[1],e=n[2]):(t=n[0],r=n[1],e=n[2],i=n[3]):t=r=e=i=n,{r1:t,r2:r,r3:e,r4:i}},clamp:cn,fixedBase:fn,isDecimal:function(n){return sn(n)&&n%1!=0},isEven:function(n){return sn(n)&&n%2==0},isInteger:ln,isNegative:function(n){return sn(n)&&n<0},isNumberEqual:hn,isOdd:function(n){return sn(n)&&n%2!=0},isPositive:function(n){return sn(n)&&n>0},max:L,maxBy:pn,min:B,minBy:vn,mod:dn,toDegree:function(n){return gn*n},toInteger:yn,toRadian:wn,forIn:j,has:xn,hasKey:xn,hasValue:function(n,t){return w(En(n),t)},keys:k,isMatch:C,values:En,lowerCase:_n,lowerFirst:function(n){var t=bn(n);return t.charAt(0).toLowerCase()+t.substring(1)},substitute:Sn,upperCase:function(n){return bn(n).toUpperCase()},upperFirst:Mn,getType:On,isArguments:function(n){return _(n,"Arguments")},isArray:T,isArrayLike:m,isBoolean:jn,isDate:kn,isError:function(n){return _(n,"Error")},isFunction:S,isFinite:function(n){return sn(n)&&isFinite(n)},isNil:M,isNull:Cn,isNumber:sn,isObject:O,isObjectLike:P,isPlainObject:A,isPrototype:An,isRegExp:function(n){return _(n,"RegExp")},isString:J,isType:_,isUndefined:Nn,isElement:Rn,requestAnimationFrame:Dn,clearAnimationFrame:In,augment:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=n[0],e=1;e<n.length;e++){var i=n[e];S(i)&&(i=i.prototype),Ln(r.prototype,i)}},clone:Bn,debounce:zn,memoize:Fn,deepMix:Gn,each:j,extend:function(n,t,r,e){S(t)||(r=t,t=n,n=function(){});var i=Object.create?function(n,t){return Object.create(n,{constructor:{value:t}})}:function(n,t){function r(){}r.prototype=n;var e=new r;return e.constructor=t,e},o=i(t.prototype,n);return n.prototype=Ln(o,n.prototype),n.superclass=i(t.prototype,t),Ln(o,r),Ln(n,e),n},indexOf:Hn,isEmpty:Wn,isEqual:Jn,isEqualWith:function(n,t,r){return S(r)?!!r(n,t):Jn(n,t)},map:$n,mapValues:Kn,mix:Ln,assign:Ln,get:Qn,set:Zn,pick:tt,omit:rt,throttle:et,toArray:it,toString:bn,uniqueId:at,noop:ut,identity:function(n){return n},size:ct,measureTextWidth:ft,getEllipsisText:st,Cache:lt},Symbol.toStringTag,{value:"Module"})));function pt(){return new vt}function vt(){this.reset()}vt.prototype={constructor:vt,reset:function(){this.s=this.t=0},add:function(n){gt(dt,n,this.t),gt(this,dt.s,this.s),this.s?this.t+=dt.t:this.s=dt.t},valueOf:function(){return this.s}};var dt=new vt;function gt(n,t,r){var e=n.s=t+r,i=e-t,o=e-i;n.t=t-o+(r-i)}var yt=Math.PI,mt=yt/2,wt=yt/4,xt=2*yt,Et=180/yt,bt=yt/180,_t=Math.abs,St=Math.atan,Mt=Math.atan2,Tt=Math.cos,Ot=Math.ceil,jt=Math.exp,kt=Math.log,Ct=Math.pow,Pt=Math.sin,At=Math.sign||function(n){return n>0?1:n<0?-1:0},Nt=Math.sqrt,Rt=Math.tan;function Dt(n){return n>1?0:n<-1?yt:Math.acos(n)}function It(n){return n>1?mt:n<-1?-mt:Math.asin(n)}function qt(n){return(n=Pt(n/2))*n}function Lt(){}function Bt(n,t){n&&Ft.hasOwnProperty(n.type)&&Ft[n.type](n,t)}var zt={Feature:function(n,t){Bt(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)Bt(r[e].geometry,t)}},Ft={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Vt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Vt(r[e],t,0)},Polygon:function(n,t){Gt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Gt(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)Bt(r[e],t)}};function Vt(n,t,r){var e,i=-1,o=n.length-r;for(t.lineStart();++i<o;)e=n[i],t.point(e[0],e[1],e[2]);t.lineEnd()}function Gt(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)Vt(n[r],t,1);t.polygonEnd()}function Ht(n,t){n&&zt.hasOwnProperty(n.type)?zt[n.type](n,t):Bt(n,t)}var Ut,Wt,Yt,Jt,$t,Xt=pt(),Kt=pt(),Qt={point:Lt,lineStart:Lt,lineEnd:Lt,polygonStart:function(){Xt.reset(),Qt.lineStart=Zt,Qt.lineEnd=nr},polygonEnd:function(){var n=+Xt;Kt.add(n<0?xt+n:n),this.lineStart=this.lineEnd=this.point=Lt},sphere:function(){Kt.add(xt)}};function Zt(){Qt.point=tr}function nr(){rr(Ut,Wt)}function tr(n,t){Qt.point=rr,Ut=n,Wt=t,Yt=n*=bt,Jt=Tt(t=(t*=bt)/2+wt),$t=Pt(t)}function rr(n,t){var r=(n*=bt)-Yt,e=r>=0?1:-1,i=e*r,o=Tt(t=(t*=bt)/2+wt),a=Pt(t),u=$t*a,c=Jt*o+u*Tt(i),f=u*e*Pt(i);Xt.add(Mt(f,c)),Yt=n,Jt=o,$t=a}function er(n){return[Mt(n[1],n[0]),It(n[2])]}function ir(n){var t=n[0],r=n[1],e=Tt(r);return[e*Tt(t),e*Pt(t),Pt(r)]}function or(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function ar(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ur(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function cr(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function fr(n){var t=Nt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var sr,lr,hr,pr,vr,dr,gr,yr,mr,wr,xr,Er,br,_r,Sr,Mr,Tr,Or,jr,kr,Cr,Pr,Ar,Nr,Rr,Dr,Ir=pt(),qr={point:Lr,lineStart:zr,lineEnd:Fr,polygonStart:function(){qr.point=Vr,qr.lineStart=Gr,qr.lineEnd=Hr,Ir.reset(),Qt.polygonStart()},polygonEnd:function(){Qt.polygonEnd(),qr.point=Lr,qr.lineStart=zr,qr.lineEnd=Fr,Xt<0?(sr=-(hr=180),lr=-(pr=90)):Ir>1e-6?pr=90:Ir<-1e-6&&(lr=-90),wr[0]=sr,wr[1]=hr}};function Lr(n,t){mr.push(wr=[sr=n,hr=n]),t<lr&&(lr=t),t>pr&&(pr=t)}function Br(n,t){var r=ir([n*bt,t*bt]);if(yr){var e=ar(yr,r),i=ar([e[1],-e[0],0],e);fr(i),i=er(i);var o,a=n-vr,u=a>0?1:-1,c=i[0]*Et*u,f=_t(a)>180;f^(u*vr<c&&c<u*n)?(o=i[1]*Et)>pr&&(pr=o):f^(u*vr<(c=(c+360)%360-180)&&c<u*n)?(o=-i[1]*Et)<lr&&(lr=o):(t<lr&&(lr=t),t>pr&&(pr=t)),f?n<vr?Ur(sr,n)>Ur(sr,hr)&&(hr=n):Ur(n,hr)>Ur(sr,hr)&&(sr=n):hr>=sr?(n<sr&&(sr=n),n>hr&&(hr=n)):n>vr?Ur(sr,n)>Ur(sr,hr)&&(hr=n):Ur(n,hr)>Ur(sr,hr)&&(sr=n)}else mr.push(wr=[sr=n,hr=n]);t<lr&&(lr=t),t>pr&&(pr=t),yr=r,vr=n}function zr(){qr.point=Br}function Fr(){wr[0]=sr,wr[1]=hr,qr.point=Lr,yr=null}function Vr(n,t){if(yr){var r=n-vr;Ir.add(_t(r)>180?r+(r>0?360:-360):r)}else dr=n,gr=t;Qt.point(n,t),Br(n,t)}function Gr(){Qt.lineStart()}function Hr(){Vr(dr,gr),Qt.lineEnd(),_t(Ir)>1e-6&&(sr=-(hr=180)),wr[0]=sr,wr[1]=hr,yr=null}function Ur(n,t){return(t-=n)<0?t+360:t}function Wr(n,t){return n[0]-t[0]}function Yr(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var Jr,$r,Xr={sphere:Lt,point:Kr,lineStart:Zr,lineEnd:re,polygonStart:function(){Xr.lineStart=ee,Xr.lineEnd=ie},polygonEnd:function(){Xr.lineStart=Zr,Xr.lineEnd=re}};function Kr(n,t){n*=bt;var r=Tt(t*=bt);Qr(r*Tt(n),r*Pt(n),Pt(t))}function Qr(n,t,r){++xr,br+=(n-br)/xr,_r+=(t-_r)/xr,Sr+=(r-Sr)/xr}function Zr(){Xr.point=ne}function ne(n,t){n*=bt;var r=Tt(t*=bt);Nr=r*Tt(n),Rr=r*Pt(n),Dr=Pt(t),Xr.point=te,Qr(Nr,Rr,Dr)}function te(n,t){n*=bt;var r=Tt(t*=bt),e=r*Tt(n),i=r*Pt(n),o=Pt(t),a=Mt(Nt((a=Rr*o-Dr*i)*a+(a=Dr*e-Nr*o)*a+(a=Nr*i-Rr*e)*a),Nr*e+Rr*i+Dr*o);Er+=a,Mr+=a*(Nr+(Nr=e)),Tr+=a*(Rr+(Rr=i)),Or+=a*(Dr+(Dr=o)),Qr(Nr,Rr,Dr)}function re(){Xr.point=Kr}function ee(){Xr.point=oe}function ie(){ae(Pr,Ar),Xr.point=Kr}function oe(n,t){Pr=n,Ar=t,n*=bt,t*=bt,Xr.point=ae;var r=Tt(t);Nr=r*Tt(n),Rr=r*Pt(n),Dr=Pt(t),Qr(Nr,Rr,Dr)}function ae(n,t){n*=bt;var r=Tt(t*=bt),e=r*Tt(n),i=r*Pt(n),o=Pt(t),a=Rr*o-Dr*i,u=Dr*e-Nr*o,c=Nr*i-Rr*e,f=Nt(a*a+u*u+c*c),s=It(f),l=f&&-s/f;jr+=l*a,kr+=l*u,Cr+=l*c,Er+=s,Mr+=s*(Nr+(Nr=e)),Tr+=s*(Rr+(Rr=i)),Or+=s*(Dr+(Dr=o)),Qr(Nr,Rr,Dr)}function ue(n){return function(){return n}}function ce(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r}function fe(n,t){return[n>yt?n-xt:n<-yt?n+xt:n,t]}function se(n,t,r){return(n%=xt)?t||r?ce(he(n),pe(t,r)):he(n):t||r?pe(t,r):fe}function le(n){return function(t,r){return[(t+=n)>yt?t-xt:t<-yt?t+xt:t,r]}}function he(n){var t=le(n);return t.invert=le(-n),t}function pe(n,t){var r=Tt(n),e=Pt(n),i=Tt(t),o=Pt(t);function a(n,t){var a=Tt(t),u=Tt(n)*a,c=Pt(n)*a,f=Pt(t),s=f*r+u*e;return[Mt(c*i-s*o,u*r-f*e),It(s*i+c*o)]}return a.invert=function(n,t){var a=Tt(t),u=Tt(n)*a,c=Pt(n)*a,f=Pt(t),s=f*i-c*o;return[Mt(c*i+f*o,u*r+s*e),It(s*r-u*e)]},a}function ve(n){function t(t){return(t=n(t[0]*bt,t[1]*bt))[0]*=Et,t[1]*=Et,t}return n=se(n[0]*bt,n[1]*bt,n.length>2?n[2]*bt:0),t.invert=function(t){return(t=n.invert(t[0]*bt,t[1]*bt))[0]*=Et,t[1]*=Et,t},t}function de(n,t,r,e,i,o){if(r){var a=Tt(t),u=Pt(t),c=e*r;null==i?(i=t+e*xt,o=t-c/2):(i=ge(a,i),o=ge(a,o),(e>0?i<o:i>o)&&(i+=e*xt));for(var f,s=i;e>0?s>o:s<o;s-=c)f=er([a,-u*Tt(s),-u*Pt(s)]),n.point(f[0],f[1])}}function ge(n,t){(t=ir(t))[0]-=n,fr(t);var r=Dt(-t[1]);return((-t[2]<0?-r:r)+xt-1e-6)%xt}function ye(){var n,t=[];return{point:function(t,r){n.push([t,r])},lineStart:function(){t.push(n=[])},lineEnd:Lt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function me(n,t){return _t(n[0]-t[0])<1e-6&&_t(n[1]-t[1])<1e-6}function we(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function xe(n,t,r,e,i){var o,a,u=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r,e=n[0],a=n[t];if(me(e,a)){for(i.lineStart(),o=0;o<t;++o)i.point((e=n[o])[0],e[1]);i.lineEnd()}else u.push(r=new we(e,n,null,!0)),c.push(r.o=new we(e,null,r,!1)),u.push(r=new we(a,n,null,!1)),c.push(r.o=new we(a,null,r,!0))}})),u.length){for(c.sort(t),Ee(u),Ee(c),o=0,a=c.length;o<a;++o)c[o].e=r=!r;for(var f,s,l=u[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=f.length;o<a;++o)i.point((s=f[o])[0],s[1]);else e(h.x,h.n.x,1,i);h=h.n}else{if(p)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else e(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Ee(n){if(t=n.length){for(var t,r,e=0,i=n[0];++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function be(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function _e(n,t,r){n=+n,t=+t,r=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+r;for(var e=-1,i=0|Math.max(0,Math.ceil((t-n)/r)),o=new Array(i);++e<i;)o[e]=n+e*r;return o}function Se(n,t){var r,e,i=n.length,o=-1;if(null==t){for(;++o<i;)if(null!=(r=n[o])&&r>=r)for(e=r;++o<i;)null!=(r=n[o])&&r>e&&(e=r)}else for(;++o<i;)if(null!=(r=t(n[o],o,n))&&r>=r)for(e=r;++o<i;)null!=(r=t(n[o],o,n))&&r>e&&(e=r);return e}function Me(n){for(var t,r,e,i=n.length,o=-1,a=0;++o<i;)a+=n[o].length;for(r=new Array(a);--i>=0;)for(t=(e=n[i]).length;--t>=0;)r[--a]=e[t];return r}function Te(n,t){var r,e,i=n.length,o=-1;if(null==t){for(;++o<i;)if(null!=(r=n[o])&&r>=r)for(e=r;++o<i;)null!=(r=n[o])&&e>r&&(e=r)}else for(;++o<i;)if(null!=(r=t(n[o],o,n))&&r>=r)for(e=r;++o<i;)null!=(r=t(n[o],o,n))&&e>r&&(e=r);return e}function Oe(n,t){var r,e=n.length,i=-1,o=0;if(null==t)for(;++i<e;)(r=+n[i])&&(o+=r);else for(;++i<e;)(r=+t(n[i],i,n))&&(o+=r);return o}fe.invert=fe,1===(Jr=be).length&&($r=Jr,Jr=function(n,t){return be($r(n),t)});function je(n,t,r,e){function i(i,o){return n<=i&&i<=r&&t<=o&&o<=e}function o(i,o,u,f){var s=0,l=0;if(null==i||(s=a(i,u))!==(l=a(o,u))||c(i,o)<0^u>0)do{f.point(0===s||3===s?n:r,s>1?e:t)}while((s=(s+u+4)%4)!==l);else f.point(o[0],o[1])}function a(e,i){return _t(e[0]-n)<1e-6?i>0?0:3:_t(e[0]-r)<1e-6?i>0?2:1:_t(e[1]-t)<1e-6?i>0?1:0:i>0?3:2}function u(n,t){return c(n.x,t.x)}function c(n,t){var r=a(n,1),e=a(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(a){var c,f,s,l,h,p,v,d,g,y,m,w=a,x=ye(),E={point:b,lineStart:function(){E.point=_,f&&f.push(s=[]);y=!0,g=!1,v=d=NaN},lineEnd:function(){c&&(_(l,h),p&&g&&x.rejoin(),c.push(x.result()));E.point=b,g&&w.lineEnd()},polygonStart:function(){w=x,c=[],f=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,r=0,i=f.length;r<i;++r)for(var o,a,u=f[r],c=1,s=u.length,l=u[0],h=l[0],p=l[1];c<s;++c)o=h,a=p,h=(l=u[c])[0],p=l[1],a<=e?p>e&&(h-o)*(e-a)>(p-a)*(n-o)&&++t:p<=e&&(h-o)*(e-a)<(p-a)*(n-o)&&--t;return t}(),r=m&&t,i=(c=Me(c)).length;(r||i)&&(a.polygonStart(),r&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&xe(c,u,t,o,a),a.polygonEnd());w=a,c=f=s=null}};function b(n,t){i(n,t)&&w.point(n,t)}function _(o,a){var u=i(o,a);if(f&&s.push([o,a]),y)l=o,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(o,a));else if(u&&g)w.point(o,a);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],x=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(n,t,r,e,i,o){var a,u=n[0],c=n[1],f=0,s=1,l=t[0]-u,h=t[1]-c;if(a=r-u,l||!(a>0)){if(a/=l,l<0){if(a<f)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>f&&(f=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>f&&(f=a)}else if(l>0){if(a<f)return;a<s&&(s=a)}if(a=e-c,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>f&&(f=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<s&&(s=a)}return f>0&&(n[0]=u+f*l,n[1]=c+f*h),s<1&&(t[0]=u+s*l,t[1]=c+s*h),!0}}}}}(c,x,n,t,r,e)?u&&(w.lineStart(),w.point(o,a),m=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(x[0],x[1]),u||w.lineEnd(),m=!1)}v=o,d=a,g=u}return E}}var ke=pt();function Ce(n,t){var r=t[0],e=t[1],i=[Pt(r),-Tt(r),0],o=0,a=0;ke.reset();for(var u=0,c=n.length;u<c;++u)if(s=(f=n[u]).length)for(var f,s,l=f[s-1],h=l[0],p=l[1]/2+wt,v=Pt(p),d=Tt(p),g=0;g<s;++g,h=m,v=x,d=E,l=y){var y=f[g],m=y[0],w=y[1]/2+wt,x=Pt(w),E=Tt(w),b=m-h,_=b>=0?1:-1,S=_*b,M=S>yt,T=v*x;if(ke.add(Mt(T*_*Pt(S),d*E+T*Tt(S))),o+=M?b+_*xt:b,M^h>=r^m>=r){var O=ar(ir(l),ir(y));fr(O);var j=ar(i,O);fr(j);var k=(M^b>=0?-1:1)*It(j[2]);(e>k||e===k&&(O[0]||O[1]))&&(a+=M^b>=0?1:-1)}}return(o<-1e-6||o<1e-6&&ke<-1e-6)^1&a}var Pe,Ae,Ne,Re=pt(),De={sphere:Lt,point:Lt,lineStart:function(){De.point=qe,De.lineEnd=Ie},lineEnd:Lt,polygonStart:Lt,polygonEnd:Lt};function Ie(){De.point=De.lineEnd=Lt}function qe(n,t){Pe=n*=bt,Ae=Pt(t*=bt),Ne=Tt(t),De.point=Le}function Le(n,t){n*=bt;var r=Pt(t*=bt),e=Tt(t),i=_t(n-Pe),o=Tt(i),a=e*Pt(i),u=Ne*r-Ae*e*o,c=Ae*r+Ne*e*o;Re.add(Mt(Nt(a*a+u*u),c)),Pe=n,Ae=r,Ne=e}function Be(n){return Re.reset(),Ht(n,De),+Re}var ze=[null,null],Fe={type:"LineString",coordinates:ze};function Ve(n,t){return ze[0]=n,ze[1]=t,Be(Fe)}var Ge={Feature:function(n,t){return Ue(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)if(Ue(r[e].geometry,t))return!0;return!1}},He={Sphere:function(){return!0},Point:function(n,t){return We(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)if(We(r[e],t))return!0;return!1},LineString:function(n,t){return Ye(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)if(Ye(r[e],t))return!0;return!1},Polygon:function(n,t){return Je(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)if(Je(r[e],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)if(Ue(r[e],t))return!0;return!1}};function Ue(n,t){return!(!n||!He.hasOwnProperty(n.type))&&He[n.type](n,t)}function We(n,t){return 0===Ve(n,t)}function Ye(n,t){var r=Ve(n[0],n[1]);return Ve(n[0],t)+Ve(t,n[1])<=r+1e-6}function Je(n,t){return!!Ce(n.map($e),Xe(t))}function $e(n){return(n=n.map(Xe)).pop(),n}function Xe(n){return[n[0]*bt,n[1]*bt]}function Ke(n,t,r){var e=_e(n,t-1e-6,r).concat(t);return function(n){return e.map((function(t){return[n,t]}))}}function Qe(n,t,r){var e=_e(n,t-1e-6,r).concat(t);return function(n){return e.map((function(t){return[t,n]}))}}function Ze(){var n,t,r,e,i,o,a,u,c,f,s,l,h=10,p=h,v=90,d=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return _e(Ot(e/v)*v,r,v).map(s).concat(_e(Ot(u/d)*d,a,d).map(l)).concat(_e(Ot(t/h)*h,n,h).filter((function(n){return _t(n%v)>1e-6})).map(c)).concat(_e(Ot(o/p)*p,i,p).filter((function(n){return _t(n%d)>1e-6})).map(f))}return y.lines=function(){return m().map((function(n){return{type:"LineString",coordinates:n}}))},y.outline=function(){return{type:"Polygon",coordinates:[s(e).concat(l(a).slice(1),s(r).reverse().slice(1),l(u).reverse().slice(1))]}},y.extent=function(n){return arguments.length?y.extentMajor(n).extentMinor(n):y.extentMinor()},y.extentMajor=function(n){return arguments.length?(e=+n[0][0],r=+n[1][0],u=+n[0][1],a=+n[1][1],e>r&&(n=e,e=r,r=n),u>a&&(n=u,u=a,a=n),y.precision(g)):[[e,u],[r,a]]},y.extentMinor=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],o=+r[0][1],i=+r[1][1],t>n&&(r=t,t=n,n=r),o>i&&(r=o,o=i,i=r),y.precision(g)):[[t,o],[n,i]]},y.step=function(n){return arguments.length?y.stepMajor(n).stepMinor(n):y.stepMinor()},y.stepMajor=function(n){return arguments.length?(v=+n[0],d=+n[1],y):[v,d]},y.stepMinor=function(n){return arguments.length?(h=+n[0],p=+n[1],y):[h,p]},y.precision=function(h){return arguments.length?(g=+h,c=Ke(o,i,90),f=Qe(t,n,g),s=Ke(u,a,90),l=Qe(e,r,g),y):g},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ni(n){return n}var ti,ri,ei,ii,oi=pt(),ai=pt(),ui={point:Lt,lineStart:Lt,lineEnd:Lt,polygonStart:function(){ui.lineStart=ci,ui.lineEnd=li},polygonEnd:function(){ui.lineStart=ui.lineEnd=ui.point=Lt,oi.add(_t(ai)),ai.reset()},result:function(){var n=oi/2;return oi.reset(),n}};function ci(){ui.point=fi}function fi(n,t){ui.point=si,ti=ei=n,ri=ii=t}function si(n,t){ai.add(ii*n-ei*t),ei=n,ii=t}function li(){si(ti,ri)}var hi=1/0,pi=hi,vi=-hi,di=vi,gi={point:function(n,t){n<hi&&(hi=n);n>vi&&(vi=n);t<pi&&(pi=t);t>di&&(di=t)},lineStart:Lt,lineEnd:Lt,polygonStart:Lt,polygonEnd:Lt,result:function(){var n=[[hi,pi],[vi,di]];return vi=di=-(pi=hi=1/0),n}};var yi,mi,wi,xi,Ei=0,bi=0,_i=0,Si=0,Mi=0,Ti=0,Oi=0,ji=0,ki=0,Ci={point:Pi,lineStart:Ai,lineEnd:Di,polygonStart:function(){Ci.lineStart=Ii,Ci.lineEnd=qi},polygonEnd:function(){Ci.point=Pi,Ci.lineStart=Ai,Ci.lineEnd=Di},result:function(){var n=ki?[Oi/ki,ji/ki]:Ti?[Si/Ti,Mi/Ti]:_i?[Ei/_i,bi/_i]:[NaN,NaN];return Ei=bi=_i=Si=Mi=Ti=Oi=ji=ki=0,n}};function Pi(n,t){Ei+=n,bi+=t,++_i}function Ai(){Ci.point=Ni}function Ni(n,t){Ci.point=Ri,Pi(wi=n,xi=t)}function Ri(n,t){var r=n-wi,e=t-xi,i=Nt(r*r+e*e);Si+=i*(wi+n)/2,Mi+=i*(xi+t)/2,Ti+=i,Pi(wi=n,xi=t)}function Di(){Ci.point=Pi}function Ii(){Ci.point=Li}function qi(){Bi(yi,mi)}function Li(n,t){Ci.point=Bi,Pi(yi=wi=n,mi=xi=t)}function Bi(n,t){var r=n-wi,e=t-xi,i=Nt(r*r+e*e);Si+=i*(wi+n)/2,Mi+=i*(xi+t)/2,Ti+=i,Oi+=(i=xi*n-wi*t)*(wi+n),ji+=i*(xi+t),ki+=3*i,Pi(wi=n,xi=t)}function zi(n){this._context=n}zi.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,xt)}},result:Lt};var Fi,Vi,Gi,Hi,Ui,Wi=pt(),Yi={point:Lt,lineStart:function(){Yi.point=Ji},lineEnd:function(){Fi&&$i(Vi,Gi),Yi.point=Lt},polygonStart:function(){Fi=!0},polygonEnd:function(){Fi=null},result:function(){var n=+Wi;return Wi.reset(),n}};function Ji(n,t){Yi.point=$i,Vi=Hi=n,Gi=Ui=t}function $i(n,t){Hi-=n,Ui-=t,Wi.add(Nt(Hi*Hi+Ui*Ui)),Hi=n,Ui=t}function Xi(){this._string=[]}function Ki(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Qi(n,t,r,e){return function(i,o){var a,u,c,f=t(o),s=i.invert(e[0],e[1]),l=ye(),h=t(l),p=!1,v={point:d,lineStart:y,lineEnd:m,polygonStart:function(){v.point=w,v.lineStart=x,v.lineEnd=E,u=[],a=[]},polygonEnd:function(){v.point=d,v.lineStart=y,v.lineEnd=m,u=Me(u);var n=Ce(a,s);u.length?(p||(o.polygonStart(),p=!0),xe(u,no,n,r,o)):n&&(p||(o.polygonStart(),p=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),u=a=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(t,r){var e=i(t,r);n(t=e[0],r=e[1])&&o.point(t,r)}function g(n,t){var r=i(n,t);f.point(r[0],r[1])}function y(){v.point=g,f.lineStart()}function m(){v.point=d,f.lineEnd()}function w(n,t){c.push([n,t]);var r=i(n,t);h.point(r[0],r[1])}function x(){h.lineStart(),c=[]}function E(){w(c[0][0],c[0][1]),h.lineEnd();var n,t,r,e,i=h.clean(),f=l.result(),s=f.length;if(c.pop(),a.push(c),c=null,s)if(1&i){if((t=(r=f[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),n=0;n<t;++n)o.point((e=r[n])[0],e[1]);o.lineEnd()}}else s>1&&2&i&&f.push(f.pop().concat(f.shift())),u.push(f.filter(Zi))}return v}}function Zi(n){return n.length>1}function no(n,t){return((n=n.x)[0]<0?n[1]-mt-1e-6:mt-n[1])-((t=t.x)[0]<0?t[1]-mt-1e-6:mt-t[1])}Xi.prototype={_radius:4.5,_circle:Ki(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Ki(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var to=Qi((function(){return!0}),(function(n){var t,r=NaN,e=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,a){var u=o>0?yt:-yt,c=_t(o-r);_t(c-yt)<1e-6?(n.point(r,e=(e+a)/2>0?mt:-mt),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),n.point(o,e),t=0):i!==u&&c>=yt&&(_t(r-i)<1e-6&&(r-=1e-6*i),_t(o-u)<1e-6&&(o-=1e-6*u),e=function(n,t,r,e){var i,o,a=Pt(n-r);return _t(a)>1e-6?St((Pt(t)*(o=Tt(e))*Pt(r)-Pt(e)*(i=Tt(t))*Pt(n))/(i*o*a)):(t+e)/2}(r,e,o,a),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),t=0),n.point(r=o,e=a),i=u},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-t}}}),(function(n,t,r,e){var i;if(null==n)i=r*mt,e.point(-yt,i),e.point(0,i),e.point(yt,i),e.point(yt,0),e.point(yt,-i),e.point(0,-i),e.point(-yt,-i),e.point(-yt,0),e.point(-yt,i);else if(_t(n[0]-t[0])>1e-6){var o=n[0]<t[0]?yt:-yt;i=r*o/2,e.point(-o,i),e.point(0,i),e.point(o,i)}else e.point(t[0],t[1])}),[-yt,-mt]);function ro(n,t){var r=Tt(n),e=r>0,i=_t(r)>1e-6;function o(n,t){return Tt(n)*Tt(t)>r}function a(n,t,e){var i=[1,0,0],o=ar(ir(n),ir(t)),a=or(o,o),u=o[0],c=a-u*u;if(!c)return!e&&n;var f=r*a/c,s=-r*u/c,l=ar(i,o),h=cr(i,f);ur(h,cr(o,s));var p=l,v=or(h,p),d=or(p,p),g=v*v-d*(or(h,h)-1);if(!(g<0)){var y=Nt(g),m=cr(p,(-v-y)/d);if(ur(m,h),m=er(m),!e)return m;var w,x=n[0],E=t[0],b=n[1],_=t[1];E<x&&(w=x,x=E,E=w);var S=E-x,M=_t(S-yt)<1e-6;if(!M&&_<b&&(w=b,b=_,_=w),M||S<1e-6?M?b+_>0^m[1]<(_t(m[0]-x)<1e-6?b:_):b<=m[1]&&m[1]<=_:S>yt^(x<=m[0]&&m[0]<=E)){var T=cr(p,(-v+y)/d);return ur(T,h),[m,er(T)]}}}function u(t,r){var i=e?n:yt-n,o=0;return t<-i?o|=1:t>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}return Qi(o,(function(n){var t,r,c,f,s;return{lineStart:function(){f=c=!1,s=1},point:function(l,h){var p,v=[l,h],d=o(l,h),g=e?d?0:u(l,h):d?u(l+(l<0?yt:-yt),h):0;if(!t&&(f=c=d)&&n.lineStart(),d!==c&&(!(p=a(t,v))||me(t,p)||me(v,p))&&(v[0]+=1e-6,v[1]+=1e-6,d=o(v[0],v[1])),d!==c)s=0,d?(n.lineStart(),p=a(v,t),n.point(p[0],p[1])):(p=a(t,v),n.point(p[0],p[1]),n.lineEnd()),t=p;else if(i&&t&&e^d){var y;g&r||!(y=a(v,t,!0))||(s=0,e?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!d||t&&me(t,v)||n.point(v[0],v[1]),t=v,c=d,r=g},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return s|(f&&c)<<1}}}),(function(r,e,i,o){de(o,n,t,i,r,e)}),e?[0,-n]:[-yt,n-yt])}function eo(n){return function(t){var r=new io;for(var e in n)r[e]=n[e];return r.stream=t,r}}function io(){}function oo(n,t,r){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),Ht(r,n.stream(gi));var a=gi.result(),u=Math.min(e/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),c=+t[0][0]+(e-u*(a[1][0]+a[0][0]))/2,f=+t[0][1]+(i-u*(a[1][1]+a[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*u).translate([c,f])}function ao(n,t,r){return oo(n,[[0,0],t],r)}io.prototype={constructor:io,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var uo=Tt(30*bt);function co(n,t){return+t?function(n,t){function r(e,i,o,a,u,c,f,s,l,h,p,v,d,g){var y=f-e,m=s-i,w=y*y+m*m;if(w>4*t&&d--){var x=a+h,E=u+p,b=c+v,_=Nt(x*x+E*E+b*b),S=It(b/=_),M=_t(_t(b)-1)<1e-6||_t(o-l)<1e-6?(o+l)/2:Mt(E,x),T=n(M,S),O=T[0],j=T[1],k=O-e,C=j-i,P=m*k-y*C;(P*P/w>t||_t((y*k+m*C)/w-.5)>.3||a*h+u*p+c*v<uo)&&(r(e,i,o,a,u,c,O,j,M,x/=_,E/=_,b,d,g),g.point(O,j),r(O,j,M,x,E,b,f,s,l,h,p,v,d,g))}}return function(t){var e,i,o,a,u,c,f,s,l,h,p,v,d={point:g,lineStart:y,lineEnd:w,polygonStart:function(){t.polygonStart(),d.lineStart=x},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(r,e){r=n(r,e),t.point(r[0],r[1])}function y(){s=NaN,d.point=m,t.lineStart()}function m(e,i){var o=ir([e,i]),a=n(e,i);r(s,l,f,h,p,v,s=a[0],l=a[1],f=e,h=o[0],p=o[1],v=o[2],16,t),t.point(s,l)}function w(){d.point=g,t.lineEnd()}function x(){y(),d.point=E,d.lineEnd=b}function E(n,t){m(e=n,t),i=s,o=l,a=h,u=p,c=v,d.point=m}function b(){r(s,l,f,h,p,v,i,o,e,a,u,c,16,t),d.lineEnd=w,w()}return d}}(n,t):function(n){return eo({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}var fo=eo({point:function(n,t){this.stream.point(n*bt,t*bt)}});function so(n){return lo((function(){return n}))()}function lo(n){var t,r,e,i,o,a,u,c,f,s,l=150,h=480,p=250,v=0,d=0,g=0,y=0,m=0,w=null,x=to,E=null,b=ni,_=.5,S=co(O,_);function M(n){return[(n=o(n[0]*bt,n[1]*bt))[0]*l+r,e-n[1]*l]}function T(n){return(n=o.invert((n[0]-r)/l,(e-n[1])/l))&&[n[0]*Et,n[1]*Et]}function O(n,i){return[(n=t(n,i))[0]*l+r,e-n[1]*l]}function j(){o=ce(i=se(g,y,m),t);var n=t(v,d);return r=h-n[0]*l,e=p+n[1]*l,k()}function k(){return f=s=null,M}return M.stream=function(n){return f&&s===n?f:f=fo(x(i,S(b(s=n))))},M.clipAngle=function(n){return arguments.length?(x=+n?ro(w=n*bt,6*bt):(w=null,to),k()):w*Et},M.clipExtent=function(n){return arguments.length?(b=null==n?(E=a=u=c=null,ni):je(E=+n[0][0],a=+n[0][1],u=+n[1][0],c=+n[1][1]),k()):null==E?null:[[E,a],[u,c]]},M.scale=function(n){return arguments.length?(l=+n,j()):l},M.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],j()):[h,p]},M.center=function(n){return arguments.length?(v=n[0]%360*bt,d=n[1]%360*bt,j()):[v*Et,d*Et]},M.rotate=function(n){return arguments.length?(g=n[0]%360*bt,y=n[1]%360*bt,m=n.length>2?n[2]%360*bt:0,j()):[g*Et,y*Et,m*Et]},M.precision=function(n){return arguments.length?(S=co(O,_=n*n),k()):Nt(_)},M.fitExtent=function(n,t){return oo(M,n,t)},M.fitSize=function(n,t){return ao(M,n,t)},function(){return t=n.apply(this,arguments),M.invert=t.invert&&T,j()}}function ho(n){var t=0,r=yt/3,e=lo(n),i=e(t,r);return i.parallels=function(n){return arguments.length?e(t=n[0]*bt,r=n[1]*bt):[t*Et,r*Et]},i}function po(n,t){var r=Pt(n),e=(r+Pt(t))/2;if(_t(e)<1e-6)return function(n){var t=Tt(n);function r(n,r){return[n*t,Pt(r)/t]}return r.invert=function(n,r){return[n/t,It(r*t)]},r}(n);var i=1+r*(2*e-r),o=Nt(i)/e;function a(n,t){var r=Nt(i-2*e*Pt(t))/e;return[r*Pt(n*=e),o-r*Tt(n)]}return a.invert=function(n,t){var r=o-t;return[Mt(n,_t(r))/e*At(r),It((i-(n*n+r*r)*e*e)/(2*e))]},a}function vo(){return ho(po).scale(155.424).center([0,33.6442])}function go(){return vo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function yo(n){return function(t,r){var e=Tt(t),i=Tt(r),o=n(e*i);return[o*i*Pt(t),o*Pt(r)]}}function mo(n){return function(t,r){var e=Nt(t*t+r*r),i=n(e),o=Pt(i),a=Tt(i);return[Mt(t*o,e*a),It(e&&r*o/e)]}}var wo=yo((function(n){return Nt(2/(1+n))}));wo.invert=mo((function(n){return 2*It(n/2)}));var xo=yo((function(n){return(n=Dt(n))&&n/Pt(n)}));function Eo(n,t){return[n,kt(Rt((mt+t)/2))]}function bo(n){var t,r,e,i=so(n),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,f=null;function s(){var o=yt*a(),u=i(ve(i.rotate()).invert([0,0]));return c(null==f?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:n===Eo?[[Math.max(u[0]-o,f),t],[Math.min(u[0]+o,r),e]]:[[f,Math.max(u[1]-o,t)],[r,Math.min(u[1]+o,e)]])}return i.scale=function(n){return arguments.length?(a(n),s()):a()},i.translate=function(n){return arguments.length?(u(n),s()):u()},i.center=function(n){return arguments.length?(o(n),s()):o()},i.clipExtent=function(n){return arguments.length?(null==n?f=t=r=e=null:(f=+n[0][0],t=+n[0][1],r=+n[1][0],e=+n[1][1]),s()):null==f?null:[[f,t],[r,e]]},s()}function _o(n){return Rt((mt+n)/2)}function So(n,t){var r=Tt(n),e=n===t?Pt(n):kt(r/Tt(t))/kt(_o(t)/_o(n)),i=r*Ct(_o(n),e)/e;if(!e)return Eo;function o(n,t){i>0?t<1e-6-mt&&(t=1e-6-mt):t>mt-1e-6&&(t=mt-1e-6);var r=i/Ct(_o(t),e);return[r*Pt(e*n),i-r*Tt(e*n)]}return o.invert=function(n,t){var r=i-t,o=At(e)*Nt(n*n+r*r);return[Mt(n,_t(r))/e*At(r),2*St(Ct(i/o,1/e))-mt]},o}function Mo(n,t){return[n,t]}function To(n,t){var r=Tt(n),e=n===t?Pt(n):(r-Tt(t))/(t-n),i=r/e+n;if(_t(e)<1e-6)return Mo;function o(n,t){var r=i-t,o=e*n;return[r*Pt(o),i-r*Tt(o)]}return o.invert=function(n,t){var r=i-t;return[Mt(n,_t(r))/e*At(r),i-At(e)*Nt(n*n+r*r)]},o}function Oo(n,t){var r=Tt(t),e=Tt(n)*r;return[r*Pt(n)/e,Pt(t)/e]}function jo(n,t,r,e){return 1===n&&1===t&&0===r&&0===e?ni:eo({point:function(i,o){this.stream.point(i*n+r,o*t+e)}})}function ko(n,t){return[Tt(t)*Pt(n),Pt(t)]}function Co(n,t){var r=Tt(t),e=1+Tt(n)*r;return[r*Pt(n)/e,Pt(t)/e]}function Po(n,t){return[kt(Rt((mt+t)/2)),-n]}xo.invert=mo((function(n){return n})),Eo.invert=function(n,t){return[n,2*St(jt(t))-mt]},Mo.invert=Mo,Oo.invert=mo(St),ko.invert=mo(It),Co.invert=mo((function(n){return 2*St(n)})),Po.invert=function(n,t){return[-t,2*St(jt(n))-mt]};var Ao=n(Object.freeze(Object.defineProperty({__proto__:null,geoArea:function(n){return Kt.reset(),Ht(n,Qt),2*Kt},geoBounds:function(n){var t,r,e,i,o,a,u;if(pr=hr=-(sr=lr=1/0),mr=[],Ht(n,qr),r=mr.length){for(mr.sort(Wr),t=1,o=[e=mr[0]];t<r;++t)Yr(e,(i=mr[t])[0])||Yr(e,i[1])?(Ur(e[0],i[1])>Ur(e[0],e[1])&&(e[1]=i[1]),Ur(i[0],e[1])>Ur(e[0],e[1])&&(e[0]=i[0])):o.push(e=i);for(a=-1/0,t=0,e=o[r=o.length-1];t<=r;e=i,++t)i=o[t],(u=Ur(e[1],i[0]))>a&&(a=u,sr=i[0],hr=e[1])}return mr=wr=null,sr===1/0||lr===1/0?[[NaN,NaN],[NaN,NaN]]:[[sr,lr],[hr,pr]]},geoCentroid:function(n){xr=Er=br=_r=Sr=Mr=Tr=Or=jr=kr=Cr=0,Ht(n,Xr);var t=jr,r=kr,e=Cr,i=t*t+r*r+e*e;return i<1e-12&&(t=Mr,r=Tr,e=Or,Er<1e-6&&(t=br,r=_r,e=Sr),(i=t*t+r*r+e*e)<1e-12)?[NaN,NaN]:[Mt(r,t)*Et,It(e/Nt(i))*Et]},geoCircle:function(){var n,t,r=ue([0,0]),e=ue(90),i=ue(6),o={point:function(r,e){n.push(r=t(r,e)),r[0]*=Et,r[1]*=Et}};function a(){var a=r.apply(this,arguments),u=e.apply(this,arguments)*bt,c=i.apply(this,arguments)*bt;return n=[],t=se(-a[0]*bt,-a[1]*bt,0).invert,de(o,u,c,1),a={type:"Polygon",coordinates:[n]},n=t=null,a}return a.center=function(n){return arguments.length?(r="function"==typeof n?n:ue([+n[0],+n[1]]),a):r},a.radius=function(n){return arguments.length?(e="function"==typeof n?n:ue(+n),a):e},a.precision=function(n){return arguments.length?(i="function"==typeof n?n:ue(+n),a):i},a},geoClipExtent:function(){var n,t,r,e=0,i=0,o=960,a=500;return r={stream:function(r){return n&&t===r?n:n=je(e,i,o,a)(t=r)},extent:function(u){return arguments.length?(e=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],n=t=null,r):[[e,i],[o,a]]}}},geoContains:function(n,t){return(n&&Ge.hasOwnProperty(n.type)?Ge[n.type]:Ue)(n,t)},geoDistance:Ve,geoGraticule:Ze,geoGraticule10:function(){return Ze()()},geoInterpolate:function(n,t){var r=n[0]*bt,e=n[1]*bt,i=t[0]*bt,o=t[1]*bt,a=Tt(e),u=Pt(e),c=Tt(o),f=Pt(o),s=a*Tt(r),l=a*Pt(r),h=c*Tt(i),p=c*Pt(i),v=2*It(Nt(qt(o-e)+a*c*qt(i-r))),d=Pt(v),g=v?function(n){var t=Pt(n*=v)/d,r=Pt(v-n)/d,e=r*s+t*h,i=r*l+t*p,o=r*u+t*f;return[Mt(i,e)*Et,Mt(o,Nt(e*e+i*i))*Et]}:function(){return[r*Et,e*Et]};return g.distance=v,g},geoLength:Be,geoPath:function(n,t){var r,e,i=4.5;function o(n){return n&&("function"==typeof i&&e.pointRadius(+i.apply(this,arguments)),Ht(n,r(e))),e.result()}return o.area=function(n){return Ht(n,r(ui)),ui.result()},o.measure=function(n){return Ht(n,r(Yi)),Yi.result()},o.bounds=function(n){return Ht(n,r(gi)),gi.result()},o.centroid=function(n){return Ht(n,r(Ci)),Ci.result()},o.projection=function(t){return arguments.length?(r=null==t?(n=null,ni):(n=t).stream,o):n},o.context=function(n){return arguments.length?(e=null==n?(t=null,new Xi):new zi(t=n),"function"!=typeof i&&e.pointRadius(i),o):t},o.pointRadius=function(n){return arguments.length?(i="function"==typeof n?n:(e.pointRadius(+n),+n),o):i},o.projection(n).context(t)},geoAlbers:go,geoAlbersUsa:function(){var n,t,r,e,i,o,a=go(),u=vo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=vo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(n,t){o=[n,t]}};function s(n){var t=n[0],a=n[1];return o=null,r.point(t,a),o||(e.point(t,a),o)||(i.point(t,a),o)}function l(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.12&&i<.234&&e>=-.425&&e<-.214?u:i>=.166&&i<.234&&e>=-.214&&e<-.115?c:a).invert(n)},s.stream=function(r){return n&&t===r?n:(e=[a.stream(t=r),u.stream(r),c.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},s.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),u.scale(.35*n),c.scale(n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),o=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[o-.455*t,s-.238*t],[o+.455*t,s+.238*t]]).stream(f),e=u.translate([o-.307*t,s+.201*t]).clipExtent([[o-.425*t+1e-6,s+.12*t+1e-6],[o-.214*t-1e-6,s+.234*t-1e-6]]).stream(f),i=c.translate([o-.205*t,s+.212*t]).clipExtent([[o-.214*t+1e-6,s+.166*t+1e-6],[o-.115*t-1e-6,s+.234*t-1e-6]]).stream(f),l()},s.fitExtent=function(n,t){return oo(s,n,t)},s.fitSize=function(n,t){return ao(s,n,t)},s.scale(1070)},geoAzimuthalEqualArea:function(){return so(wo).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:wo,geoAzimuthalEquidistant:function(){return so(xo).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:xo,geoConicConformal:function(){return ho(So).scale(109.5).parallels([30,30])},geoConicConformalRaw:So,geoConicEqualArea:vo,geoConicEqualAreaRaw:po,geoConicEquidistant:function(){return ho(To).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:To,geoEquirectangular:function(){return so(Mo).scale(152.63)},geoEquirectangularRaw:Mo,geoGnomonic:function(){return so(Oo).scale(144.049).clipAngle(60)},geoGnomonicRaw:Oo,geoIdentity:function(){var n,t,r,e,i,o,a=1,u=0,c=0,f=1,s=1,l=ni,h=null,p=ni;function v(){return e=i=null,o}return o={stream:function(n){return e&&i===n?e:e=l(p(i=n))},clipExtent:function(e){return arguments.length?(p=null==e?(h=n=t=r=null,ni):je(h=+e[0][0],n=+e[0][1],t=+e[1][0],r=+e[1][1]),v()):null==h?null:[[h,n],[t,r]]},scale:function(n){return arguments.length?(l=jo((a=+n)*f,a*s,u,c),v()):a},translate:function(n){return arguments.length?(l=jo(a*f,a*s,u=+n[0],c=+n[1]),v()):[u,c]},reflectX:function(n){return arguments.length?(l=jo(a*(f=n?-1:1),a*s,u,c),v()):f<0},reflectY:function(n){return arguments.length?(l=jo(a*f,a*(s=n?-1:1),u,c),v()):s<0},fitExtent:function(n,t){return oo(o,n,t)},fitSize:function(n,t){return ao(o,n,t)}}},geoProjection:so,geoProjectionMutator:lo,geoMercator:function(){return bo(Eo).scale(961/xt)},geoMercatorRaw:Eo,geoOrthographic:function(){return so(ko).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:ko,geoStereographic:function(){return so(Co).scale(250).clipAngle(142)},geoStereographicRaw:Co,geoTransverseMercator:function(){var n=bo(Po),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},r([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:Po,geoRotation:ve,geoStream:Ht,geoTransform:function(n){return{stream:eo(n)}}},Symbol.toStringTag,{value:"Module"})));function No(){return new Ro}function Ro(){this.reset()}Ro.prototype={constructor:Ro,reset:function(){this.s=this.t=0},add:function(n){Io(Do,n,this.t),Io(this,Do.s,this.s),this.s?this.t+=Do.t:this.s=Do.t},valueOf:function(){return this.s}};var Do=new Ro;function Io(n,t,r){var e=n.s=t+r,i=e-t,o=e-i;n.t=t-o+(r-i)}var qo=Math.PI,Lo=qo/2,Bo=qo/4,zo=2*qo,Fo=180/qo,Vo=qo/180,Go=Math.abs,Ho=Math.atan,Uo=Math.atan2,Wo=Math.cos,Yo=Math.sin,Jo=Math.sign||function(n){return n>0?1:n<0?-1:0},$o=Math.sqrt;function Xo(n){return n>1?0:n<-1?qo:Math.acos(n)}function Ko(n){return n>1?Lo:n<-1?-Lo:Math.asin(n)}function Qo(n){return(n=Yo(n/2))*n}function Zo(){}function na(n,t){n&&ra.hasOwnProperty(n.type)&&ra[n.type](n,t)}var ta={Feature:function(n,t){na(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)na(r[e].geometry,t)}},ra={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){ea(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)ea(r[e],t,0)},Polygon:function(n,t){ia(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)ia(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)na(r[e],t)}};function ea(n,t,r){var e,i=-1,o=n.length-r;for(t.lineStart();++i<o;)e=n[i],t.point(e[0],e[1],e[2]);t.lineEnd()}function ia(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)ea(n[r],t,1);t.polygonEnd()}function oa(n,t){n&&ta.hasOwnProperty(n.type)?ta[n.type](n,t):na(n,t)}var aa,ua,ca,fa,sa,la=No(),ha=No(),pa={point:Zo,lineStart:Zo,lineEnd:Zo,polygonStart:function(){la.reset(),pa.lineStart=va,pa.lineEnd=da},polygonEnd:function(){var n=+la;ha.add(n<0?zo+n:n),this.lineStart=this.lineEnd=this.point=Zo},sphere:function(){ha.add(zo)}};function va(){pa.point=ga}function da(){ya(aa,ua)}function ga(n,t){pa.point=ya,aa=n,ua=t,ca=n*=Vo,fa=Wo(t=(t*=Vo)/2+Bo),sa=Yo(t)}function ya(n,t){var r=(n*=Vo)-ca,e=r>=0?1:-1,i=e*r,o=Wo(t=(t*=Vo)/2+Bo),a=Yo(t),u=sa*a,c=fa*o+u*Wo(i),f=u*e*Yo(i);la.add(Uo(f,c)),ca=n,fa=o,sa=a}function ma(n){return[Uo(n[1],n[0]),Ko(n[2])]}function wa(n){var t=n[0],r=n[1],e=Wo(r);return[e*Wo(t),e*Yo(t),Yo(r)]}function xa(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Ea(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ba(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function _a(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Sa(n){var t=$o(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var Ma,Ta,Oa,ja,ka,Ca,Pa,Aa,Na,Ra,Da,Ia,qa,La,Ba,za,Fa,Va,Ga,Ha,Ua,Wa,Ya,Ja,$a,Xa,Ka=No(),Qa={point:Za,lineStart:tu,lineEnd:ru,polygonStart:function(){Qa.point=eu,Qa.lineStart=iu,Qa.lineEnd=ou,Ka.reset(),pa.polygonStart()},polygonEnd:function(){pa.polygonEnd(),Qa.point=Za,Qa.lineStart=tu,Qa.lineEnd=ru,la<0?(Ma=-(Oa=180),Ta=-(ja=90)):Ka>1e-6?ja=90:Ka<-1e-6&&(Ta=-90),Ra[0]=Ma,Ra[1]=Oa},sphere:function(){Ma=-(Oa=180),Ta=-(ja=90)}};function Za(n,t){Na.push(Ra=[Ma=n,Oa=n]),t<Ta&&(Ta=t),t>ja&&(ja=t)}function nu(n,t){var r=wa([n*Vo,t*Vo]);if(Aa){var e=Ea(Aa,r),i=Ea([e[1],-e[0],0],e);Sa(i),i=ma(i);var o,a=n-ka,u=a>0?1:-1,c=i[0]*Fo*u,f=Go(a)>180;f^(u*ka<c&&c<u*n)?(o=i[1]*Fo)>ja&&(ja=o):f^(u*ka<(c=(c+360)%360-180)&&c<u*n)?(o=-i[1]*Fo)<Ta&&(Ta=o):(t<Ta&&(Ta=t),t>ja&&(ja=t)),f?n<ka?au(Ma,n)>au(Ma,Oa)&&(Oa=n):au(n,Oa)>au(Ma,Oa)&&(Ma=n):Oa>=Ma?(n<Ma&&(Ma=n),n>Oa&&(Oa=n)):n>ka?au(Ma,n)>au(Ma,Oa)&&(Oa=n):au(n,Oa)>au(Ma,Oa)&&(Ma=n)}else Na.push(Ra=[Ma=n,Oa=n]);t<Ta&&(Ta=t),t>ja&&(ja=t),Aa=r,ka=n}function tu(){Qa.point=nu}function ru(){Ra[0]=Ma,Ra[1]=Oa,Qa.point=Za,Aa=null}function eu(n,t){if(Aa){var r=n-ka;Ka.add(Go(r)>180?r+(r>0?360:-360):r)}else Ca=n,Pa=t;pa.point(n,t),nu(n,t)}function iu(){pa.lineStart()}function ou(){eu(Ca,Pa),pa.lineEnd(),Go(Ka)>1e-6&&(Ma=-(Oa=180)),Ra[0]=Ma,Ra[1]=Oa,Aa=null}function au(n,t){return(t-=n)<0?t+360:t}function uu(n,t){return n[0]-t[0]}function cu(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var fu={sphere:Zo,point:su,lineStart:hu,lineEnd:du,polygonStart:function(){fu.lineStart=gu,fu.lineEnd=yu},polygonEnd:function(){fu.lineStart=hu,fu.lineEnd=du}};function su(n,t){n*=Vo;var r=Wo(t*=Vo);lu(r*Wo(n),r*Yo(n),Yo(t))}function lu(n,t,r){++Da,qa+=(n-qa)/Da,La+=(t-La)/Da,Ba+=(r-Ba)/Da}function hu(){fu.point=pu}function pu(n,t){n*=Vo;var r=Wo(t*=Vo);Ja=r*Wo(n),$a=r*Yo(n),Xa=Yo(t),fu.point=vu,lu(Ja,$a,Xa)}function vu(n,t){n*=Vo;var r=Wo(t*=Vo),e=r*Wo(n),i=r*Yo(n),o=Yo(t),a=Uo($o((a=$a*o-Xa*i)*a+(a=Xa*e-Ja*o)*a+(a=Ja*i-$a*e)*a),Ja*e+$a*i+Xa*o);Ia+=a,za+=a*(Ja+(Ja=e)),Fa+=a*($a+($a=i)),Va+=a*(Xa+(Xa=o)),lu(Ja,$a,Xa)}function du(){fu.point=su}function gu(){fu.point=mu}function yu(){wu(Wa,Ya),fu.point=su}function mu(n,t){Wa=n,Ya=t,n*=Vo,t*=Vo,fu.point=wu;var r=Wo(t);Ja=r*Wo(n),$a=r*Yo(n),Xa=Yo(t),lu(Ja,$a,Xa)}function wu(n,t){n*=Vo;var r=Wo(t*=Vo),e=r*Wo(n),i=r*Yo(n),o=Yo(t),a=$a*o-Xa*i,u=Xa*e-Ja*o,c=Ja*i-$a*e,f=$o(a*a+u*u+c*c),s=Ko(f),l=f&&-s/f;Ga+=l*a,Ha+=l*u,Ua+=l*c,Ia+=s,za+=s*(Ja+(Ja=e)),Fa+=s*($a+($a=i)),Va+=s*(Xa+(Xa=o)),lu(Ja,$a,Xa)}function xu(n){Da=Ia=qa=La=Ba=za=Fa=Va=Ga=Ha=Ua=0,oa(n,fu);var t=Ga,r=Ha,e=Ua,i=t*t+r*r+e*e;return i<1e-12&&(t=za,r=Fa,e=Va,Ia<1e-6&&(t=qa,r=La,e=Ba),(i=t*t+r*r+e*e)<1e-12)?[NaN,NaN]:[Uo(r,t)*Fo,Ko(e/$o(i))*Fo]}function Eu(n){return function(){return n}}function bu(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r}function _u(n,t){return[Go(n)>qo?n+Math.round(-n/zo)*zo:n,t]}function Su(n,t,r){return(n%=zo)?t||r?bu(Tu(n),Ou(t,r)):Tu(n):t||r?Ou(t,r):_u}function Mu(n){return function(t,r){return[(t+=n)>qo?t-zo:t<-qo?t+zo:t,r]}}function Tu(n){var t=Mu(n);return t.invert=Mu(-n),t}function Ou(n,t){var r=Wo(n),e=Yo(n),i=Wo(t),o=Yo(t);function a(n,t){var a=Wo(t),u=Wo(n)*a,c=Yo(n)*a,f=Yo(t),s=f*r+u*e;return[Uo(c*i-s*o,u*r-f*e),Ko(s*i+c*o)]}return a.invert=function(n,t){var a=Wo(t),u=Wo(n)*a,c=Yo(n)*a,f=Yo(t),s=f*i-c*o;return[Uo(c*i+f*o,u*r+s*e),Ko(s*r-u*e)]},a}function ju(n){function t(t){return(t=n(t[0]*Vo,t[1]*Vo))[0]*=Fo,t[1]*=Fo,t}return n=Su(n[0]*Vo,n[1]*Vo,n.length>2?n[2]*Vo:0),t.invert=function(t){return(t=n.invert(t[0]*Vo,t[1]*Vo))[0]*=Fo,t[1]*=Fo,t},t}function ku(n,t,r,e,i,o){if(r){var a=Wo(t),u=Yo(t),c=e*r;null==i?(i=t+e*zo,o=t-c/2):(i=Cu(a,i),o=Cu(a,o),(e>0?i<o:i>o)&&(i+=e*zo));for(var f,s=i;e>0?s>o:s<o;s-=c)f=ma([a,-u*Wo(s),-u*Yo(s)]),n.point(f[0],f[1])}}function Cu(n,t){(t=wa(t))[0]-=n,Sa(t);var r=Xo(-t[1]);return((-t[2]<0?-r:r)+zo-1e-6)%zo}function Pu(){var n,t=[];return{point:function(t,r,e){n.push([t,r,e])},lineStart:function(){t.push(n=[])},lineEnd:Zo,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function Au(n,t){return Go(n[0]-t[0])<1e-6&&Go(n[1]-t[1])<1e-6}function Nu(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Ru(n,t,r,e,i){var o,a,u=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r,e=n[0],a=n[t];if(Au(e,a)){if(!e[2]&&!a[2]){for(i.lineStart(),o=0;o<t;++o)i.point((e=n[o])[0],e[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(r=new Nu(e,n,null,!0)),c.push(r.o=new Nu(e,null,r,!1)),u.push(r=new Nu(a,n,null,!1)),c.push(r.o=new Nu(a,null,r,!0))}})),u.length){for(c.sort(t),Du(u),Du(c),o=0,a=c.length;o<a;++o)c[o].e=r=!r;for(var f,s,l=u[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=f.length;o<a;++o)i.point((s=f[o])[0],s[1]);else e(h.x,h.n.x,1,i);h=h.n}else{if(p)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else e(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Du(n){if(t=n.length){for(var t,r,e=0,i=n[0];++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}_u.invert=_u;var Iu=No();function qu(n){return Go(n[0])<=qo?n[0]:Jo(n[0])*((Go(n[0])+qo)%zo-qo)}function Lu(n,t,r,e){return function(i){var o,a,u,c=t(i),f=Pu(),s=t(f),l=!1,h={point:p,lineStart:d,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=w,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=d,h.lineEnd=g,a=Me(a);var n=function(n,t){var r=qu(t),e=t[1],i=Yo(e),o=[Yo(r),-Wo(r),0],a=0,u=0;Iu.reset(),1===i?e=Lo+1e-6:-1===i&&(e=-Lo-1e-6);for(var c=0,f=n.length;c<f;++c)if(l=(s=n[c]).length)for(var s,l,h=s[l-1],p=qu(h),v=h[1]/2+Bo,d=Yo(v),g=Wo(v),y=0;y<l;++y,p=w,d=E,g=b,h=m){var m=s[y],w=qu(m),x=m[1]/2+Bo,E=Yo(x),b=Wo(x),_=w-p,S=_>=0?1:-1,M=S*_,T=M>qo,O=d*E;if(Iu.add(Uo(O*S*Yo(M),g*b+O*Wo(M))),a+=T?_+S*zo:_,T^p>=r^w>=r){var j=Ea(wa(h),wa(m));Sa(j);var k=Ea(o,j);Sa(k);var C=(T^_>=0?-1:1)*Ko(k[2]);(e>C||e===C&&(j[0]||j[1]))&&(u+=T^_>=0?1:-1)}}return(a<-1e-6||a<1e-6&&Iu<-1e-6)^1&u}(o,e);a.length?(l||(i.polygonStart(),l=!0),Ru(a,zu,n,r,i)):n&&(l||(i.polygonStart(),l=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,r){n(t,r)&&i.point(t,r)}function v(n,t){c.point(n,t)}function d(){h.point=v,c.lineStart()}function g(){h.point=p,c.lineEnd()}function y(n,t){u.push([n,t]),s.point(n,t)}function m(){s.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),s.lineEnd();var n,t,r,e,c=s.clean(),h=f.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&c){if((t=(r=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),n=0;n<t;++n)i.point((e=r[n])[0],e[1]);i.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Bu))}return h}}function Bu(n){return n.length>1}function zu(n,t){return((n=n.x)[0]<0?n[1]-Lo-1e-6:Lo-n[1])-((t=t.x)[0]<0?t[1]-Lo-1e-6:Lo-t[1])}var Fu=Lu((function(){return!0}),(function(n){var t,r=NaN,e=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,a){var u=o>0?qo:-qo,c=Go(o-r);Go(c-qo)<1e-6?(n.point(r,e=(e+a)/2>0?Lo:-Lo),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),n.point(o,e),t=0):i!==u&&c>=qo&&(Go(r-i)<1e-6&&(r-=1e-6*i),Go(o-u)<1e-6&&(o-=1e-6*u),e=function(n,t,r,e){var i,o,a=Yo(n-r);return Go(a)>1e-6?Ho((Yo(t)*(o=Wo(e))*Yo(r)-Yo(e)*(i=Wo(t))*Yo(n))/(i*o*a)):(t+e)/2}(r,e,o,a),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),t=0),n.point(r=o,e=a),i=u},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-t}}}),(function(n,t,r,e){var i;if(null==n)i=r*Lo,e.point(-qo,i),e.point(0,i),e.point(qo,i),e.point(qo,0),e.point(qo,-i),e.point(0,-i),e.point(-qo,-i),e.point(-qo,0),e.point(-qo,i);else if(Go(n[0]-t[0])>1e-6){var o=n[0]<t[0]?qo:-qo;i=r*o/2,e.point(-o,i),e.point(0,i),e.point(o,i)}else e.point(t[0],t[1])}),[-qo,-Lo]);function Vu(n){var t=Wo(n),r=6*Vo,e=t>0,i=Go(t)>1e-6;function o(n,r){return Wo(n)*Wo(r)>t}function a(n,r,e){var i=[1,0,0],o=Ea(wa(n),wa(r)),a=xa(o,o),u=o[0],c=a-u*u;if(!c)return!e&&n;var f=t*a/c,s=-t*u/c,l=Ea(i,o),h=_a(i,f);ba(h,_a(o,s));var p=l,v=xa(h,p),d=xa(p,p),g=v*v-d*(xa(h,h)-1);if(!(g<0)){var y=$o(g),m=_a(p,(-v-y)/d);if(ba(m,h),m=ma(m),!e)return m;var w,x=n[0],E=r[0],b=n[1],_=r[1];E<x&&(w=x,x=E,E=w);var S=E-x,M=Go(S-qo)<1e-6;if(!M&&_<b&&(w=b,b=_,_=w),M||S<1e-6?M?b+_>0^m[1]<(Go(m[0]-x)<1e-6?b:_):b<=m[1]&&m[1]<=_:S>qo^(x<=m[0]&&m[0]<=E)){var T=_a(p,(-v+y)/d);return ba(T,h),[m,ma(T)]}}}function u(t,r){var i=e?n:qo-n,o=0;return t<-i?o|=1:t>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}return Lu(o,(function(n){var t,r,c,f,s;return{lineStart:function(){f=c=!1,s=1},point:function(l,h){var p,v=[l,h],d=o(l,h),g=e?d?0:u(l,h):d?u(l+(l<0?qo:-qo),h):0;if(!t&&(f=c=d)&&n.lineStart(),d!==c&&(!(p=a(t,v))||Au(t,p)||Au(v,p))&&(v[2]=1),d!==c)s=0,d?(n.lineStart(),p=a(v,t),n.point(p[0],p[1])):(p=a(t,v),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(i&&t&&e^d){var y;g&r||!(y=a(v,t,!0))||(s=0,e?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!d||t&&Au(t,v)||n.point(v[0],v[1]),t=v,c=d,r=g},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return s|(f&&c)<<1}}}),(function(t,e,i,o){ku(o,n,r,i,t,e)}),e?[0,-n]:[-qo,n-qo])}function Gu(n,t,r,e){function i(i,o){return n<=i&&i<=r&&t<=o&&o<=e}function o(i,o,u,f){var s=0,l=0;if(null==i||(s=a(i,u))!==(l=a(o,u))||c(i,o)<0^u>0)do{f.point(0===s||3===s?n:r,s>1?e:t)}while((s=(s+u+4)%4)!==l);else f.point(o[0],o[1])}function a(e,i){return Go(e[0]-n)<1e-6?i>0?0:3:Go(e[0]-r)<1e-6?i>0?2:1:Go(e[1]-t)<1e-6?i>0?1:0:i>0?3:2}function u(n,t){return c(n.x,t.x)}function c(n,t){var r=a(n,1),e=a(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(a){var c,f,s,l,h,p,v,d,g,y,m,w=a,x=Pu(),E={point:b,lineStart:function(){E.point=_,f&&f.push(s=[]);y=!0,g=!1,v=d=NaN},lineEnd:function(){c&&(_(l,h),p&&g&&x.rejoin(),c.push(x.result()));E.point=b,g&&w.lineEnd()},polygonStart:function(){w=x,c=[],f=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,r=0,i=f.length;r<i;++r)for(var o,a,u=f[r],c=1,s=u.length,l=u[0],h=l[0],p=l[1];c<s;++c)o=h,a=p,h=(l=u[c])[0],p=l[1],a<=e?p>e&&(h-o)*(e-a)>(p-a)*(n-o)&&++t:p<=e&&(h-o)*(e-a)<(p-a)*(n-o)&&--t;return t}(),r=m&&t,i=(c=Me(c)).length;(r||i)&&(a.polygonStart(),r&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Ru(c,u,t,o,a),a.polygonEnd());w=a,c=f=s=null}};function b(n,t){i(n,t)&&w.point(n,t)}function _(o,a){var u=i(o,a);if(f&&s.push([o,a]),y)l=o,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(o,a));else if(u&&g)w.point(o,a);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],x=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(n,t,r,e,i,o){var a,u=n[0],c=n[1],f=0,s=1,l=t[0]-u,h=t[1]-c;if(a=r-u,l||!(a>0)){if(a/=l,l<0){if(a<f)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>f&&(f=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>f&&(f=a)}else if(l>0){if(a<f)return;a<s&&(s=a)}if(a=e-c,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>f&&(f=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<s&&(s=a)}return f>0&&(n[0]=u+f*l,n[1]=c+f*h),s<1&&(t[0]=u+s*l,t[1]=c+s*h),!0}}}}}(c,x,n,t,r,e)?u&&(w.lineStart(),w.point(o,a),m=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(x[0],x[1]),u||w.lineEnd(),m=!1)}v=o,d=a,g=u}return E}}function Hu(n,t){var r=n[0]*Vo,e=n[1]*Vo,i=t[0]*Vo,o=t[1]*Vo,a=Wo(e),u=Yo(e),c=Wo(o),f=Yo(o),s=a*Wo(r),l=a*Yo(r),h=c*Wo(i),p=c*Yo(i),v=2*Ko($o(Qo(o-e)+a*c*Qo(i-r))),d=Yo(v),g=v?function(n){var t=Yo(n*=v)/d,r=Yo(v-n)/d,e=r*s+t*h,i=r*l+t*p,o=r*u+t*f;return[Uo(i,e)*Fo,Uo(o,$o(e*e+i*i))*Fo]}:function(){return[r*Fo,e*Fo]};return g.distance=v,g}function Uu(n){return n}var Wu=1/0,Yu=Wu,Ju=-Wu,$u=Ju;var Xu={point:function(n,t){n<Wu&&(Wu=n);n>Ju&&(Ju=n);t<Yu&&(Yu=t);t>$u&&($u=t)},lineStart:Zo,lineEnd:Zo,polygonStart:Zo,polygonEnd:Zo,result:function(){var n=[[Wu,Yu],[Ju,$u]];return Ju=$u=-(Yu=Wu=1/0),n}};function Ku(n){return function(t){var r=new Qu;for(var e in n)r[e]=n[e];return r.stream=t,r}}function Qu(){}function Zu(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=e&&n.clipExtent(null),oa(r,n.stream(Xu)),t(Xu.result()),null!=e&&n.clipExtent(e),n}function nc(n,t,r){return Zu(n,(function(r){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(e/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),a=+t[0][0]+(e-o*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(i-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([a,u])}),r)}Qu.prototype={constructor:Qu,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var tc=Wo(30*Vo);function rc(n,t){return+t?function(n,t){function r(e,i,o,a,u,c,f,s,l,h,p,v,d,g){var y=f-e,m=s-i,w=y*y+m*m;if(w>4*t&&d--){var x=a+h,E=u+p,b=c+v,_=$o(x*x+E*E+b*b),S=Ko(b/=_),M=Go(Go(b)-1)<1e-6||Go(o-l)<1e-6?(o+l)/2:Uo(E,x),T=n(M,S),O=T[0],j=T[1],k=O-e,C=j-i,P=m*k-y*C;(P*P/w>t||Go((y*k+m*C)/w-.5)>.3||a*h+u*p+c*v<tc)&&(r(e,i,o,a,u,c,O,j,M,x/=_,E/=_,b,d,g),g.point(O,j),r(O,j,M,x,E,b,f,s,l,h,p,v,d,g))}}return function(t){var e,i,o,a,u,c,f,s,l,h,p,v,d={point:g,lineStart:y,lineEnd:w,polygonStart:function(){t.polygonStart(),d.lineStart=x},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(r,e){r=n(r,e),t.point(r[0],r[1])}function y(){s=NaN,d.point=m,t.lineStart()}function m(e,i){var o=wa([e,i]),a=n(e,i);r(s,l,f,h,p,v,s=a[0],l=a[1],f=e,h=o[0],p=o[1],v=o[2],16,t),t.point(s,l)}function w(){d.point=g,t.lineEnd()}function x(){y(),d.point=E,d.lineEnd=b}function E(n,t){m(e=n,t),i=s,o=l,a=h,u=p,c=v,d.point=m}function b(){r(s,l,f,h,p,v,i,o,e,a,u,c,16,t),d.lineEnd=w,w()}return d}}(n,t):function(n){return Ku({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}var ec=Ku({point:function(n,t){this.stream.point(n*Vo,t*Vo)}});function ic(n,t,r,e,i){function o(o,a){return[t+n*(o*=e),r-n*(a*=i)]}return o.invert=function(o,a){return[(o-t)/n*e,(r-a)/n*i]},o}function oc(n,t,r,e,i,o){var a=Wo(o),u=Yo(o),c=a*n,f=u*n,s=a/n,l=u/n,h=(u*r-a*t)/n,p=(u*t+a*r)/n;function v(n,o){return[c*(n*=e)-f*(o*=i)+t,r-f*n-c*o]}return v.invert=function(n,t){return[e*(s*n-l*t+h),i*(p-l*n-s*t)]},v}function ac(n){return uc((function(){return n}))()}function uc(n){var t,r,e,i,o,a,u,c,f,s,l=150,h=480,p=250,v=0,d=0,g=0,y=0,m=0,w=0,x=1,E=1,b=null,_=Fu,S=null,M=Uu,T=.5;function O(n){return c(n[0]*Vo,n[1]*Vo)}function j(n){return(n=c.invert(n[0],n[1]))&&[n[0]*Fo,n[1]*Fo]}function k(){var n=oc(l,0,0,x,E,w).apply(null,t(v,d)),e=(w?oc:ic)(l,h-n[0],p-n[1],x,E,w);return r=Su(g,y,m),u=bu(t,e),c=bu(r,u),a=rc(u,T),C()}function C(){return f=s=null,O}return O.stream=function(n){return f&&s===n?f:f=ec(function(n){return Ku({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}(r)(_(a(M(s=n)))))},O.preclip=function(n){return arguments.length?(_=n,b=void 0,C()):_},O.postclip=function(n){return arguments.length?(M=n,S=e=i=o=null,C()):M},O.clipAngle=function(n){return arguments.length?(_=+n?Vu(b=n*Vo):(b=null,Fu),C()):b*Fo},O.clipExtent=function(n){return arguments.length?(M=null==n?(S=e=i=o=null,Uu):Gu(S=+n[0][0],e=+n[0][1],i=+n[1][0],o=+n[1][1]),C()):null==S?null:[[S,e],[i,o]]},O.scale=function(n){return arguments.length?(l=+n,k()):l},O.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],k()):[h,p]},O.center=function(n){return arguments.length?(v=n[0]%360*Vo,d=n[1]%360*Vo,k()):[v*Fo,d*Fo]},O.rotate=function(n){return arguments.length?(g=n[0]%360*Vo,y=n[1]%360*Vo,m=n.length>2?n[2]%360*Vo:0,k()):[g*Fo,y*Fo,m*Fo]},O.angle=function(n){return arguments.length?(w=n%360*Vo,k()):w*Fo},O.reflectX=function(n){return arguments.length?(x=n?-1:1,k()):x<0},O.reflectY=function(n){return arguments.length?(E=n?-1:1,k()):E<0},O.precision=function(n){return arguments.length?(a=rc(u,T=n*n),C()):$o(T)},O.fitExtent=function(n,t){return nc(O,n,t)},O.fitSize=function(n,t){return function(n,t,r){return nc(n,[[0,0],t],r)}(O,n,t)},O.fitWidth=function(n,t){return function(n,t,r){return Zu(n,(function(r){var e=+t,i=e/(r[1][0]-r[0][0]),o=(e-i*(r[1][0]+r[0][0]))/2,a=-i*r[0][1];n.scale(150*i).translate([o,a])}),r)}(O,n,t)},O.fitHeight=function(n,t){return function(n,t,r){return Zu(n,(function(r){var e=+t,i=e/(r[1][1]-r[0][1]),o=-i*r[0][0],a=(e-i*(r[1][1]+r[0][1]))/2;n.scale(150*i).translate([o,a])}),r)}(O,n,t)},function(){return t=n.apply(this,arguments),O.invert=t.invert&&j,k()}}function cc(n){return function(t,r){var e=Wo(t),i=Wo(r),o=n(e*i);return[o*i*Yo(t),o*Yo(r)]}}function fc(n){return function(t,r){var e=$o(t*t+r*r),i=n(e),o=Yo(i),a=Wo(i);return[Uo(t*o,e*a),Ko(e&&r*o/e)]}}var sc=cc((function(n){return $o(2/(1+n))}));sc.invert=fc((function(n){return 2*Ko(n/2)}));var lc=cc((function(n){return(n=Xo(n))&&n/Yo(n)}));function hc(n,t){return[n,t]}function pc(n,t){var r=Wo(t),e=Wo(n)*r;return[r*Yo(n)/e,Yo(t)/e]}function vc(){return ac(pc).scale(144.049).clipAngle(60)}function dc(n,t){return[Wo(t)*Yo(n),Yo(t)]}function gc(){return ac(dc).scale(249.5).clipAngle(90.000001)}lc.invert=fc((function(n){return n})),hc.invert=hc,pc.invert=fc(Ho),dc.invert=fc(Ko);var yc=Math.abs,mc=Math.atan,wc=Math.atan2,xc=Math.cos,Ec=Math.exp,bc=Math.floor,_c=Math.log,Sc=Math.max,Mc=Math.min,Tc=Math.pow,Oc=Math.round,jc=Math.sign||function(n){return n>0?1:n<0?-1:0},kc=Math.sin,Cc=Math.tan,Pc=Math.PI,Ac=Pc/2,Nc=Pc/4,Rc=Math.SQRT1_2,Dc=Vc(2),Ic=Vc(Pc),qc=2*Pc,Lc=180/Pc,Bc=Pc/180;function zc(n){return n>1?Ac:n<-1?-Ac:Math.asin(n)}function Fc(n){return n>1?0:n<-1?Pc:Math.acos(n)}function Vc(n){return n>0?Math.sqrt(n):0}function Gc(n){return(Ec(n)-Ec(-n))/2}function Hc(n){return(Ec(n)+Ec(-n))/2}function Uc(n){var t=Cc(n/2),r=2*_c(xc(n/2))/(t*t);function e(n,t){var e=xc(n),i=xc(t),o=kc(t),a=i*e,u=-((1-a?_c((1+a)/2)/(1-a):-.5)+r/(1+a));return[u*i*kc(n),u*o]}return e.invert=function(t,e){var i,o=Vc(t*t+e*e),a=-n/2,u=50;if(!o)return[0,0];do{var c=a/2,f=xc(c),s=kc(c),l=Cc(c),h=_c(1/f);a-=i=(2/l*h-r*l-o)/(-h/(s*s)+1-r/(2*f*f))}while(yc(i)>1e-6&&--u>0);var p=kc(a);return[wc(t*p,o*xc(a)),zc(e*p/o)]},e}function Wc(n,t){var r=xc(t),e=function(n){return n?n/Math.sin(n):1}(Fc(r*xc(n/=2)));return[2*r*kc(n)*e,kc(t)*e]}function Yc(n){var t=kc(n),r=xc(n),e=n>=0?1:-1,i=Cc(e*n),o=(1+t-r)/2;function a(n,a){var u=xc(a),c=xc(n/=2);return[(1+u)*kc(n),(e*a>-wc(c,i)-.001?0:10*-e)+o+kc(a)*r-(1+u)*t*c]}return a.invert=function(n,a){var u=0,c=0,f=50;do{var s=xc(u),l=kc(u),h=xc(c),p=kc(c),v=1+h,d=v*l-n,g=o+p*r-v*t*s-a,y=v*s/2,m=-l*p,w=t*v*l/2,x=r*h+t*s*p,E=m*w-x*y,b=(g*m-d*x)/E/2,_=(d*w-g*y)/E;u-=b,c-=_}while((yc(b)>1e-6||yc(_)>1e-6)&&--f>0);return e*c>-wc(xc(u),i)-.001?[2*u,c]:null},a}function Jc(n,t){var r=Cc(t/2),e=Vc(1-r*r),i=1+e*xc(n/=2),o=kc(n)*e/i,a=r/i,u=o*o,c=a*a;return[4/3*o*(3+u-3*c),4/3*a*(3+3*u-c)]}Wc.invert=function(n,t){if(!(n*n+4*t*t>Pc*Pc+1e-6)){var r=n,e=t,i=25;do{var o,a=kc(r),u=kc(r/2),c=xc(r/2),f=kc(e),s=xc(e),l=kc(2*e),h=f*f,p=s*s,v=u*u,d=1-p*c*c,g=d?Fc(s*c)*Vc(o=1/d):o=0,y=2*g*s*u-n,m=g*f-t,w=o*(p*v+g*s*c*h),x=o*(.5*a*l-2*g*f*u),E=.25*o*(l*u-g*f*p*a),b=o*(h*c+g*v*s),_=x*E-b*w;if(!_)break;var S=(m*x-y*b)/_,M=(y*E-m*w)/_;r-=S,e-=M}while((yc(S)>1e-6||yc(M)>1e-6)&&--i>0);return[r,e]}},Jc.invert=function(n,t){if(t*=3/8,!(n*=3/8)&&yc(t)>1)return null;var r=1+n*n+t*t,e=Vc((r-Vc(r*r-4*t*t))/2),i=zc(e)/3,o=e?function(n){return _c(n+Vc(n*n-1))}(yc(t/e))/3:function(n){return _c(n+Vc(n*n+1))}(yc(n))/3,a=xc(i),u=Hc(o),c=u*u-a*a;return[2*jc(n)*wc(Gc(o)*a,.25-c),2*jc(t)*wc(u*kc(i),.25+c)]};var $c=Vc(8),Xc=_c(1+Dc);function Kc(n,t){var r=yc(t);return r<Nc?[n,_c(Cc(Nc+t/2))]:[n*xc(r)*(2*Dc-1/kc(r)),jc(t)*(2*Dc*(r-Nc)-_c(Cc(r/2)))]}function Qc(n){var t=2*Pc/n;function r(n,r){var e=lc(n,r);if(yc(n)>Ac){var i=wc(e[1],e[0]),o=Vc(e[0]*e[0]+e[1]*e[1]),a=t*Oc((i-Ac)/t)+Ac,u=wc(kc(i-=a),2-xc(i));i=a+zc(Pc/o*kc(u))-u,e[0]=o*xc(i),e[1]=o*kc(i)}return e}return r.invert=function(n,r){var e=Vc(n*n+r*r);if(e>Ac){var i=wc(r,n),o=t*Oc((i-Ac)/t)+Ac,a=i>o?-1:1,u=e*xc(o-i),c=1/Cc(a*Fc((u-Pc)/Vc(Pc*(Pc-2*u)+e*e)));i=o+2*mc((c+a*Vc(c*c-3))/3),n=e*xc(i),r=e*kc(i)}return lc.invert(n,r)},r}function Zc(n,t){var r,e=n*kc(t),i=30;do{t-=r=(t+kc(t)-e)/(1+xc(t))}while(yc(r)>1e-6&&--i>0);return t/2}function nf(n,t,r){function e(e,i){return[n*e*xc(i=Zc(r,i)),t*kc(i)]}return e.invert=function(e,i){return i=zc(i/t),[e/(n*xc(i)),zc((2*i+kc(2*i))/r)]},e}Kc.invert=function(n,t){if((e=yc(t))<Xc)return[n,2*mc(Ec(t))-Ac];var r,e,i=Nc,o=25;do{var a=xc(i/2),u=Cc(i/2);i-=r=($c*(i-Nc)-_c(u)-e)/($c-a*a/(2*u))}while(yc(r)>1e-12&&--o>0);return[n/(xc(i)*($c-1/kc(i))),jc(t)*i]};var tf=nf(Dc/Ac,Dc,Pc);var rf=2.00276,ef=1.11072;function of(n,t){var r=Zc(Pc,t);return[rf*n/(1/xc(t)+ef/xc(r)),(t+Dc*kc(r))/rf]}function af(n){var t=0,r=uc(n),e=r(t);return e.parallel=function(n){return arguments.length?r(t=n*Bc):t*Lc},e}function uf(n,t){return[n*xc(t),t]}function cf(n){if(!n)return uf;var t=1/Cc(n);function r(r,e){var i=t+n-e,o=i?r*xc(e)/i:i;return[i*kc(o),t-i*xc(o)]}return r.invert=function(r,e){var i=Vc(r*r+(e=t-e)*e),o=t+n-i;return[i/xc(o)*wc(r,e),o]},r}function ff(n){function t(t,r){var e=Ac-r,i=e?t*n*kc(e)/e:e;return[e*kc(i)/n,Ac-e*xc(i)]}return t.invert=function(t,r){var e=t*n,i=Ac-r,o=Vc(e*e+i*i),a=wc(e,i);return[(o?o/kc(o):1)*a/n,Ac-o]},t}of.invert=function(n,t){var r,e,i=rf*t,o=t<0?-Nc:Nc,a=25;do{e=i-Dc*kc(o),o-=r=(kc(2*o)+2*o-Pc*kc(e))/(2*xc(2*o)+2+Pc*xc(e)*Dc*xc(o))}while(yc(r)>1e-6&&--a>0);return e=i-Dc*kc(o),[n*(1/xc(e)+ef/xc(o))/rf,e]},uf.invert=function(n,t){return[n/xc(t),t]};var sf=nf(1,4/Pc,Pc);function lf(n,t,r,e,i,o){var a,u=xc(o);if(yc(n)>1||yc(o)>1)a=Fc(r*i+t*e*u);else{var c=kc(n/2),f=kc(o/2);a=2*zc(Vc(c*c+t*e*f*f))}return yc(a)>1e-6?[a,wc(e*kc(o),t*i-r*e*u)]:[0,0]}function hf(n,t,r){return Fc((n*n+t*t-r*r)/(2*n*t))}function pf(n){return n-2*Pc*bc((n+Pc)/(2*Pc))}function vf(n,t,r){for(var e,i=[[n[0],n[1],kc(n[1]),xc(n[1])],[t[0],t[1],kc(t[1]),xc(t[1])],[r[0],r[1],kc(r[1]),xc(r[1])]],o=i[2],a=0;a<3;++a,o=e)e=i[a],o.v=lf(e[1]-o[1],o[3],o[2],e[3],e[2],e[0]-o[0]),o.point=[0,0];var u=hf(i[0].v[0],i[2].v[0],i[1].v[0]),c=hf(i[0].v[0],i[1].v[0],i[2].v[0]),f=Pc-u;i[2].point[1]=0,i[0].point[0]=-(i[1].point[0]=i[0].v[0]/2);var s=[i[2].point[0]=i[0].point[0]+i[2].v[0]*xc(u),2*(i[0].point[1]=i[1].point[1]=i[2].v[0]*kc(u))];return function(n,t){var r,e=kc(t),o=xc(t),a=new Array(3);for(r=0;r<3;++r){var u=i[r];if(a[r]=lf(t-u[1],u[3],u[2],o,e,n-u[0]),!a[r][0])return u.point;a[r][1]=pf(a[r][1]-u.v[1])}var l=s.slice();for(r=0;r<3;++r){var h=2==r?0:r+1,p=hf(i[r].v[0],a[r][0],a[h][0]);a[r][1]<0&&(p=-p),r?1==r?(p=c-p,l[0]-=a[r][0]*xc(p),l[1]-=a[r][0]*kc(p)):(p=f-p,l[0]+=a[r][0]*xc(p),l[1]+=a[r][0]*kc(p)):(l[0]+=a[r][0]*xc(p),l[1]-=a[r][0]*kc(p))}return l[0]/=3,l[1]/=3,l}}function df(n){return n[0]*=Bc,n[1]*=Bc,n}function gf(n,t,r){var e=xu({type:"MultiPoint",coordinates:[n,t,r]}),i=[-e[0],-e[1]],o=ju(i),a=ac(vf(df(o(n)),df(o(t)),df(o(r)))).rotate(i),u=a.center;return delete a.rotate,a.center=function(n){return arguments.length?u(o(n)):o.invert(u())},a.clipAngle(90)}function yf(n,t){var r=Vc(1-kc(t));return[2/Ic*n*r,Ic*(1-r)]}function mf(n){var t=Cc(n);function r(n,r){return[n,(n?n/kc(n):1)*(kc(r)*xc(n)-t*xc(r))]}return r.invert=t?function(n,r){n&&(r*=kc(n)/n);var e=xc(n);return[n,2*wc(Vc(e*e+t*t-r*r)-e,t-r)]}:function(n,t){return[n,zc(n?t*Cc(n)/n:t)]},r}yf.invert=function(n,t){var r=(r=t/Ic-1)*r;return[r>0?n*Vc(Pc/r)/2:0,zc(1-r)]};var wf=Vc(3);function xf(n,t){return[wf*n*(2*xc(2*t/3)-1)/Ic,wf*Ic*kc(t/3)]}function Ef(n){var t=xc(n);function r(n,r){return[n*t,kc(r)/t]}return r.invert=function(n,r){return[n/t,zc(r*t)]},r}function bf(n){var t=xc(n);function r(n,r){return[n*t,(1+t)*Cc(r/2)]}return r.invert=function(n,r){return[n/t,2*mc(r/(1+t))]},r}function _f(n,t){var r=Vc(8/(3*Pc));return[r*n*(1-yc(t)/Pc),r*t]}function Sf(n,t){var r=Vc(4-3*kc(yc(t)));return[2/Vc(6*Pc)*n*r,jc(t)*Vc(2*Pc/3)*(2-r)]}function Mf(n,t){var r=Vc(Pc*(4+Pc));return[2/r*n*(1+Vc(1-4*t*t/(Pc*Pc))),4/r*t]}function Tf(n,t){var r=(2+Ac)*kc(t);t/=2;for(var e=0,i=1/0;e<10&&yc(i)>1e-6;e++){var o=xc(t);t-=i=(t+kc(t)*(o+2)-r)/(2*o*(1+o))}return[2/Vc(Pc*(4+Pc))*n*(1+xc(t)),2*Vc(Pc/(4+Pc))*kc(t)]}function Of(n,t){return[n*(1+xc(t))/Vc(2+Pc),2*t/Vc(2+Pc)]}function jf(n,t){for(var r=(1+Ac)*kc(t),e=0,i=1/0;e<10&&yc(i)>1e-6;e++)t-=i=(t+kc(t)-r)/(1+xc(t));return r=Vc(2+Pc),[n*(1+xc(t))/r,2*t/r]}xf.invert=function(n,t){var r=3*zc(t/(wf*Ic));return[Ic*n/(wf*(2*xc(2*r/3)-1)),r]},_f.invert=function(n,t){var r=Vc(8/(3*Pc)),e=t/r;return[n/(r*(1-yc(e)/Pc)),e]},Sf.invert=function(n,t){var r=2-yc(t)/Vc(2*Pc/3);return[n*Vc(6*Pc)/(2*r),jc(t)*zc((4-r*r)/3)]},Mf.invert=function(n,t){var r=Vc(Pc*(4+Pc))/2;return[n*r/(1+Vc(1-t*t*(4+Pc)/(4*Pc))),t*r/2]},Tf.invert=function(n,t){var r=t*Vc((4+Pc)/Pc)/2,e=zc(r),i=xc(e);return[n/(2/Vc(Pc*(4+Pc))*(1+i)),zc((e+r*(i+2))/(2+Ac))]},Of.invert=function(n,t){var r=Vc(2+Pc),e=t*r/2;return[r*n/(1+xc(e)),e]},jf.invert=function(n,t){var r=1+Ac,e=Vc(r/2);return[2*n*e/(1+xc(t*=e)),zc((t+kc(t))/r)]};var kf=3+2*Dc;function Cf(n,t){var r=kc(n/=2),e=xc(n),i=Vc(xc(t)),o=xc(t/=2),a=kc(t)/(o+Dc*e*i),u=Vc(2/(1+a*a)),c=Vc((Dc*o+(e+r)*i)/(Dc*o+(e-r)*i));return[kf*(u*(c-1/c)-2*_c(c)),kf*(u*a*(c+1/c)-2*mc(a))]}Cf.invert=function(n,t){if(!(r=Jc.invert(n/1.2,1.065*t)))return null;var r,e=r[0],i=r[1],o=20;n/=kf,t/=kf;do{var a=e/2,u=i/2,c=kc(a),f=xc(a),s=kc(u),l=xc(u),h=xc(i),p=Vc(h),v=s/(l+Dc*f*p),d=v*v,g=Vc(2/(1+d)),y=(Dc*l+(f+c)*p)/(Dc*l+(f-c)*p),m=Vc(y),w=m-1/m,x=m+1/m,E=g*w-2*_c(m)-n,b=g*v*x-2*mc(v)-t,_=s&&Rc*p*c*d/s,S=(Dc*f*l+p)/(2*(l+Dc*f*p)*(l+Dc*f*p)*p),M=-.5*v*g*g*g,T=M*_,O=M*S,j=(j=2*l+Dc*p*(f-c))*j*m,k=(Dc*f*l*p+h)/j,C=-Dc*c*s/(p*j),P=w*T-2*k/m+g*(k+k/y),A=w*O-2*C/m+g*(C+C/y),N=v*x*T-2*_/(1+d)+g*x*_+g*v*(k-k/y),R=v*x*O-2*S/(1+d)+g*x*S+g*v*(C-C/y),D=A*N-R*P;if(!D)break;var I=(b*A-E*R)/D,q=(E*N-b*P)/D;e-=I,i=Sc(-Ac,Mc(Ac,i-q))}while((yc(I)>1e-6||yc(q)>1e-6)&&--o>0);return yc(yc(i)-Ac)<1e-6?[0,i]:o&&[e,i]};var Pf=xc(35*Bc);function Af(n,t){var r=Cc(t/2);return[n*Pf*Vc(1-r*r),(1+Pf)*r]}function Nf(n,t){var r=t/2,e=xc(r);return[2*n/Ic*xc(t)*e*e,Ic*Cc(r)]}function Rf(n){return[n[0]/2,zc(Cc(n[1]/2*Bc))*Lc]}function Df(n){return[2*n[0],2*mc(kc(n[1]*Bc))*Lc]}function If(n,t){var r=2*Pc/t,e=n*n;function i(t,i){var o=lc(t,i),a=o[0],u=o[1],c=a*a+u*u;if(c>e){var f=Vc(c),s=wc(u,a),l=r*Oc(s/r),h=s-l,p=n*xc(h),v=(n*kc(h)-h*kc(p))/(Ac-p),d=qf(h,v),g=(Pc-n)/Lf(d,p,Pc);a=f;var y,m=50;do{a-=y=(n+Lf(d,p,a)*g-f)/(d(a)*g)}while(yc(y)>1e-6&&--m>0);u=h*kc(a),a<Ac&&(u-=v*(a-Ac));var w=kc(l),x=xc(l);o[0]=a*x-u*w,o[1]=a*w+u*x}return o}return i.invert=function(t,i){var o=t*t+i*i;if(o>e){var a=Vc(o),u=wc(i,t),c=r*Oc(u/r),f=u-c;t=a*xc(f),i=a*kc(f);for(var s=t-Ac,l=kc(t),h=i/l,p=t<Ac?1/0:0,v=10;;){var d=n*kc(h),g=n*xc(h),y=kc(g),m=Ac-g,w=(d-h*y)/m,x=qf(h,w);if(yc(p)<1e-12||!--v)break;h-=p=(h*l-w*s-i)/(l-2*s*(m*(g+h*d*xc(g)-y)-d*(d-h*y))/(m*m))}t=(a=n+Lf(x,g,t)*(Pc-n)/Lf(x,g,Pc))*xc(u=c+h),i=a*kc(u)}return lc.invert(t,i)},i}function qf(n,t){return function(r){var e=n*xc(r);return r<Ac&&(e-=t),Vc(1+e*e)}}function Lf(n,t,r){for(var e=(r-t)/50,i=n(t)+n(r),o=1,a=t;o<50;++o)i+=2*n(a+=e);return.5*i*e}function Bf(n,t,r,e,i,o,a,u){function c(c,f){if(!f)return[n*c/Pc,0];var s=f*f,l=n+s*(t+s*(r+s*e)),h=f*(i-1+s*(o-u+s*a)),p=(l*l+h*h)/(2*h),v=c*zc(l/p)/Pc;return[p*kc(v),f*(1+s*u)+p*(1-xc(v))]}return arguments.length<8&&(u=0),c.invert=function(c,f){var s,l,h=Pc*c/n,p=f,v=50;do{var d=p*p,g=n+d*(t+d*(r+d*e)),y=p*(i-1+d*(o-u+d*a)),m=g*g+y*y,w=2*y,x=m/w,E=x*x,b=zc(g/x)/Pc,_=h*b,S=g*g,M=(2*t+d*(4*r+6*d*e))*p,T=i+d*(3*o+5*d*a),O=(2*(g*M+y*(T-1))*w-m*(2*(T-1)))/(w*w),j=xc(_),k=kc(_),C=x*j,P=x*k,A=h/Pc*(1/Vc(1-S/E))*(M*x-g*O)/E,N=P-c,R=p*(1+d*u)+x-C-f,D=O*k+C*A,I=C*b,q=1+O-(O*j-P*A),L=P*b,B=D*L-q*I;if(!B)break;h-=s=(R*D-N*q)/B,p-=l=(N*L-R*I)/B}while((yc(s)>1e-6||yc(l)>1e-6)&&--v>0);return[h,p]},c}Af.invert=function(n,t){var r=t/(1+Pf);return[n&&n/(Pf*Vc(1-r*r)),2*mc(r)]},Nf.invert=function(n,t){var r=mc(t/Ic),e=xc(r),i=2*r;return[n*Ic/2/(xc(i)*e*e),i]};var zf=Bf(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var Ff=Bf(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var Vf=Bf(5/6*Pc,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Gf(n,t){var r=n*n,e=t*t;return[n*(1-.162388*e)*(.87-952426e-9*r*r),t*(1+e/12)]}Gf.invert=function(n,t){var r,e=n,i=t,o=50;do{var a=i*i;i-=r=(i*(1+a/12)-t)/(1+a/4)}while(yc(r)>1e-6&&--o>0);o=50,n/=1-.162388*a;do{var u=(u=e*e)*u;e-=r=(e*(.87-952426e-9*u)-n)/(.87-.00476213*u)}while(yc(r)>1e-6&&--o>0);return[e,i]};var Hf=Bf(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Uf(n){var t=n(Ac,0)[0]-n(-Ac,0)[0];function r(r,e){var i=r>0?-.5:.5,o=n(r+i*Pc,e);return o[0]-=i*t,o}return n.invert&&(r.invert=function(r,e){var i=r>0?-.5:.5,o=n.invert(r+i*t,e),a=o[0]-i*Pc;return a<-Pc?a+=2*Pc:a>Pc&&(a-=2*Pc),o[0]=a,o}),r}function Wf(n,t){var r=jc(n),e=jc(t),i=xc(t),o=xc(n)*i,a=kc(n)*i,u=kc(e*t);n=yc(wc(a,u)),t=zc(o),yc(n-Ac)>1e-6&&(n%=Ac);var c=function(n,t){if(t===Ac)return[0,0];var r,e,i=kc(t),o=i*i,a=o*o,u=1+a,c=1+3*a,f=1-a,s=zc(1/Vc(u)),l=f+o*u*s,h=(1-i)/l,p=Vc(h),v=h*u,d=Vc(v),g=p*f;if(0===n)return[0,-(g+o*d)];var y,m=xc(t),w=1/m,x=2*i*m,E=(-l*m-(-3*o+s*c)*x*(1-i))/(l*l),b=-w*x,_=-w*(o*u*E+h*c*x),S=-2*w*(f*(.5*E/p)-2*o*p*x),M=4*n/Pc;if(n>.222*Pc||t<Pc/4&&n>.175*Pc){if(r=(g+o*Vc(v*(1+a)-g*g))/(1+a),n>Pc/4)return[r,r];var T=r,O=.5*r;r=.5*(O+T),e=50;do{var j=r*(S+b*Vc(v-r*r))+_*zc(r/d)-M;if(!j)break;j<0?O=r:T=r,r=.5*(O+T)}while(yc(T-O)>1e-6&&--e>0)}else{r=1e-6,e=25;do{var k=r*r,C=Vc(v-k),P=S+b*C,A=r*P+_*zc(r/d)-M;r-=y=C?A/(P+(_-b*k)/C):0}while(yc(y)>1e-6&&--e>0)}return[r,-g-o*Vc(v-r*r)]}(n>Pc/4?Ac-n:n,t);return n>Pc/4&&(u=c[0],c[0]=-c[1],c[1]=-u),c[0]*=r,c[1]*=-e,c}function Yf(n,t){var r,e,i,o,a,u;if(t<1e-6)return[(o=kc(n))-(r=t*(n-o*(e=xc(n)))/4)*e,e+r*o,1-t*o*o/2,n-r];if(t>=.999999)return r=(1-t)/4,i=1/(e=Hc(n)),[(o=((u=Ec(2*(u=n)))-1)/(u+1))+r*((a=e*Gc(n))-n)/(e*e),i-r*o*i*(a-n),i+r*o*i*(a+n),2*mc(Ec(n))-Ac+r*(a-n)/e];var c=[1,0,0,0,0,0,0,0,0],f=[Vc(t),0,0,0,0,0,0,0,0],s=0;for(e=Vc(1-t),a=1;yc(f[s]/c[s])>1e-6&&s<8;)r=c[s++],f[s]=(r-e)/2,c[s]=(r+e)/2,e=Vc(r*e),a*=2;i=a*c[s]*n;do{i=(zc(o=f[s]*kc(e=i)/c[s])+i)/2}while(--s);return[kc(i),o=xc(i),o/xc(i-e),i]}function Jf(n,t){if(!t)return n;if(1===t)return _c(Cc(n/2+Nc));for(var r=1,e=Vc(1-t),i=Vc(t),o=0;yc(i)>1e-6;o++){if(n%Pc){var a=mc(e*Cc(n)/r);a<0&&(a+=Pc),n+=a+~~(n/Pc)*Pc}else n+=n;i=(r+e)/2,e=Vc(r*e),i=((r=i)-e)/2}return n/(Tc(2,o)*r)}function $f(n,t){var r=(Dc-1)/(Dc+1),e=Vc(1-r*r),i=Jf(Ac,e*e),o=_c(Cc(Pc/4+yc(t)/2)),a=Ec(-1*o)/Vc(r),u=function(n,t){var r=n*n,e=t+1,i=1-r-t*t;return[.5*((n>=0?Ac:-Ac)-wc(i,2*n)),-.25*_c(i*i+4*r)+.5*_c(e*e+r)]}(a*xc(-1*n),a*kc(-1*n)),c=function(n,t,r){var e=yc(n),i=Gc(yc(t));if(e){var o=1/kc(e),a=1/(Cc(e)*Cc(e)),u=-(a+r*(i*i*o*o)-1+r),c=(-u+Vc(u*u-(r-1)*a*4))/2;return[Jf(mc(1/Vc(c)),r)*jc(n),Jf(mc(Vc((c/a-1)/r)),1-r)*jc(t)]}return[0,Jf(mc(i),1-r)*jc(t)]}(u[0],u[1],e*e);return[-c[1],(t>=0?1:-1)*(.5*i-c[0])]}function Xf(n,t){if(arguments.length<2&&(t=n),1===t)return sc;if(t===1/0)return Kf;function r(r,e){var i=sc(r/t,e);return i[0]*=n,i}return r.invert=function(r,e){var i=sc.invert(r/n,e);return i[0]*=t,i},r}function Kf(n,t){return[n*xc(t)/xc(t/=2),2*kc(t)]}function Qf(n){var t=kc(n),r=xc(n),e=Zf(n);function i(n,i){var o=e(n,i);n=o[0],i=o[1];var a=kc(i),u=xc(i),c=xc(n),f=Fc(t*a+r*u*c),s=kc(f),l=yc(s)>1e-6?f/s:1;return[l*r*kc(n),(yc(n)>Ac?l:-l)*(t*u-r*a*c)]}return e.invert=Zf(-n),i.invert=function(n,r){var i=Vc(n*n+r*r),o=-kc(i),a=xc(i),u=i*a,c=-r*o,f=i*t,s=Vc(u*u+c*c-f*f),l=wc(u*f+c*s,c*f-u*s),h=(i>Ac?-1:1)*wc(n*o,i*xc(l)*a+r*kc(l)*o);return e.invert(h,l)},i}function Zf(n){var t=kc(n),r=xc(n);return function(n,e){var i=xc(e),o=xc(n)*i,a=kc(n)*i,u=kc(e);return[wc(a,o*r-u*t),zc(u*r+o*t)]}}Wf.invert=function(n,t){yc(n)>1&&(n=2*jc(n)-n),yc(t)>1&&(t=2*jc(t)-t);var r=jc(n),e=jc(t),i=-r*n,o=-e*t,a=o/i<1,u=function(n,t){var r=0,e=1,i=.5,o=50;for(;;){var a=i*i,u=Vc(i),c=zc(1/Vc(1+a)),f=1-a+i*(1+a)*c,s=(1-u)/f,l=Vc(s),h=s*(1+a),p=l*(1-a),v=Vc(h-n*n),d=t+p+i*v;if(yc(e-r)<1e-12||0==--o||0===d)break;d>0?r=i:e=i,i=.5*(r+e)}if(!o)return null;var g=zc(u),y=xc(g),m=1/y,w=2*u*y,x=(-f*y-(-3*i+c*(1+3*a))*w*(1-u))/(f*f);return[Pc/4*(n*(-2*m*(.5*x/l*(1-a)-2*i*l*w)+-m*w*v)+-m*(i*(1+a)*x+s*(1+3*a)*w)*zc(n/Vc(h))),g]}(a?o:i,a?i:o),c=u[0],f=u[1],s=xc(f);return a&&(c=-Ac-c),[r*(wc(kc(c)*s,-kc(f))+Pc),e*zc(xc(c)*s)]},$f.invert=function(n,t){var r,e,i,o,a,u,c=(Dc-1)/(Dc+1),f=Vc(1-c*c),s=Jf(Ac,f*f),l=(e=-n,i=f*f,(r=.5*s-t)?(o=Yf(r,i),e?(u=(a=Yf(e,1-i))[1]*a[1]+i*o[0]*o[0]*a[0]*a[0],[[o[0]*a[2]/u,o[1]*o[2]*a[0]*a[1]/u],[o[1]*a[1]/u,-o[0]*o[2]*a[0]*a[2]/u],[o[2]*a[1]*a[2]/u,-i*o[0]*o[1]*a[0]/u]]):[[o[0],0],[o[1],0],[o[2],0]]):[[0,(a=Yf(e,1-i))[0]/a[1]],[1/a[1],0],[a[2]/a[1],0]]),h=function(n,t){var r=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/r,(n[1]*t[0]-n[0]*t[1])/r]}(l[0],l[1]);return[wc(h[1],h[0])/-1,2*mc(Ec(-.5*_c(c*h[0]*h[0]+c*h[1]*h[1])))-Ac]},Kf.invert=function(n,t){var r=2*zc(t/2);return[n*xc(r/2)/xc(r),r]};var ns=Ef(0);function ts(n){var t=42.343611111111116*Bc,r=yf(Pc,t)[0]-yf(-Pc,t)[0],e=ns(0,t)[1],i=yf(0,t)[1],o=Ic-i,a=qc/n,u=4/qc,c=e+o*o*4/qc;function f(f,s){var l,h=yc(s);if(h>t){var p=Mc(n-1,Sc(0,bc((f+Pc)/a)));(l=yf(f+=Pc*(n-1)/n-p*a,h))[0]=l[0]*qc/r-qc*(n-1)/(2*n)+p*qc/n,l[1]=e+4*(l[1]-i)*o/qc,s<0&&(l[1]=-l[1])}else l=ns(f,s);return l[0]*=u,l[1]/=c,l}return f.invert=function(t,f){t/=u;var s=yc(f*=c);if(s>e){var l=Mc(n-1,Sc(0,bc((t+Pc)/a)));t=(t+Pc*(n-1)/n-l*a)*r/qc;var h=yf.invert(t,.25*(s-e)*qc/o+i);return h[0]-=Pc*(n-1)/n-l*a,f<0&&(h[1]=-h[1]),h}return ns.invert(t,f)},f}function rs(n){var t,r=1+n,e=zc(kc(1/r)),i=2*Vc(Pc/(t=Pc+4*e*r)),o=.5*i*(r+Vc(n*(2+n))),a=n*n,u=r*r;function c(c,f){var s,l,h=1-kc(f);if(h&&h<2){var p,v=Ac-f,d=25;do{var g=kc(v),y=xc(v),m=e+wc(g,r-y),w=1+u-2*r*y;v-=p=(v-a*e-r*g+w*m-.5*h*t)/(2*r*g*m)}while(yc(p)>1e-12&&--d>0);s=i*Vc(w),l=c*m/Pc}else s=i*(n+h),l=c*e/Pc;return[s*kc(l),o-s*xc(l)]}return c.invert=function(n,c){var f=n*n+(c-=o)*c,s=(1+u-f/(i*i))/(2*r),l=Fc(s),h=kc(l),p=e+wc(h,r-s);return[zc(n/Vc(f))*Pc/p,zc(1-2*(l-a*e-r*h+(1+u-2*r*s)*p)/t)]},c}function es(n,t){return t>-.7109889596207567?((n=tf(n,t))[1]+=.0528035274542,n):uf(n,t)}function is(n,t){return yc(t)>.7109889596207567?((n=tf(n,t))[1]-=t>0?.0528035274542:-.0528035274542,n):uf(n,t)}function os(n,t){return yc(n[0]-t[0])<1e-6&&yc(n[1]-t[1])<1e-6}function as(n,t){for(var r,e,i,o=-1,a=n.length,u=n[0],c=[];++o<a;){e=((r=n[o])[0]-u[0])/t,i=(r[1]-u[1])/t;for(var f=0;f<t;++f)c.push([u[0]+f*e,u[1]+f*i]);u=r}return c.push(r),c}function us(n,t){var r=function(n){var t,r,e,i,o,a,u,c=[],f=n[0].length;for(u=0;u<f;++u)r=(t=n[0][u])[0][0],e=t[0][1],i=t[1][1],o=t[2][0],a=t[2][1],c.push(as([[r+1e-6,e+1e-6],[r+1e-6,i-1e-6],[o-1e-6,i-1e-6],[o-1e-6,a+1e-6]],30));for(u=n[1].length-1;u>=0;--u)r=(t=n[1][u])[0][0],e=t[0][1],i=t[1][1],o=t[2][0],a=t[2][1],c.push(as([[o-1e-6,a-1e-6],[o-1e-6,i+1e-6],[r+1e-6,i+1e-6],[r+1e-6,e-1e-6]],30));return{type:"Polygon",coordinates:[Me(c)]}}(t),e=(t=t.map((function(n){return n.map((function(n){return[[n[0][0]*Bc,n[0][1]*Bc],[n[1][0]*Bc,n[1][1]*Bc],[n[2][0]*Bc,n[2][1]*Bc]]}))}))).map((function(t){return t.map((function(t){var r,e=n(t[0][0],t[0][1])[0],i=n(t[2][0],t[2][1])[0],o=n(t[1][0],t[0][1])[1],a=n(t[1][0],t[1][1])[1];return o>a&&(r=o,o=a,a=r),[[e,o],[i,a]]}))}));function i(r,e){for(var i=e<0?-1:1,o=t[+(e<0)],a=0,u=o.length-1;a<u&&r>o[a][2][0];++a);var c=n(r-o[a][1][0],e);return c[0]+=n(o[a][1][0],i*e>i*o[a][0][1]?o[a][0][1]:e)[0],c}n.invert&&(i.invert=function(r,o){for(var a=e[+(o<0)],u=t[+(o<0)],c=0,f=a.length;c<f;++c){var s=a[c];if(s[0][0]<=r&&r<s[1][0]&&s[0][1]<=o&&o<s[1][1]){var l=n.invert(r-n(u[c][1][0],0)[0],o);return l[0]+=u[c][1][0],os(i(l[0],l[1]),[r,o])?l:null}}});var o=ac(i),a=o.stream;return o.stream=function(n){var t=o.rotate(),e=a(n),i=(o.rotate([0,0]),a(n));return o.rotate(t),e.sphere=function(){oa(r,i)},e},o}es.invert=function(n,t){return t>-.7109889596207567?tf.invert(n,t-.0528035274542):uf.invert(n,t)},is.invert=function(n,t){return yc(t)>.7109889596207567?tf.invert(n,t+(t>0?.0528035274542:-.0528035274542)):uf.invert(n,t)};var cs=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var fs=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ss=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ls=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];var hs=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];var ps=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function vs(n,t){return[3/qc*n*Vc(Pc*Pc/3-t*t),t]}function ds(n){function t(t,r){if(yc(yc(r)-Ac)<1e-6)return[0,r<0?-2:2];var e=kc(r),i=Tc((1+e)/(1-e),n/2),o=.5*(i+1/i)+xc(t*=n);return[2*kc(t)/o,(i-1/i)/o]}return t.invert=function(t,r){var e=yc(r);if(yc(e-2)<1e-6)return t?null:[0,jc(r)*Ac];if(e>2)return null;var i=(t/=2)*t,o=(r/=2)*r,a=2*r/(1+i+o);return a=Tc((1+a)/(1-a),1/n),[wc(2*t,1-i-o)/n,zc((a-1)/(a+1))]},t}vs.invert=function(n,t){return[qc/3*n/Vc(Pc*Pc/3-t*t),t]};var gs=Pc/Dc;function ys(n,t){return[n*(1+Vc(xc(t)))/2,t/(xc(t/2)*xc(n/6))]}function ms(n,t){var r=n*n,e=t*t;return[n*(.975534+e*(-.0143059*r-.119161+-.0547009*e)),t*(1.00384+r*(.0802894+-.02855*e+199025e-9*r)+e*(.0998909+-.0491032*e))]}function ws(n,t){return[kc(n)/xc(t),Cc(t)*xc(n)]}function xs(n){var t=xc(n),r=Cc(Nc+n/2);function e(e,i){var o=i-n,a=yc(o)<1e-6?e*t:yc(a=Nc+i/2)<1e-6||yc(yc(a)-Ac)<1e-6?0:e*o/_c(Cc(a)/r);return[a,o]}return e.invert=function(e,i){var o,a=i+n;return[yc(i)<1e-6?e/t:yc(o=Nc+a/2)<1e-6||yc(yc(o)-Ac)<1e-6?0:e*_c(Cc(o)/r)/i,a]},e}function Es(n,t){return[n,1.25*_c(Cc(Nc+.4*t))]}function bs(n){var t=n.length-1;function r(r,e){for(var i,o=xc(e),a=2/(1+o*xc(r)),u=a*o*kc(r),c=a*kc(e),f=t,s=n[f],l=s[0],h=s[1];--f>=0;)l=(s=n[f])[0]+u*(i=l)-c*h,h=s[1]+u*h+c*i;return[l=u*(i=l)-c*h,h=u*h+c*i]}return r.invert=function(r,e){var i=20,o=r,a=e;do{for(var u,c=t,f=n[c],s=f[0],l=f[1],h=0,p=0;--c>=0;)h=s+o*(u=h)-a*p,p=l+o*p+a*u,s=(f=n[c])[0]+o*(u=s)-a*l,l=f[1]+o*l+a*u;var v,d,g=(h=s+o*(u=h)-a*p)*h+(p=l+o*p+a*u)*p;o-=v=((s=o*(u=s)-a*l-r)*h+(l=o*l+a*u-e)*p)/g,a-=d=(l*h-s*p)/g}while(yc(v)+yc(d)>1e-12&&--i>0);if(i){var y=Vc(o*o+a*a),m=2*mc(.5*y),w=kc(m);return[wc(o*w,y*xc(m)),y?zc(a*w/y):0]}},r}ys.invert=function(n,t){var r=yc(n),e=yc(t),i=1e-6,o=Ac;e<gs?o*=e/gs:i+=6*Fc(gs/e);for(var a=0;a<25;a++){var u=kc(o),c=Vc(xc(o)),f=kc(o/2),s=xc(o/2),l=kc(i/6),h=xc(i/6),p=.5*i*(1+c)-r,v=o/(s*h)-e,d=c?-.25*i*u/c:0,g=.5*(1+c),y=(1+.5*o*f/s)/(s*h),m=o/s*(l/6)/(h*h),w=d*m-y*g,x=(p*m-v*g)/w,E=(v*d-p*y)/w;if(o-=x,i-=E,yc(x)<1e-6&&yc(E)<1e-6)break}return[n<0?-i:i,t<0?-o:o]},ms.invert=function(n,t){var r=jc(n)*Pc,e=t/2,i=50;do{var o=r*r,a=e*e,u=r*e,c=r*(.975534+a*(-.0143059*o-.119161+-.0547009*a))-n,f=e*(1.00384+o*(.0802894+-.02855*a+199025e-9*o)+a*(.0998909+-.0491032*a))-t,s=.975534-a*(.119161+3*o*.0143059+.0547009*a),l=-u*(.238322+.2188036*a+.0286118*o),h=u*(.1605788+7961e-7*o+-.0571*a),p=1.00384+o*(.0802894+199025e-9*o)+a*(3*(.0998909-.02855*o)-.245516*a),v=l*h-p*s,d=(f*l-c*p)/v,g=(c*h-f*s)/v;r-=d,e-=g}while((yc(d)>1e-6||yc(g)>1e-6)&&--i>0);return i&&[r,e]},ws.invert=function(n,t){var r=n*n,e=t*t,i=e+1,o=n?Rc*Vc((i-Vc(r*r+2*r*(e-1)+i*i))/r+1):1/Vc(i);return[zc(n*o),jc(t)*Fc(o)]},Es.invert=function(n,t){return[n,2.5*mc(Ec(.8*t))-.625*Pc]};var _s=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ss=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ms=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Ts=[[.9245,0],[0,0],[.01943,0]],Os=[[.721316,0],[0,0],[-.00881625,-.00617325]];function js(n,t){var r=ac(bs(n)).rotate(t).clipAngle(90),e=ju(t),i=r.center;return delete r.rotate,r.center=function(n){return arguments.length?i(e(n)):e.invert(i())},r}var ks=Vc(6),Cs=Vc(7);function Ps(n,t){var r=zc(7*kc(t)/(3*ks));return[ks*n*(2*xc(2*r/3)-1)/Cs,9*kc(r/3)/Cs]}function As(n,t){for(var r,e=(1+Rc)*kc(t),i=t,o=0;o<25&&(i-=r=(kc(i/2)+kc(i)-e)/(.5*xc(i/2)+xc(i)),!(yc(r)<1e-6));o++);return[n*(1+2*xc(i)/xc(i/2))/(3*Dc),2*Vc(3)*kc(i/2)/Vc(2+Dc)]}function Ns(n,t){for(var r,e=Vc(6/(4+Pc)),i=(1+Pc/4)*kc(t),o=t/2,a=0;a<25&&(o-=r=(o/2+kc(o)-i)/(.5+xc(o)),!(yc(r)<1e-6));a++);return[e*(.5+xc(o))*n/1.5,e*o]}function Rs(n,t){var r=t*t,e=r*r;return[n*(.8707-.131979*r+e*(e*(.003971*r-.001529*e)-.013791)),t*(1.007226+r*(.015085+e*(.028874*r-.044475-.005916*e)))]}function Ds(n,t){var r=t*t,e=r*r,i=r*e;return[n*(.84719-.13063*r+i*i*(.05494*r-.04515-.02326*e+.00331*i)),t*(1.01183+e*e*(.01926*r-.02625-.00396*e))]}function Is(n,t){return[n*(1+xc(t))/2,2*(t-Cc(t/2))]}Ps.invert=function(n,t){var r=3*zc(t*Cs/9);return[n*Cs/(ks*(2*xc(2*r/3)-1)),zc(3*kc(r)*ks/7)]},As.invert=function(n,t){var r=t*Vc(2+Dc)/(2*Vc(3)),e=2*zc(r);return[3*Dc*n/(1+2*xc(e)/xc(e/2)),zc((r+kc(e))/(1+Rc))]},Ns.invert=function(n,t){var r=Vc(6/(4+Pc)),e=t/r;return yc(yc(e)-Ac)<1e-6&&(e=e<0?-Ac:Ac),[1.5*n/(r*(.5+xc(e))),zc((e/2+kc(e))/(1+Pc/4))]},Rs.invert=function(n,t){var r,e=t,i=25;do{var o=e*e,a=o*o;e-=r=(e*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(yc(r)>1e-6&&--i>0);return[n/(.8707+(o=e*e)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),e]},Ds.invert=function(n,t){var r,e,i,o,a=t,u=25;do{a-=r=(a*(1.01183+(i=(e=a*a)*e)*i*(.01926*e-.02625-.00396*i))-t)/(1.01183+i*i*(.21186*e-.23625+-.05148*i))}while(yc(r)>1e-12&&--u>0);return[n/(.84719-.13063*(e=a*a)+(o=e*(i=e*e))*o*(.05494*e-.04515-.02326*i+.00331*o)),a]},Is.invert=function(n,t){for(var r=t/2,e=0,i=1/0;e<10&&yc(i)>1e-6;++e){var o=xc(t/2);t-=i=(t-Cc(t/2)-r)/(1-.5/(o*o))}return[2*n/(1+xc(t)),t]};function qs(n,t){var r=t*t;return[n,t*(1.0148+r*r*(.23185+r*(.02406*r-.14499)))]}function Ls(n,t){if(yc(t)<1e-6)return[n,0];var r=Cc(t),e=n*kc(t);return[kc(e)/r,t+(1-xc(e))/r]}function Bs(n,t){var r=Fs(n[1],n[0]),e=Fs(t[1],t[0]),i=function(n,t){return wc(n[0]*t[1]-n[1]*t[0],n[0]*t[0]+n[1]*t[1])}(r,e),o=Vs(r)/Vs(e);return zs([1,0,n[0][0],0,1,n[0][1]],zs([o,0,0,0,o,0],zs([xc(i),kc(i),0,-kc(i),xc(i),0],[1,0,-t[0][0],0,1,-t[0][1]])))}function zs(n,t){return[n[0]*t[0]+n[1]*t[3],n[0]*t[1]+n[1]*t[4],n[0]*t[2]+n[1]*t[5]+n[2],n[3]*t[0]+n[4]*t[3],n[3]*t[1]+n[4]*t[4],n[3]*t[2]+n[4]*t[5]+n[5]]}function Fs(n,t){return[n[0]-t[0],n[1]-t[1]]}function Vs(n){return Vc(n[0]*n[0]+n[1]*n[1])}function Gs(n,t,r){function e(n,r){var e,i=t(n,r),o=i.project([n*Lc,r*Lc]);return(e=i.transform)?[e[0]*o[0]+e[1]*o[1]+e[2],-(e[3]*o[0]+e[4]*o[1]+e[5])]:(o[1]=-o[1],o)}function i(n,r){var e,o,a=n.project.invert,u=n.transform,c=r;if(u&&(c=[(u=[(o=1/((e=u)[0]*e[4]-e[1]*e[3]))*e[4],-o*e[1],o*(e[1]*e[5]-e[2]*e[4]),-o*e[3],o*e[0],o*(e[2]*e[3]-e[0]*e[5])])[0]*c[0]+u[1]*c[1]+u[2],u[3]*c[0]+u[4]*c[1]+u[5]]),a&&n===function(n){return t(n[0]*Bc,n[1]*Bc)}(f=a(c)))return f;for(var f,s=n.children,l=0,h=s&&s.length;l<h;++l)if(f=i(s[l],r))return f}(function n(t,r){if(t.edges=function(n){for(var t=n.length,r=[],e=n[t-1],i=0;i<t;++i)r.push([e,e=n[i]]);return r}(t.face),r.face){var e=t.shared=function(n,t){for(var r,e,i=n.length,o=null,a=0;a<i;++a){r=n[a];for(var u=t.length;--u>=0;)if(e=t[u],r[0]===e[0]&&r[1]===e[1]){if(o)return[o,r];o=r}}}(t.face,r.face),i=Bs(e.map(r.project),e.map(t.project));t.transform=r.transform?zs(r.transform,i):i;for(var o=r.edges,a=0,u=o.length;a<u;++a)Us(e[0],o[a][1])&&Us(e[1],o[a][0])&&(o[a]=t),Us(e[0],o[a][0])&&Us(e[1],o[a][1])&&(o[a]=t);for(o=t.edges,a=0,u=o.length;a<u;++a)Us(e[0],o[a][0])&&Us(e[1],o[a][1])&&(o[a]=r),Us(e[0],o[a][1])&&Us(e[1],o[a][0])&&(o[a]=r)}else t.transform=r.transform;t.children&&t.children.forEach((function(r){n(r,t)}));return t})(n,{transform:[xc(r=null==r?-Pc/6:r),kc(r),0,-kc(r),xc(r),0]}),Ws(n)&&(e.invert=function(t,r){var e=i(n,[t,-r]);return e&&(e[0]*=Bc,e[1]*=Bc,e)});var o=ac(e),a=o.stream;return o.stream=function(t){var r=o.rotate(),e=a(t),i=(o.rotate([0,0]),a(t));return o.rotate(r),e.sphere=function(){i.polygonStart(),i.lineStart(),Hs(i,n),i.lineEnd(),i.polygonEnd()},e},o}function Hs(n,t,r){var e,i,o=t.edges,a=o.length,u={type:"MultiPoint",coordinates:t.face},c=function(n){var t,r,e,i,o,a,u;if(ja=Oa=-(Ma=Ta=1/0),Na=[],oa(n,Qa),r=Na.length){for(Na.sort(uu),t=1,o=[e=Na[0]];t<r;++t)cu(e,(i=Na[t])[0])||cu(e,i[1])?(au(e[0],i[1])>au(e[0],e[1])&&(e[1]=i[1]),au(i[0],e[1])>au(e[0],e[1])&&(e[0]=i[0])):o.push(e=i);for(a=-1/0,t=0,e=o[r=o.length-1];t<=r;e=i,++t)i=o[t],(u=au(e[1],i[0]))>a&&(a=u,Ma=i[0],Oa=e[1])}return Na=Ra=null,Ma===1/0||Ta===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ma,Ta],[Oa,ja]]}({type:"MultiPoint",coordinates:t.face.filter((function(n){return 90!==yc(n[1])}))}),f=!1,s=-1,l=c[1][0]-c[0][0],h=180===l||360===l?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:xu(u);if(r)for(;++s<a&&o[s]!==r;);++s;for(var p=0;p<a;++p)i=o[(p+s)%a],Array.isArray(i)?(f||(n.point((e=Hu(i[0],h)(1e-6))[0],e[1]),f=!0),n.point((e=Hu(i[1],h)(1e-6))[0],e[1])):(f=!1,i!==r&&Hs(n,i,t))}function Us(n,t){return n&&t&&n[0]===t[0]&&n[1]===t[1]}function Ws(n){return n.project.invert||n.children&&n.children.some(Ws)}qs.invert=function(n,t){t>1.790857183?t=1.790857183:t<-1.790857183&&(t=-1.790857183);var r,e=t;do{var i=e*e;e-=r=(e*(1.0148+i*i*(.23185+i*(.02406*i-.14499)))-t)/(1.0148+i*i*(1.1592500000000001+i*(.21654*i-1.01493)))}while(yc(r)>1e-6);return[n,e]},Ls.invert=function(n,t){if(yc(t)<1e-6)return[n,0];var r,e=n*n+t*t,i=.5*t,o=10;do{var a=Cc(i),u=1/xc(i),c=e-2*t*i+i*i;i-=r=(a*c+2*(i-t))/(2+c*u*u+2*(i-t)*a)}while(yc(r)>1e-6&&--o>0);return a=Cc(i),[(yc(t)<yc(i+1/a)?zc(n*a):jc(n)*(Fc(yc(n*a))+Ac))/kc(i),i]};var Ys=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Js=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(n){return n.map((function(n){return Ys[n]}))}));var $s=2/Vc(3);function Xs(n,t){var r=yf(n,t);return[r[0]*$s,r[1]]}function Ks(n,t){for(var r=0,e=n.length,i=0;r<e;++r)i+=n[r]*t[r];return i}function Qs(n){return[wc(n[1],n[0])*Lc,zc(Sc(-1,Mc(1,n[2])))*Lc]}function Zs(n){var t=n[0]*Bc,r=n[1]*Bc,e=xc(r);return[e*xc(t),e*kc(t),kc(r)]}function nl(){}function tl(n,t){return{type:"FeatureCollection",features:n.features.map((function(n){return rl(n,t)}))}}function rl(n,t){return{type:"Feature",id:n.id,properties:n.properties,geometry:el(n.geometry,t)}}function el(n,t){if(!n)return null;if("GeometryCollection"===n.type)return function(n,t){return{type:"GeometryCollection",geometries:n.geometries.map((function(n){return el(n,t)}))}}(n,t);var r;switch(n.type){case"Point":case"MultiPoint":r=al;break;case"LineString":case"MultiLineString":r=ul;break;case"Polygon":case"MultiPolygon":case"Sphere":r=cl;break;default:return null}return oa(n,t(r)),r.result()}Xs.invert=function(n,t){return yf.invert(n/$s,t)};var il=[],ol=[],al={point:function(n,t){il.push([n,t])},result:function(){var n=il.length?il.length<2?{type:"Point",coordinates:il[0]}:{type:"MultiPoint",coordinates:il}:null;return il=[],n}},ul={lineStart:nl,point:function(n,t){il.push([n,t])},lineEnd:function(){il.length&&(ol.push(il),il=[])},result:function(){var n=ol.length?ol.length<2?{type:"LineString",coordinates:ol[0]}:{type:"MultiLineString",coordinates:ol}:null;return ol=[],n}},cl={polygonStart:nl,lineStart:nl,point:function(n,t){il.push([n,t])},lineEnd:function(){var n=il.length;if(n){do{il.push(il[0].slice())}while(++n<4);ol.push(il),il=[]}},polygonEnd:nl,result:function(){if(!ol.length)return null;var n=[],t=[];return ol.forEach((function(r){!function(n){if((t=n.length)<4)return!1;for(var t,r=0,e=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++r<t;)e+=n[r-1][1]*n[r][0]-n[r-1][0]*n[r][1];return e<=0}(r)?t.push(r):n.push([r])})),t.forEach((function(t){var r=t[0];n.some((function(n){if(function(n,t){for(var r=t[0],e=t[1],i=!1,o=0,a=n.length,u=a-1;o<a;u=o++){var c=n[o],f=c[0],s=c[1],l=n[u],h=l[0],p=l[1];s>e^p>e&&r<(h-f)*(e-s)/(p-s)+f&&(i=!i)}return i}(n[0],r))return n.push(t),!0}))||n.push([t])})),ol=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function fl(n){var t=n(Ac,0)[0]-n(-Ac,0)[0];function r(r,e){var i=yc(r)<Ac,o=n(i?r:r>0?r-Pc:r+Pc,e),a=(o[0]-o[1])*Rc,u=(o[0]+o[1])*Rc;if(i)return[a,u];var c=t*Rc,f=a>0^u>0?-1:1;return[f*a-jc(u)*c,f*u-jc(a)*c]}return n.invert&&(r.invert=function(r,e){var i=(r+e)*Rc,o=(e-r)*Rc,a=yc(i)<.5*t&&yc(o)<.5*t;if(!a){var u=t*Rc,c=i>0^o>0?-1:1,f=-c*r+(o>0?1:-1)*u,s=-c*e+(i>0?1:-1)*u;i=(-f-s)*Rc,o=(f-s)*Rc}var l=n.invert(i,o);return a||(l[0]+=i>0?Pc:-Pc),l}),ac(r).rotate([-90,-90,45]).clipAngle(179.999)}function sl(){return fl($f).scale(111.48)}function ll(n){var t=kc(n);function r(r,e){var i=t?Cc(r*t/2)/t:r/2;if(!e)return[2*i,-n];var o=2*mc(i*kc(e)),a=1/Cc(e);return[kc(o)*a,e+(1-xc(o))*a-n]}return r.invert=function(r,e){if(yc(e+=n)<1e-6)return[t?2*mc(t*r/2)/t:r,0];var i,o=r*r+e*e,a=0,u=10;do{var c=Cc(a),f=1/xc(a),s=o-2*e*a+a*a;a-=i=(c*s+2*(a-e))/(2+s*f*f+2*(a-e)*c)}while(yc(i)>1e-6&&--u>0);var l=r*(c=Cc(a)),h=Cc(yc(e)<yc(a+1/c)?.5*zc(l):.5*Fc(l)+Pc/4)/kc(a);return[t?2*mc(t*h)/t:2*h,a]},r}var hl=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function pl(n,t){var r,e=Mc(18,36*yc(t)/Pc),i=bc(e),o=e-i,a=(r=hl[i])[0],u=r[1],c=(r=hl[++i])[0],f=r[1],s=(r=hl[Mc(19,++i)])[0],l=r[1];return[n*(c+o*(s-a)/2+o*o*(s-2*c+a)/2),(t>0?Ac:-Ac)*(f+o*(l-u)/2+o*o*(l-2*f+u)/2)]}function vl(n,t){var r=function(n){function t(t,r){var e=xc(r),i=(n-1)/(n-e*xc(t));return[i*e*kc(t),i*kc(r)]}return t.invert=function(t,r){var e=t*t+r*r,i=Vc(e),o=(n-Vc(1-e*(n+1)/(n-1)))/((n-1)/i+i/(n-1));return[wc(t*o,i*Vc(1-o*o)),i?zc(r*o/i):0]},t}(n);if(!t)return r;var e=xc(t),i=kc(t);function o(t,o){var a=r(t,o),u=a[1],c=u*i/(n-1)+e;return[a[0]*e/c,u/c]}return o.invert=function(t,o){var a=(n-1)/(n-1-o*i);return r.invert(a*t,a*o*e)},o}hl.forEach((function(n){n[1]*=1.0144})),pl.invert=function(n,t){var r=t/Ac,e=90*r,i=Mc(18,yc(e/5)),o=Sc(0,bc(i));do{var a=hl[o][1],u=hl[o+1][1],c=hl[Mc(19,o+2)][1],f=c-a,s=c-2*u+a,l=2*(yc(r)-u)/f,h=s/f,p=l*(1-h*l*(1-2*h*l));if(p>=0||1===o){e=(t>=0?5:-5)*(p+i);var v,d=50;do{p=(i=Mc(18,yc(e)/5))-(o=bc(i)),a=hl[o][1],u=hl[o+1][1],c=hl[Mc(19,o+2)][1],e-=(v=(t>=0?Ac:-Ac)*(u+p*(c-a)/2+p*p*(c-2*u+a)/2)-t)*Lc}while(yc(v)>1e-12&&--d>0);break}}while(--o>=0);var g=hl[o][0],y=hl[o+1][0],m=hl[Mc(19,o+2)][0];return[n/(y+p*(m-g)/2+p*p*(m-2*y+g)/2),e*Bc]};var dl=-179.9999,gl=179.9999,yl=-89.9999;function ml(n){return n.length>0}function wl(n){return-90===n||90===n?[0,n]:[-180,(t=n,Math.floor(1e4*t)/1e4)];var t}function xl(n){var t=n[0],r=n[1],e=!1;return t<=dl?(t=-180,e=!0):t>=gl&&(t=180,e=!0),r<=yl?(r=-90,e=!0):r>=89.9999&&(r=90,e=!0),e?[t,r]:n}function El(n){return n.map(xl)}function bl(n,t,r){for(var e=0,i=n.length;e<i;++e){var o=n[e].slice();r.push({index:-1,polygon:t,ring:o});for(var a=0,u=o.length;a<u;++a){var c=o[a],f=c[0],s=c[1];if(f<=dl||f>=gl||s<=yl||s>=89.9999){o[a]=xl(c);for(var l=a+1;l<u;++l){var h=o[l],p=h[0],v=h[1];if(p>dl&&p<gl&&v>yl&&v<89.9999)break}if(l===a+1)continue;if(a){var d={index:-1,polygon:t,ring:o.slice(0,a+1)};d.ring[d.ring.length-1]=wl(s),r[r.length-1]=d}else r.pop();if(l>=u)break;r.push({index:-1,polygon:t,ring:o=o.slice(l-1)}),o[0]=wl(o[0][1]),a=-1,u=o.length}}}}function _l(n){var t,r,e,i,o,a,u=n.length,c={},f={};for(t=0;t<u;++t)e=(r=n[t]).ring[0],o=r.ring[r.ring.length-1],e[0]!==o[0]||e[1]!==o[1]?(r.index=t,c[e]=f[o]=r):(r.polygon.push(r.ring),n[t]=null);for(t=0;t<u;++t)if(r=n[t]){if(e=r.ring[0],o=r.ring[r.ring.length-1],i=f[e],a=c[o],delete c[e],delete f[o],e[0]===o[0]&&e[1]===o[1]){r.polygon.push(r.ring);continue}i?(delete f[e],delete c[i.ring[0]],i.ring.pop(),n[i.index]=null,r={index:-1,polygon:i.polygon,ring:i.ring.concat(r.ring)},i===a?r.polygon.push(r.ring):(r.index=u++,n.push(c[r.ring[0]]=f[r.ring[r.ring.length-1]]=r))):a?(delete c[o],delete f[a.ring[a.ring.length-1]],r.ring.pop(),r={index:u++,polygon:a.polygon,ring:r.ring.concat(a.ring)},n[a.index]=null,n.push(c[r.ring[0]]=f[r.ring[r.ring.length-1]]=r)):(r.ring.push(r.ring[0]),r.polygon.push(r.ring))}}function Sl(n){var t={type:"Feature",geometry:Ml(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}function Ml(n){if(null==n)return n;var t,r,e,i;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(Ml)};break;case"Point":t={type:"Point",coordinates:xl(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:El(n.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:n.coordinates.map(El)};break;case"Polygon":var o=[];bl(n.coordinates,o,r=[]),_l(r),t={type:"Polygon",coordinates:o};break;case"MultiPolygon":r=[],e=-1,i=n.coordinates.length;for(var a=new Array(i);++e<i;)bl(n.coordinates[e],a[e]=[],r);_l(r),t={type:"MultiPolygon",coordinates:a.filter(ml)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function Tl(n,t){var r=Cc(t/2),e=kc(Nc*r);return[n*(.74482-.34588*e*e),1.70711*r]}function Ol(n,t,r){var e=Hu(t,r),i=e(.5),o=ju([-i[0],-i[1]])(t),a=e.distance/2,u=-zc(kc(o[1]*Bc)/kc(a)),c=[-i[0],-i[1],-(o[0]>0?Pc-u:u)*Lc],f=ac(n(a)).rotate(c),s=ju(c),l=f.center;return delete f.rotate,f.center=function(n){return arguments.length?l(s(n)):s.invert(l())},f.clipAngle(90)}function jl(n){var t=xc(n);function r(n,r){var e=pc(n,r);return e[0]*=t,e}return r.invert=function(n,r){return pc.invert(n/t,r)},r}function kl(n,t){return Ol(jl,n,t)}function Cl(n){if(!(n*=2))return lc;var t=-n/2,r=-t,e=n*n,i=Cc(r),o=.5/kc(r);function a(i,o){var a=Fc(xc(o)*xc(i-t)),u=Fc(xc(o)*xc(i-r));return[((a*=a)-(u*=u))/(2*n),(o<0?-1:1)*Vc(4*e*u-(e-a+u)*(e-a+u))/(2*n)]}return a.invert=function(n,e){var a,u,c=e*e,f=xc(Vc(c+(a=n+t)*a)),s=xc(Vc(c+(a=n+r)*a));return[wc(u=f-s,a=(f+s)*i),(e<0?-1:1)*Fc(Vc(a*a+u*u)*o)]},a}function Pl(n,t){return Ol(Cl,n,t)}function Al(n,t){if(yc(t)<1e-6)return[n,0];var r=yc(t/Ac),e=zc(r);if(yc(n)<1e-6||yc(yc(t)-Ac)<1e-6)return[0,jc(t)*Pc*Cc(e/2)];var i=xc(e),o=yc(Pc/n-n/Pc)/2,a=o*o,u=i/(r+i-1),c=u*(2/r-1),f=c*c,s=f+a,l=u-f,h=a+u;return[jc(n)*Pc*(o*l+Vc(a*l*l-s*(u*u-f)))/s,jc(t)*Pc*(c*h-o*Vc((a+1)*s-h*h))/s]}function Nl(n,t){if(yc(t)<1e-6)return[n,0];var r=yc(t/Ac),e=zc(r);if(yc(n)<1e-6||yc(yc(t)-Ac)<1e-6)return[0,jc(t)*Pc*Cc(e/2)];var i=xc(e),o=yc(Pc/n-n/Pc)/2,a=o*o,u=i*(Vc(1+a)-o*i)/(1+a*r*r);return[jc(n)*Pc*u,jc(t)*Pc*Vc(1-u*(2*o+u))]}function Rl(n,t){if(yc(t)<1e-6)return[n,0];var r=t/Ac,e=zc(r);if(yc(n)<1e-6||yc(yc(t)-Ac)<1e-6)return[0,Pc*Cc(e/2)];var i=(Pc/n-n/Pc)/2,o=r/(1+xc(e));return[Pc*(jc(n)*Vc(i*i+1-o*o)-i),Pc*o]}function Dl(n,t){if(!t)return[n,0];var r=yc(t);if(!n||r===Ac)return[0,t];var e=r/Ac,i=e*e,o=(8*e-i*(i+2)-5)/(2*i*(e-1)),a=o*o,u=e*o,c=i+a+2*u,f=e+3*o,s=n/Ac,l=s+1/s,h=jc(yc(n)-Ac)*Vc(l*l-4),p=h*h,v=(h*(c+a-1)+2*Vc(c*(i+a*p-1)+(1-i)*(i*(f*f+4*a)+12*u*a+4*a*a)))/(4*c+p);return[jc(n)*Ac*v,jc(t)*Ac*Vc(1+h*yc(v)-v*v)]}Tl.invert=function(n,t){var r=t/1.70711,e=kc(Nc*r);return[n/(.74482-.34588*e*e),2*mc(r)]},Al.invert=function(n,t){if(yc(t)<1e-6)return[n,0];if(yc(n)<1e-6)return[0,Ac*kc(2*mc(t/Pc))];var r=(n/=Pc)*n,e=(t/=Pc)*t,i=r+e,o=i*i,a=-yc(t)*(1+i),u=a-2*e+r,c=-2*a+1+2*e+o,f=e/c+(2*u*u*u/(c*c*c)-9*a*u/(c*c))/27,s=(a-u*u/(3*c))/c,l=2*Vc(-s/3),h=Fc(3*f/(s*l))/3;return[Pc*(i-1+Vc(1+2*(r-e)+o))/(2*n),jc(t)*Pc*(-l*xc(h+Pc/3)-u/(3*c))]},Nl.invert=function(n,t){if(!n)return[0,Ac*kc(2*mc(t/Pc))];var r=yc(n/Pc),e=(1-r*r-(t/=Pc)*t)/(2*r),i=Vc(e*e+1);return[jc(n)*Pc*(i-e),jc(t)*Ac*kc(2*wc(Vc((1-2*e*r)*(e+i)-r),Vc(i+e+r)))]},Rl.invert=function(n,t){if(!t)return[n,0];var r=t/Pc,e=(Pc*Pc*(1-r*r)-n*n)/(2*Pc*n);return[n?Pc*(jc(n)*Vc(e*e+1)-e):0,Ac*kc(2*mc(r))]},Dl.invert=function(n,t){var r;if(!n||!t)return[n,t];t/=Pc;var e=jc(n)*n/Ac,i=(e*e-1+4*t*t)/yc(e),o=i*i,a=2*t,u=50;do{var c=a*a,f=(8*a-c*(c+2)-5)/(2*c*(a-1)),s=(3*a-c*a-10)/(2*c*a),l=f*f,h=a*f,p=a+f,v=p*p,d=a+3*f,g=-2*p*(4*h*l+(1-4*c+3*c*c)*(1+s)+l*(14*c-6-o+(8*c-8-2*o)*s)+h*(12*c-8+(10*c-10-o)*s)),y=Vc(v*(c+l*o-1)+(1-c)*(c*(d*d+4*l)+l*(12*h+4*l)));a-=r=(i*(v+l-1)+2*y-e*(4*v+o))/(i*(2*f*s+2*p*(1+s))+g/y-8*p*(i*(-1+l+v)+2*y)*(1+s)/(o+4*v))}while(r>1e-6&&--u>0);return[jc(n)*(Vc(i*i+4)+i)*Pc/4,Ac*a]};var Il=4*Pc+3*Vc(3),ql=2*Vc(2*Pc*Vc(3)/Il),Ll=nf(ql*Vc(3)/Pc,ql,Il/6);function Bl(n,t){return[n*Vc(1-3*t*t/(Pc*Pc)),t]}function zl(n,t){var r=.90631*kc(t),e=Vc(1-r*r),i=Vc(2/(1+e*xc(n/=3)));return[2.66723*e*i*kc(n),1.24104*r*i]}function Fl(n,t){var r=xc(t),e=xc(n)*r,i=1-e,o=xc(n=wc(kc(n)*r,-kc(t))),a=kc(n);return[a*(r=Vc(1-e*e))-o*i,-o*r-a*i]}function Vl(n,t){var r=Wc(n,t);return[(r[0]+n/Ac)/2,(r[1]+t)/2]}Bl.invert=function(n,t){return[n/Vc(1-3*t*t/(Pc*Pc)),t]},zl.invert=function(n,t){var r=n/2.66723,e=t/1.24104,i=Vc(r*r+e*e),o=2*zc(i/2);return[3*wc(n*Cc(o),2.66723*i),i&&zc(t*kc(o)/(1.24104*.90631*i))]},Fl.invert=function(n,t){var r=(n*n+t*t)/-2,e=Vc(-r*(2+r)),i=t*r+n*e,o=n*r-t*e,a=Vc(o*o+i*i);return[wc(e*i,a*(1+r)),a?-zc(e*o/a):0]},Vl.invert=function(n,t){var r=n,e=t,i=25;do{var o,a=xc(e),u=kc(e),c=kc(2*e),f=u*u,s=a*a,l=kc(r),h=xc(r/2),p=kc(r/2),v=p*p,d=1-s*h*h,g=d?Fc(a*h)*Vc(o=1/d):o=0,y=.5*(2*g*a*p+r/Ac)-n,m=.5*(g*u+e)-t,w=.5*o*(s*v+g*a*h*f)+.5/Ac,x=o*(l*c/4-g*u*p),E=.125*o*(c*p-g*u*s*l),b=.5*o*(f*h+g*v*a)+.5,_=x*E-b*w,S=(m*x-y*b)/_,M=(y*E-m*w)/_;r-=S,e-=M}while((yc(S)>1e-6||yc(M)>1e-6)&&--i>0);return[r,e]};var Gl,Hl=n(Object.freeze(Object.defineProperty({__proto__:null,geoAiry:function(){var n=Ac,t=uc(Uc),r=t(n);return r.radius=function(r){return arguments.length?t(n=r*Bc):n*Lc},r.scale(179.976).clipAngle(147)},geoAiryRaw:Uc,geoAitoff:function(){return ac(Wc).scale(152.63)},geoAitoffRaw:Wc,geoArmadillo:function(){var n=20*Bc,t=n>=0?1:-1,r=Cc(t*n),e=uc(Yc),i=e(n),o=i.stream;return i.parallel=function(i){return arguments.length?(r=Cc((t=(n=i*Bc)>=0?1:-1)*n),e(n)):n*Lc},i.stream=function(e){var a=i.rotate(),u=o(e),c=(i.rotate([0,0]),o(e));return i.rotate(a),u.sphere=function(){c.polygonStart(),c.lineStart();for(var e=-180*t;t*e<180;e+=90*t)c.point(e,90*t);for(;t*(e-=n)>=-180;)c.point(e,t*-wc(xc(e*Bc/2),r)*Lc);c.lineEnd(),c.polygonEnd()},u},i.scale(218.695).center([0,28.0974])},geoArmadilloRaw:Yc,geoAugust:function(){return ac(Jc).scale(66.1603)},geoAugustRaw:Jc,geoBaker:function(){return ac(Kc).scale(112.314)},geoBakerRaw:Kc,geoBerghaus:function(){var n=5,t=uc(Qc),r=t(n),e=r.stream,i=.01,o=-xc(i*Bc),a=kc(i*Bc);return r.lobes=function(r){return arguments.length?t(n=+r):n},r.stream=function(t){var u=r.rotate(),c=e(t),f=(r.rotate([0,0]),e(t));return r.rotate(u),c.sphere=function(){f.polygonStart(),f.lineStart();for(var t=0,r=360/n,e=2*Pc/n,u=90-180/n,c=Ac;t<n;++t,u-=r,c-=e)f.point(wc(a*xc(c),o)*Lc,zc(a*kc(c))*Lc),u<-90?(f.point(-90,-180-u-i),f.point(-90,-180-u+i)):(f.point(90,u+i),f.point(90,u-i));f.lineEnd(),f.polygonEnd()},c},r.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},geoBerghausRaw:Qc,geoBoggs:function(){return ac(of).scale(160.857)},geoBoggsRaw:of,geoBonne:function(){return af(cf).scale(123.082).center([0,26.1441]).parallel(45)},geoBonneRaw:cf,geoBottomley:function(){var n=.5,t=uc(ff),r=t(n);return r.fraction=function(r){return arguments.length?t(n=+r):n},r.scale(158.837)},geoBottomleyRaw:ff,geoBromley:function(){return ac(sf).scale(152.63)},geoBromleyRaw:sf,geoChamberlin:gf,geoChamberlinRaw:vf,geoChamberlinAfrica:function(){return gf([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},geoCollignon:function(){return ac(yf).scale(95.6464).center([0,30])},geoCollignonRaw:yf,geoCraig:function(){return af(mf).scale(249.828).clipAngle(90)},geoCraigRaw:mf,geoCraster:function(){return ac(xf).scale(156.19)},geoCrasterRaw:xf,geoCylindricalEqualArea:function(){return af(Ef).parallel(38.58).scale(195.044)},geoCylindricalEqualAreaRaw:Ef,geoCylindricalStereographic:function(){return af(bf).scale(124.75)},geoCylindricalStereographicRaw:bf,geoEckert1:function(){return ac(_f).scale(165.664)},geoEckert1Raw:_f,geoEckert2:function(){return ac(Sf).scale(165.664)},geoEckert2Raw:Sf,geoEckert3:function(){return ac(Mf).scale(180.739)},geoEckert3Raw:Mf,geoEckert4:function(){return ac(Tf).scale(180.739)},geoEckert4Raw:Tf,geoEckert5:function(){return ac(Of).scale(173.044)},geoEckert5Raw:Of,geoEckert6:function(){return ac(jf).scale(173.044)},geoEckert6Raw:jf,geoEisenlohr:function(){return ac(Cf).scale(62.5271)},geoEisenlohrRaw:Cf,geoFahey:function(){return ac(Af).scale(137.152)},geoFaheyRaw:Af,geoFoucaut:function(){return ac(Nf).scale(135.264)},geoFoucautRaw:Nf,geoGilbert:function(n){null==n&&(n=gc);var t=n(),r=ac(hc).scale(152.63).scale(Lc).precision(0).clipAngle(null).translate([0,0]);function e(n){return t(Rf(n))}function i(n){e[n]=function(r){return arguments.length?(t[n](r),e):t[n]()}}return t.invert&&(e.invert=function(n){return Df(t.invert(n))}),e.stream=function(n){var e=t.stream(n),i=r.stream({point:function(n,t){e.point(n/2,zc(Cc(-t/2*Bc))*Lc)},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}});return i.sphere=e.sphere,i},e.rotate=function(n){return arguments.length?(r.rotate(n),e):r.rotate()},e.center=function(n){return arguments.length?(t.center(Rf(n)),e):Df(t.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),e.scale(249.5)},geoGingery:function(){var n=6,t=30*Bc,r=xc(t),e=kc(t),i=uc(If),o=i(t,n),a=o.stream,u=-xc(.01*Bc),c=kc(.01*Bc);return o.radius=function(o){return arguments.length?(r=xc(t=o*Bc),e=kc(t),i(t,n)):t*Lc},o.lobes=function(r){return arguments.length?i(t,n=+r):n},o.stream=function(t){var i=o.rotate(),f=a(t),s=(o.rotate([0,0]),a(t));return o.rotate(i),f.sphere=function(){s.polygonStart(),s.lineStart();for(var t=0,i=2*Pc/n,o=0;t<n;++t,o-=i)s.point(wc(c*xc(o),u)*Lc,zc(c*kc(o))*Lc),s.point(wc(e*xc(o-i/2),r)*Lc,zc(e*kc(o-i/2))*Lc);s.lineEnd(),s.polygonEnd()},f},o.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},geoGingeryRaw:If,geoGinzburg4:function(){return ac(zf).scale(149.995)},geoGinzburg4Raw:zf,geoGinzburg5:function(){return ac(Ff).scale(153.93)},geoGinzburg5Raw:Ff,geoGinzburg6:function(){return ac(Vf).scale(130.945)},geoGinzburg6Raw:Vf,geoGinzburg8:function(){return ac(Gf).scale(131.747)},geoGinzburg8Raw:Gf,geoGinzburg9:function(){return ac(Hf).scale(131.087)},geoGinzburg9Raw:Hf,geoGringorten:function(){return ac(Uf(Wf)).scale(239.75)},geoGringortenRaw:Wf,geoGuyou:function(){return ac(Uf($f)).scale(151.496)},geoGuyouRaw:$f,geoHammer:function(){var n=2,t=uc(Xf),r=t(n);return r.coefficient=function(r){return arguments.length?t(n=+r):n},r.scale(169.529)},geoHammerRaw:Xf,geoHammerRetroazimuthal:function(){var n=0,t=uc(Qf),r=t(n),e=r.rotate,i=r.stream,o=function(){var n,t,r=Eu([0,0]),e=Eu(90),i=Eu(6),o={point:function(r,e){n.push(r=t(r,e)),r[0]*=Fo,r[1]*=Fo}};function a(){var a=r.apply(this,arguments),u=e.apply(this,arguments)*Vo,c=i.apply(this,arguments)*Vo;return n=[],t=Su(-a[0]*Vo,-a[1]*Vo,0).invert,ku(o,u,c,1),a={type:"Polygon",coordinates:[n]},n=t=null,a}return a.center=function(n){return arguments.length?(r="function"==typeof n?n:Eu([+n[0],+n[1]]),a):r},a.radius=function(n){return arguments.length?(e="function"==typeof n?n:Eu(+n),a):e},a.precision=function(n){return arguments.length?(i="function"==typeof n?n:Eu(+n),a):i},a}();return r.parallel=function(e){if(!arguments.length)return n*Lc;var i=r.rotate();return t(n=e*Bc).rotate(i)},r.rotate=function(t){return arguments.length?(e.call(r,[t[0],t[1]-n*Lc]),o.center([-t[0],-t[1]]),r):((t=e.call(r))[1]+=n*Lc,t)},r.stream=function(n){return(n=i(n)).sphere=function(){n.polygonStart();var t,r=o.radius(89.99)().coordinates[0],e=r.length-1,i=-1;for(n.lineStart();++i<e;)n.point((t=r[i])[0],t[1]);for(n.lineEnd(),e=(r=o.radius(90.01)().coordinates[0]).length-1,n.lineStart();--i>=0;)n.point((t=r[i])[0],t[1]);n.lineEnd(),n.polygonEnd()},n},r.scale(79.4187).parallel(45).clipAngle(179.999)},geoHammerRetroazimuthalRaw:Qf,geoHealpix:function(){var n=4,t=uc(ts),r=t(n),e=r.stream;return r.lobes=function(r){return arguments.length?t(n=+r):n},r.stream=function(t){var i=r.rotate(),o=e(t),a=(r.rotate([0,0]),e(t));return r.rotate(i),o.sphere=function(){var t;oa({type:"Polygon",coordinates:[_e(-180,180+(t=180/n)/2,t).map((function(n,t){return[n,1&t?89.999999:42.343611111111116]})).concat(_e(180,-180-t/2,-t).map((function(n,t){return[n,1&t?-89.999999:-42.343611111111116]})))]},a)},o},r.scale(239.75)},geoHealpixRaw:ts,geoHill:function(){var n=1,t=uc(rs),r=t(n);return r.ratio=function(r){return arguments.length?t(n=+r):n},r.scale(167.774).center([0,18.67])},geoHillRaw:rs,geoHomolosine:function(){return ac(is).scale(152.63)},geoHomolosineRaw:is,geoInterrupt:us,geoInterruptedBoggs:function(){return us(of,cs).scale(160.857)},geoInterruptedHomolosine:function(){return us(is,fs).scale(152.63)},geoInterruptedMollweide:function(){return us(tf,ss).scale(169.529)},geoInterruptedMollweideHemispheres:function(){return us(tf,ls).scale(169.529).rotate([20,0])},geoInterruptedSinuMollweide:function(){return us(es,hs).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoInterruptedSinusoidal:function(){return us(uf,ps).scale(152.63).rotate([-20,0])},geoKavrayskiy7:function(){return ac(vs).scale(158.837)},geoKavrayskiy7Raw:vs,geoLagrange:function(){var n=.5,t=uc(ds),r=t(n);return r.spacing=function(r){return arguments.length?t(n=+r):n},r.scale(124.75)},geoLagrangeRaw:ds,geoLarrivee:function(){return ac(ys).scale(97.2672)},geoLarriveeRaw:ys,geoLaskowski:function(){return ac(ms).scale(139.98)},geoLaskowskiRaw:ms,geoLittrow:function(){return ac(ws).scale(144.049).clipAngle(89.999)},geoLittrowRaw:ws,geoLoximuthal:function(){return af(xs).parallel(40).scale(158.837)},geoLoximuthalRaw:xs,geoMiller:function(){return ac(Es).scale(108.318)},geoMillerRaw:Es,geoModifiedStereographic:js,geoModifiedStereographicRaw:bs,geoModifiedStereographicAlaska:function(){return js(_s,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},geoModifiedStereographicGs48:function(){return js(Ss,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},geoModifiedStereographicGs50:function(){return js(Ms,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},geoModifiedStereographicMiller:function(){return js(Ts,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},geoModifiedStereographicLee:function(){return js(Os,[165,10]).scale(250).clipAngle(130).center([-165,-10])},geoMollweide:function(){return ac(tf).scale(169.529)},geoMollweideRaw:tf,geoMtFlatPolarParabolic:function(){return ac(Ps).scale(164.859)},geoMtFlatPolarParabolicRaw:Ps,geoMtFlatPolarQuartic:function(){return ac(As).scale(188.209)},geoMtFlatPolarQuarticRaw:As,geoMtFlatPolarSinusoidal:function(){return ac(Ns).scale(166.518)},geoMtFlatPolarSinusoidalRaw:Ns,geoNaturalEarth:function(){return ac(Rs).scale(175.295)},geoNaturalEarthRaw:Rs,geoNaturalEarth2:function(){return ac(Ds).scale(175.295)},geoNaturalEarth2Raw:Ds,geoNellHammer:function(){return ac(Is).scale(152.63)},geoNellHammerRaw:Is,geoPatterson:function(){return ac(qs).scale(139.319)},geoPattersonRaw:qs,geoPolyconic:function(){return ac(Ls).scale(103.74)},geoPolyconicRaw:Ls,geoPolyhedral:Gs,geoPolyhedralButterfly:function(n){n=n||function(n){var t=xu({type:"MultiPoint",coordinates:n});return vc().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=Js.map((function(t){return{face:t,project:n(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,r){var e=t[n];e&&(e.children||(e.children=[])).push(t[r])})),Gs(t[0],(function(n,r){return t[n<-Pc/2?r<0?6:4:n<0?r<0?2:0:n<Pc/2?r<0?3:1:r<0?7:5]})).scale(101.858).center([0,45])},geoPolyhedralCollignon:function(n){n=n||function(n){var t=xu({type:"MultiPoint",coordinates:n});return ac(Xs).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var t=Js.map((function(t){return{face:t,project:n(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,r){var e=t[n];e&&(e.children||(e.children=[])).push(t[r])})),Gs(t[0],(function(n,r){return t[n<-Pc/2?r<0?6:4:n<0?r<0?2:0:n<Pc/2?r<0?3:1:r<0?7:5]})).scale(121.906).center([0,48.5904])},geoPolyhedralWaterman:function(n){n=n||function(n){var t=6===n.length?xu({type:"MultiPoint",coordinates:n}):n[0];return vc().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=Js.map((function(n){for(var t,r=n.map(Zs),e=r.length,i=r[e-1],o=[],a=0;a<e;++a)t=r[a],o.push(Qs([.9486832980505138*i[0]+.31622776601683794*t[0],.9486832980505138*i[1]+.31622776601683794*t[1],.9486832980505138*i[2]+.31622776601683794*t[2]]),Qs([.9486832980505138*t[0]+.31622776601683794*i[0],.9486832980505138*t[1]+.31622776601683794*i[1],.9486832980505138*t[2]+.31622776601683794*i[2]])),i=t;return o})),r=[],e=[-1,0,0,1,0,1,4,5];t.forEach((function(n,i){for(var o,a,u=Js[i],c=u.length,f=r[i]=[],s=0;s<c;++s)t.push([u[s],n[(2*s+2)%(2*c)],n[(2*s+1)%(2*c)]]),e.push(i),f.push((o=Zs(n[(2*s+2)%(2*c)]),a=Zs(n[(2*s+1)%(2*c)]),[o[1]*a[2]-o[2]*a[1],o[2]*a[0]-o[0]*a[2],o[0]*a[1]-o[1]*a[0]]))}));var i=t.map((function(t){return{project:n(t),face:t}}));return e.forEach((function(n,t){var r=i[n];r&&(r.children||(r.children=[])).push(i[t])})),Gs(i[0],(function(n,t){var e=xc(t),o=[e*xc(n),e*kc(n),kc(t)],a=n<-Pc/2?t<0?6:4:n<0?t<0?2:0:n<Pc/2?t<0?3:1:t<0?7:5,u=r[a];return i[Ks(u[0],o)<0?8+3*a:Ks(u[1],o)<0?8+3*a+1:Ks(u[2],o)<0?8+3*a+2:a]})).scale(110.625).center([0,45])},geoProject:function(n,t){var r,e=t.stream;if(!e)throw new Error("invalid projection");switch(n&&n.type){case"Feature":r=rl;break;case"FeatureCollection":r=tl;break;default:r=el}return r(n,e)},geoGringortenQuincuncial:function(){return fl(Wf).scale(176.423)},geoPeirceQuincuncial:sl,geoPierceQuincuncial:sl,geoQuantize:function(n,t){if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");function r(n){var r=n.length,e=2,i=new Array(r);for(i[0]=+n[0].toFixed(t),i[1]=+n[1].toFixed(t);e<r;)i[e]=n[e],++e;return i}function e(n){return n.map(r)}function i(n){return n.map(e)}function o(n){if(null==n)return n;var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(o)};break;case"Point":t={type:"Point",coordinates:r(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:e(n.coordinates)};break;case"MultiLineString":case"Polygon":t={type:n.type,coordinates:i(n.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:n.coordinates.map(i)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function a(n){var t={type:"Feature",properties:n.properties,geometry:o(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),t}if(null!=n)switch(n.type){case"Feature":return a(n);case"FeatureCollection":var u={type:"FeatureCollection",features:n.features.map(a)};return null!=n.bbox&&(u.bbox=n.bbox),u;default:return o(n)}return n},geoQuincuncial:fl,geoRectangularPolyconic:function(){return af(ll).scale(131.215)},geoRectangularPolyconicRaw:ll,geoRobinson:function(){return ac(pl).scale(152.63)},geoRobinsonRaw:pl,geoSatellite:function(){var n=2,t=0,r=uc(vl),e=r(n,t);return e.distance=function(e){return arguments.length?r(n=+e,t):n},e.tilt=function(e){return arguments.length?r(n,t=e*Bc):t*Lc},e.scale(432.147).clipAngle(Fc(1/n)*Lc-1e-6)},geoSatelliteRaw:vl,geoSinuMollweide:function(){return ac(es).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoSinuMollweideRaw:es,geoSinusoidal:function(){return ac(uf).scale(152.63)},geoSinusoidalRaw:uf,geoStitch:function(n){if(null==n)return n;switch(n.type){case"Feature":return Sl(n);case"FeatureCollection":var t={type:"FeatureCollection",features:n.features.map(Sl)};return null!=n.bbox&&(t.bbox=n.bbox),t;default:return Ml(n)}},geoTimes:function(){return ac(Tl).scale(146.153)},geoTimesRaw:Tl,geoTwoPointAzimuthal:kl,geoTwoPointAzimuthalRaw:jl,geoTwoPointAzimuthalUsa:function(){return kl([-158,21.5],[-77,39]).clipAngle(60).scale(400)},geoTwoPointEquidistant:Pl,geoTwoPointEquidistantRaw:Cl,geoTwoPointEquidistantUsa:function(){return Pl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},geoVanDerGrinten:function(){return ac(Al).scale(79.4183)},geoVanDerGrintenRaw:Al,geoVanDerGrinten2:function(){return ac(Nl).scale(79.4183)},geoVanDerGrinten2Raw:Nl,geoVanDerGrinten3:function(){return ac(Rl).scale(79.4183)},geoVanDerGrinten3Raw:Rl,geoVanDerGrinten4:function(){return ac(Dl).scale(127.16)},geoVanDerGrinten4Raw:Dl,geoWagner4:function(){return ac(Ll).scale(176.84)},geoWagner4Raw:Ll,geoWagner6:function(){return ac(Bl).scale(152.63)},geoWagner6Raw:Bl,geoWagner7:function(){return ac(zl).scale(172.632)},geoWagner7Raw:zl,geoWiechel:function(){return ac(Fl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},geoWiechelRaw:Fl,geoWinkel3:function(){return ac(Vl).scale(158.837)},geoWinkel3Raw:Vl},Symbol.toStringTag,{value:"Module"}))),Ul={},Wl={exports:{}};
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */
Gl=Wl,function(n){function t(){}var r=t.prototype,e=n.EventEmitter;function i(n,t){for(var r=n.length;r--;)if(n[r].listener===t)return r;return-1}function o(n){return function(){return this[n].apply(this,arguments)}}function a(n){return"function"==typeof n||n instanceof RegExp||!(!n||"object"!=typeof n)&&a(n.listener)}r.getListeners=function(n){var t,r,e=this._getEvents();if(n instanceof RegExp)for(r in t={},e)e.hasOwnProperty(r)&&n.test(r)&&(t[r]=e[r]);else t=e[n]||(e[n]=[]);return t},r.flattenListeners=function(n){var t,r=[];for(t=0;t<n.length;t+=1)r.push(n[t].listener);return r},r.getListenersAsObject=function(n){var t,r=this.getListeners(n);return r instanceof Array&&((t={})[n]=r),t||r},r.addListener=function(n,t){if(!a(t))throw new TypeError("listener must be a function");var r,e=this.getListenersAsObject(n),o="object"==typeof t;for(r in e)e.hasOwnProperty(r)&&-1===i(e[r],t)&&e[r].push(o?t:{listener:t,once:!1});return this},r.on=o("addListener"),r.addOnceListener=function(n,t){return this.addListener(n,{listener:t,once:!0})},r.once=o("addOnceListener"),r.defineEvent=function(n){return this.getListeners(n),this},r.defineEvents=function(n){for(var t=0;t<n.length;t+=1)this.defineEvent(n[t]);return this},r.removeListener=function(n,t){var r,e,o=this.getListenersAsObject(n);for(e in o)o.hasOwnProperty(e)&&-1!==(r=i(o[e],t))&&o[e].splice(r,1);return this},r.off=o("removeListener"),r.addListeners=function(n,t){return this.manipulateListeners(!1,n,t)},r.removeListeners=function(n,t){return this.manipulateListeners(!0,n,t)},r.manipulateListeners=function(n,t,r){var e,i,o=n?this.removeListener:this.addListener,a=n?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(e=r.length;e--;)o.call(this,t,r[e]);else for(e in t)t.hasOwnProperty(e)&&(i=t[e])&&("function"==typeof i?o.call(this,e,i):a.call(this,e,i));return this},r.removeEvent=function(n){var t,r=typeof n,e=this._getEvents();if("string"===r)delete e[n];else if(n instanceof RegExp)for(t in e)e.hasOwnProperty(t)&&n.test(t)&&delete e[t];else delete this._events;return this},r.removeAllListeners=o("removeEvent"),r.emitEvent=function(n,t){var r,e,i,o,a=this.getListenersAsObject(n);for(o in a)if(a.hasOwnProperty(o))for(r=a[o].slice(0),i=0;i<r.length;i++)!0===(e=r[i]).once&&this.removeListener(n,e.listener),e.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(n,e.listener);return this},r.trigger=o("emitEvent"),r.emit=function(n){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(n,t)},r.setOnceReturnValue=function(n){return this._onceReturnValue=n,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=e,t},Gl.exports?Gl.exports=t:n.EventEmitter=t}("undefined"!=typeof window?window:t||{}),Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.View=void 0;var Yl=y,Jl=Yl.__importDefault(Wl.exports),$l=ht;var Xl=function(n){function t(t,r){var e=n.call(this)||this;if(e.isView=!0,e.isDataView=!0,e.watchingStates=null,e.dataType="table",e.transforms=[],e.origin=[],e.rows=[],t&&t.isDataSet?e.dataSet=t:(e.dataSet=null,r=t),e.loose=!e.dataSet,r&&(e.watchingStates=r.watchingStates),!e.loose){var i=e.watchingStates;t.on("statechange",(function(n){$l.isArray(i)?i.indexOf(n)>-1&&e._reExecute():e._reExecute()}))}return e}return Yl.__extends(t,n),t.prototype._parseStateExpression=function(n){var t=this.dataSet;if(null!==t){var r=/^\$state\.(\w+)/.exec(n);return r?t.state[r[1]]:n}},t.prototype._preparseOptions=function(n){var t=this,r=function(n){var t={};return $l.forIn(n,(function(n,r){$l.isObject(n)&&n.isView?t[r]=n:$l.isArray(n)?t[r]=n.concat([]):$l.isPlainObject(n)?t[r]=$l.clone(n):t[r]=n})),t}(n);return this.loose||$l.forIn(r,(function(n,e){$l.isString(n)&&/^\$state\./.test(n)&&(r[e]=t._parseStateExpression(n))})),r},t.prototype._prepareSource=function(n,r){if(this._source={source:n,options:r},r){e=this._preparseOptions(r);this.origin=t.DataSet.getConnector(e.type)(n,e,this)}else if(n instanceof t||$l.isString(n))this.origin=t.DataSet.getConnector("default")(n,this.dataSet);else if($l.isArray(n))this.origin=n;else{if(!$l.isObject(n)||!n.type)throw new TypeError("Invalid source");var e=this._preparseOptions(n);this.origin=t.DataSet.getConnector(e.type)(e,this)}return this.rows=$l.deepMix([],this.origin),this},t.prototype.source=function(n,t){return this._prepareSource(n,t)._reExecuteTransforms(),this.trigger("change",[]),this},t.prototype.transform=function(n){return n&&n.type&&(this.transforms.push(n),this._executeTransform(n)),this},t.prototype._executeTransform=function(n){n=this._preparseOptions(n),t.DataSet.getTransform(n.type)(this,n)},t.prototype._reExecuteTransforms=function(){var n=this;this.transforms.forEach((function(t){n._executeTransform(t)}))},t.prototype.addRow=function(n){this.rows.push(n)},t.prototype.removeRow=function(n){this.rows.splice(n,1)},t.prototype.updateRow=function(n,t){$l.assign(this.rows[n],t)},t.prototype.findRows=function(n){return this.rows.filter((function(t){return $l.isMatch(t,n)}))},t.prototype.findRow=function(n){return $l.find(this.rows,n)},t.prototype.getColumnNames=function(){var n=this.rows[0];return n?$l.keys(n):[]},t.prototype.getColumnName=function(n){return this.getColumnNames()[n]},t.prototype.getColumnIndex=function(n){return this.getColumnNames().indexOf(n)},t.prototype.getColumn=function(n){return this.rows.map((function(t){return t[n]}))},t.prototype.getColumnData=function(n){return this.getColumn(n)},t.prototype.getSubset=function(n,t,r){for(var e=[],i=n;i<=t;i++)e.push($l.pick(this.rows[i],r));return e},t.prototype.toString=function(n){return void 0===n&&(n=!1),n?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},t.prototype._reExecute=function(){var n=this._source,t=n.source,r=n.options;this._prepareSource(t,r),this._reExecuteTransforms(),this.trigger("change",[])},t}(Jl.default);Ul.View=Xl;var Kl={};class Ql{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let r=0;for(let e=0;e<this._n&&e<32;e++){const i=t[e],o=n+i,a=Math.abs(n)<Math.abs(i)?n-(o-i):i-(o-n);a&&(t[r++]=a),n=o}return t[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let t,r,e,i=this._n,o=0;if(i>0){for(o=n[--i];i>0&&(t=o,r=n[--i],o=t+r,e=r-(o-t),!e););i>0&&(e<0&&n[i-1]<0||e>0&&n[i-1]>0)&&(r=2*e,t=o+r,r==t-o&&(o=t))}return o}}function Zl(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}var nh=Math.PI,th=nh/2,rh=nh/4,eh=2*nh,ih=180/nh,oh=nh/180,ah=Math.abs,uh=Math.atan,ch=Math.atan2,fh=Math.cos,sh=Math.exp,lh=Math.log,hh=Math.pow,ph=Math.sin,vh=Math.sign||function(n){return n>0?1:n<0?-1:0},dh=Math.sqrt,gh=Math.tan;function yh(n){return n>1?th:n<-1?-th:Math.asin(n)}function mh(){}function wh(n,t){n&&Eh.hasOwnProperty(n.type)&&Eh[n.type](n,t)}var xh={Feature:function(n,t){wh(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)wh(r[e].geometry,t)}},Eh={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){bh(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)bh(r[e],t,0)},Polygon:function(n,t){_h(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)_h(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)wh(r[e],t)}};function bh(n,t,r){var e,i=-1,o=n.length-r;for(t.lineStart();++i<o;)e=n[i],t.point(e[0],e[1],e[2]);t.lineEnd()}function _h(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)bh(n[r],t,1);t.polygonEnd()}function Sh(n,t){n&&xh.hasOwnProperty(n.type)?xh[n.type](n,t):wh(n,t)}function Mh(n){return[ch(n[1],n[0]),yh(n[2])]}function Th(n){var t=n[0],r=n[1],e=fh(r);return[e*fh(t),e*ph(t),ph(r)]}function Oh(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function jh(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function kh(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Ch(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Ph(n){var t=dh(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Ah(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r}function Nh(n,t){return[ah(n)>nh?n+Math.round(-n/eh)*eh:n,t]}function Rh(n,t,r){return(n%=eh)?t||r?Ah(Ih(n),qh(t,r)):Ih(n):t||r?qh(t,r):Nh}function Dh(n){return function(t,r){return[(t+=n)>nh?t-eh:t<-nh?t+eh:t,r]}}function Ih(n){var t=Dh(n);return t.invert=Dh(-n),t}function qh(n,t){var r=fh(n),e=ph(n),i=fh(t),o=ph(t);function a(n,t){var a=fh(t),u=fh(n)*a,c=ph(n)*a,f=ph(t),s=f*r+u*e;return[ch(c*i-s*o,u*r-f*e),yh(s*i+c*o)]}return a.invert=function(n,t){var a=fh(t),u=fh(n)*a,c=ph(n)*a,f=ph(t),s=f*i-c*o;return[ch(c*i+f*o,u*r+s*e),yh(s*r-u*e)]},a}function Lh(n,t){(t=Th(t))[0]-=n,Ph(t);var r,e=(r=-t[1])>1?0:r<-1?nh:Math.acos(r);return((-t[2]<0?-e:e)+eh-1e-6)%eh}function Bh(){var n,t=[];return{point:function(t,r,e){n.push([t,r,e])},lineStart:function(){t.push(n=[])},lineEnd:mh,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function zh(n,t){return ah(n[0]-t[0])<1e-6&&ah(n[1]-t[1])<1e-6}function Fh(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Vh(n,t,r,e,i){var o,a,u=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r,e=n[0],a=n[t];if(zh(e,a)){if(!e[2]&&!a[2]){for(i.lineStart(),o=0;o<t;++o)i.point((e=n[o])[0],e[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(r=new Fh(e,n,null,!0)),c.push(r.o=new Fh(e,null,r,!1)),u.push(r=new Fh(a,n,null,!1)),c.push(r.o=new Fh(a,null,r,!0))}})),u.length){for(c.sort(t),Gh(u),Gh(c),o=0,a=c.length;o<a;++o)c[o].e=r=!r;for(var f,s,l=u[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=f.length;o<a;++o)i.point((s=f[o])[0],s[1]);else e(h.x,h.n.x,1,i);h=h.n}else{if(p)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else e(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Gh(n){if(t=n.length){for(var t,r,e=0,i=n[0];++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Hh(n){return ah(n[0])<=nh?n[0]:vh(n[0])*((ah(n[0])+nh)%eh-nh)}function Uh(n,t,r,e){return function(i){var o,a,u,c=t(i),f=Bh(),s=t(f),l=!1,h={point:p,lineStart:d,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=w,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=d,h.lineEnd=g,a=Zl(a);var n=function(n,t){var r=Hh(t),e=t[1],i=ph(e),o=[ph(r),-fh(r),0],a=0,u=0,c=new Ql;1===i?e=th+1e-6:-1===i&&(e=-th-1e-6);for(var f=0,s=n.length;f<s;++f)if(h=(l=n[f]).length)for(var l,h,p=l[h-1],v=Hh(p),d=p[1]/2+rh,g=ph(d),y=fh(d),m=0;m<h;++m,v=x,g=b,y=_,p=w){var w=l[m],x=Hh(w),E=w[1]/2+rh,b=ph(E),_=fh(E),S=x-v,M=S>=0?1:-1,T=M*S,O=T>nh,j=g*b;if(c.add(ch(j*M*ph(T),y*_+j*fh(T))),a+=O?S+M*eh:S,O^v>=r^x>=r){var k=jh(Th(p),Th(w));Ph(k);var C=jh(o,k);Ph(C);var P=(O^S>=0?-1:1)*yh(C[2]);(e>P||e===P&&(k[0]||k[1]))&&(u+=O^S>=0?1:-1)}}return(a<-1e-6||a<1e-6&&c<-1e-12)^1&u}(o,e);a.length?(l||(i.polygonStart(),l=!0),Vh(a,Yh,n,r,i)):n&&(l||(i.polygonStart(),l=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,r){n(t,r)&&i.point(t,r)}function v(n,t){c.point(n,t)}function d(){h.point=v,c.lineStart()}function g(){h.point=p,c.lineEnd()}function y(n,t){u.push([n,t]),s.point(n,t)}function m(){s.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),s.lineEnd();var n,t,r,e,c=s.clean(),h=f.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&c){if((t=(r=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),n=0;n<t;++n)i.point((e=r[n])[0],e[1]);i.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Wh))}return h}}function Wh(n){return n.length>1}function Yh(n,t){return((n=n.x)[0]<0?n[1]-th-1e-6:th-n[1])-((t=t.x)[0]<0?t[1]-th-1e-6:th-t[1])}Nh.invert=Nh;var Jh=Uh((function(){return!0}),(function(n){var t,r=NaN,e=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,a){var u=o>0?nh:-nh,c=ah(o-r);ah(c-nh)<1e-6?(n.point(r,e=(e+a)/2>0?th:-th),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),n.point(o,e),t=0):i!==u&&c>=nh&&(ah(r-i)<1e-6&&(r-=1e-6*i),ah(o-u)<1e-6&&(o-=1e-6*u),e=function(n,t,r,e){var i,o,a=ph(n-r);return ah(a)>1e-6?uh((ph(t)*(o=fh(e))*ph(r)-ph(e)*(i=fh(t))*ph(n))/(i*o*a)):(t+e)/2}(r,e,o,a),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),t=0),n.point(r=o,e=a),i=u},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-t}}}),(function(n,t,r,e){var i;if(null==n)i=r*th,e.point(-nh,i),e.point(0,i),e.point(nh,i),e.point(nh,0),e.point(nh,-i),e.point(0,-i),e.point(-nh,-i),e.point(-nh,0),e.point(-nh,i);else if(ah(n[0]-t[0])>1e-6){var o=n[0]<t[0]?nh:-nh;i=r*o/2,e.point(-o,i),e.point(0,i),e.point(o,i)}else e.point(t[0],t[1])}),[-nh,-th]);function $h(n){var t=fh(n),r=6*oh,e=t>0,i=ah(t)>1e-6;function o(n,r){return fh(n)*fh(r)>t}function a(n,r,e){var i=[1,0,0],o=jh(Th(n),Th(r)),a=Oh(o,o),u=o[0],c=a-u*u;if(!c)return!e&&n;var f=t*a/c,s=-t*u/c,l=jh(i,o),h=Ch(i,f);kh(h,Ch(o,s));var p=l,v=Oh(h,p),d=Oh(p,p),g=v*v-d*(Oh(h,h)-1);if(!(g<0)){var y=dh(g),m=Ch(p,(-v-y)/d);if(kh(m,h),m=Mh(m),!e)return m;var w,x=n[0],E=r[0],b=n[1],_=r[1];E<x&&(w=x,x=E,E=w);var S=E-x,M=ah(S-nh)<1e-6;if(!M&&_<b&&(w=b,b=_,_=w),M||S<1e-6?M?b+_>0^m[1]<(ah(m[0]-x)<1e-6?b:_):b<=m[1]&&m[1]<=_:S>nh^(x<=m[0]&&m[0]<=E)){var T=Ch(p,(-v+y)/d);return kh(T,h),[m,Mh(T)]}}}function u(t,r){var i=e?n:nh-n,o=0;return t<-i?o|=1:t>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}return Uh(o,(function(n){var t,r,c,f,s;return{lineStart:function(){f=c=!1,s=1},point:function(l,h){var p,v=[l,h],d=o(l,h),g=e?d?0:u(l,h):d?u(l+(l<0?nh:-nh),h):0;if(!t&&(f=c=d)&&n.lineStart(),d!==c&&(!(p=a(t,v))||zh(t,p)||zh(v,p))&&(v[2]=1),d!==c)s=0,d?(n.lineStart(),p=a(v,t),n.point(p[0],p[1])):(p=a(t,v),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(i&&t&&e^d){var y;g&r||!(y=a(v,t,!0))||(s=0,e?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!d||t&&zh(t,v)||n.point(v[0],v[1]),t=v,c=d,r=g},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return s|(f&&c)<<1}}}),(function(t,e,i,o){!function(n,t,r,e,i,o){if(r){var a=fh(t),u=ph(t),c=e*r;null==i?(i=t+e*eh,o=t-c/2):(i=Lh(a,i),o=Lh(a,o),(e>0?i<o:i>o)&&(i+=e*eh));for(var f,s=i;e>0?s>o:s<o;s-=c)f=Mh([a,-u*fh(s),-u*ph(s)]),n.point(f[0],f[1])}}(o,n,r,i,t,e)}),e?[0,-n]:[-nh,n-nh])}function Xh(n,t,r,e){function i(i,o){return n<=i&&i<=r&&t<=o&&o<=e}function o(i,o,u,f){var s=0,l=0;if(null==i||(s=a(i,u))!==(l=a(o,u))||c(i,o)<0^u>0)do{f.point(0===s||3===s?n:r,s>1?e:t)}while((s=(s+u+4)%4)!==l);else f.point(o[0],o[1])}function a(e,i){return ah(e[0]-n)<1e-6?i>0?0:3:ah(e[0]-r)<1e-6?i>0?2:1:ah(e[1]-t)<1e-6?i>0?1:0:i>0?3:2}function u(n,t){return c(n.x,t.x)}function c(n,t){var r=a(n,1),e=a(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(a){var c,f,s,l,h,p,v,d,g,y,m,w=a,x=Bh(),E={point:b,lineStart:function(){E.point=_,f&&f.push(s=[]);y=!0,g=!1,v=d=NaN},lineEnd:function(){c&&(_(l,h),p&&g&&x.rejoin(),c.push(x.result()));E.point=b,g&&w.lineEnd()},polygonStart:function(){w=x,c=[],f=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,r=0,i=f.length;r<i;++r)for(var o,a,u=f[r],c=1,s=u.length,l=u[0],h=l[0],p=l[1];c<s;++c)o=h,a=p,h=(l=u[c])[0],p=l[1],a<=e?p>e&&(h-o)*(e-a)>(p-a)*(n-o)&&++t:p<=e&&(h-o)*(e-a)<(p-a)*(n-o)&&--t;return t}(),r=m&&t,i=(c=Zl(c)).length;(r||i)&&(a.polygonStart(),r&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Vh(c,u,t,o,a),a.polygonEnd());w=a,c=f=s=null}};function b(n,t){i(n,t)&&w.point(n,t)}function _(o,a){var u=i(o,a);if(f&&s.push([o,a]),y)l=o,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(o,a));else if(u&&g)w.point(o,a);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],x=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(n,t,r,e,i,o){var a,u=n[0],c=n[1],f=0,s=1,l=t[0]-u,h=t[1]-c;if(a=r-u,l||!(a>0)){if(a/=l,l<0){if(a<f)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>f&&(f=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>f&&(f=a)}else if(l>0){if(a<f)return;a<s&&(s=a)}if(a=e-c,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>f&&(f=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<s&&(s=a)}return f>0&&(n[0]=u+f*l,n[1]=c+f*h),s<1&&(t[0]=u+s*l,t[1]=c+s*h),!0}}}}}(c,x,n,t,r,e)?u&&(w.lineStart(),w.point(o,a),m=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(x[0],x[1]),u||w.lineEnd(),m=!1)}v=o,d=a,g=u}return E}}var Kh=n=>n,Qh=1/0,Zh=Qh,np=-Qh,tp=np;var rp={point:function(n,t){n<Qh&&(Qh=n);n>np&&(np=n);t<Zh&&(Zh=t);t>tp&&(tp=t)},lineStart:mh,lineEnd:mh,polygonStart:mh,polygonEnd:mh,result:function(){var n=[[Qh,Zh],[np,tp]];return np=tp=-(Zh=Qh=1/0),n}};function ep(n){return function(t){var r=new ip;for(var e in n)r[e]=n[e];return r.stream=t,r}}function ip(){}function op(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=e&&n.clipExtent(null),Sh(r,n.stream(rp)),t(rp.result()),null!=e&&n.clipExtent(e),n}function ap(n,t,r){return op(n,(function(r){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(e/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),a=+t[0][0]+(e-o*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(i-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([a,u])}),r)}ip.prototype={constructor:ip,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var up=fh(30*oh);function cp(n,t){return+t?function(n,t){function r(e,i,o,a,u,c,f,s,l,h,p,v,d,g){var y=f-e,m=s-i,w=y*y+m*m;if(w>4*t&&d--){var x=a+h,E=u+p,b=c+v,_=dh(x*x+E*E+b*b),S=yh(b/=_),M=ah(ah(b)-1)<1e-6||ah(o-l)<1e-6?(o+l)/2:ch(E,x),T=n(M,S),O=T[0],j=T[1],k=O-e,C=j-i,P=m*k-y*C;(P*P/w>t||ah((y*k+m*C)/w-.5)>.3||a*h+u*p+c*v<up)&&(r(e,i,o,a,u,c,O,j,M,x/=_,E/=_,b,d,g),g.point(O,j),r(O,j,M,x,E,b,f,s,l,h,p,v,d,g))}}return function(t){var e,i,o,a,u,c,f,s,l,h,p,v,d={point:g,lineStart:y,lineEnd:w,polygonStart:function(){t.polygonStart(),d.lineStart=x},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(r,e){r=n(r,e),t.point(r[0],r[1])}function y(){s=NaN,d.point=m,t.lineStart()}function m(e,i){var o=Th([e,i]),a=n(e,i);r(s,l,f,h,p,v,s=a[0],l=a[1],f=e,h=o[0],p=o[1],v=o[2],16,t),t.point(s,l)}function w(){d.point=g,t.lineEnd()}function x(){y(),d.point=E,d.lineEnd=b}function E(n,t){m(e=n,t),i=s,o=l,a=h,u=p,c=v,d.point=m}function b(){r(s,l,f,h,p,v,i,o,e,a,u,c,16,t),d.lineEnd=w,w()}return d}}(n,t):function(n){return ep({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}var fp,sp=ep({point:function(n,t){this.stream.point(n*oh,t*oh)}});function lp(n,t,r,e,i,o){if(!o)return function(n,t,r,e,i){function o(o,a){return[t+n*(o*=e),r-n*(a*=i)]}return o.invert=function(o,a){return[(o-t)/n*e,(r-a)/n*i]},o}(n,t,r,e,i);var a=fh(o),u=ph(o),c=a*n,f=u*n,s=a/n,l=u/n,h=(u*r-a*t)/n,p=(u*t+a*r)/n;function v(n,o){return[c*(n*=e)-f*(o*=i)+t,r-f*n-c*o]}return v.invert=function(n,t){return[e*(s*n-l*t+h),i*(p-l*n-s*t)]},v}function hp(n){return pp((function(){return n}))()}function pp(n){var t,r,e,i,o,a,u,c,f,s,l=150,h=480,p=250,v=0,d=0,g=0,y=0,m=0,w=0,x=1,E=1,b=null,_=Jh,S=null,M=Kh,T=.5;function O(n){return c(n[0]*oh,n[1]*oh)}function j(n){return(n=c.invert(n[0],n[1]))&&[n[0]*ih,n[1]*ih]}function k(){var n=lp(l,0,0,x,E,w).apply(null,t(v,d)),e=lp(l,h-n[0],p-n[1],x,E,w);return r=Rh(g,y,m),u=Ah(t,e),c=Ah(r,u),a=cp(u,T),C()}function C(){return f=s=null,O}return O.stream=function(n){return f&&s===n?f:f=sp(function(n){return ep({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}(r)(_(a(M(s=n)))))},O.preclip=function(n){return arguments.length?(_=n,b=void 0,C()):_},O.postclip=function(n){return arguments.length?(M=n,S=e=i=o=null,C()):M},O.clipAngle=function(n){return arguments.length?(_=+n?$h(b=n*oh):(b=null,Jh),C()):b*ih},O.clipExtent=function(n){return arguments.length?(M=null==n?(S=e=i=o=null,Kh):Xh(S=+n[0][0],e=+n[0][1],i=+n[1][0],o=+n[1][1]),C()):null==S?null:[[S,e],[i,o]]},O.scale=function(n){return arguments.length?(l=+n,k()):l},O.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],k()):[h,p]},O.center=function(n){return arguments.length?(v=n[0]%360*oh,d=n[1]%360*oh,k()):[v*ih,d*ih]},O.rotate=function(n){return arguments.length?(g=n[0]%360*oh,y=n[1]%360*oh,m=n.length>2?n[2]%360*oh:0,k()):[g*ih,y*ih,m*ih]},O.angle=function(n){return arguments.length?(w=n%360*oh,k()):w*ih},O.reflectX=function(n){return arguments.length?(x=n?-1:1,k()):x<0},O.reflectY=function(n){return arguments.length?(E=n?-1:1,k()):E<0},O.precision=function(n){return arguments.length?(a=cp(u,T=n*n),C()):dh(T)},O.fitExtent=function(n,t){return ap(O,n,t)},O.fitSize=function(n,t){return function(n,t,r){return ap(n,[[0,0],t],r)}(O,n,t)},O.fitWidth=function(n,t){return function(n,t,r){return op(n,(function(r){var e=+t,i=e/(r[1][0]-r[0][0]),o=(e-i*(r[1][0]+r[0][0]))/2,a=-i*r[0][1];n.scale(150*i).translate([o,a])}),r)}(O,n,t)},O.fitHeight=function(n,t){return function(n,t,r){return op(n,(function(r){var e=+t,i=e/(r[1][1]-r[0][1]),o=-i*r[0][0],a=(e-i*(r[1][1]+r[0][1]))/2;n.scale(150*i).translate([o,a])}),r)}(O,n,t)},function(){return t=n.apply(this,arguments),O.invert=t.invert&&j,k()}}function vp(n){var t=0,r=nh/3,e=pp(n),i=e(t,r);return i.parallels=function(n){return arguments.length?e(t=n[0]*oh,r=n[1]*oh):[t*ih,r*ih]},i}function dp(n,t){var r=ph(n),e=(r+ph(t))/2;if(ah(e)<1e-6)return function(n){var t=fh(n);function r(n,r){return[n*t,ph(r)/t]}return r.invert=function(n,r){return[n/t,yh(r*t)]},r}(n);var i=1+r*(2*e-r),o=dh(i)/e;function a(n,t){var r=dh(i-2*e*ph(t))/e;return[r*ph(n*=e),o-r*fh(n)]}return a.invert=function(n,t){var r=o-t,a=ch(n,ah(r))*vh(r);return r*e<0&&(a-=nh*vh(n)*vh(r)),[a/e,yh((i-(n*n+r*r)*e*e)/(2*e))]},a}function gp(){return vp(dp).scale(155.424).center([0,33.6442])}function yp(){return gp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function mp(n,t){return[n,lh(gh((th+t)/2))]}function wp(){return xp(mp).scale(961/eh)}function xp(n){var t,r,e,i=hp(n),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,f=null;function s(){var o=nh*a(),u=i(function(n){function t(t){return(t=n(t[0]*oh,t[1]*oh))[0]*=ih,t[1]*=ih,t}return n=Rh(n[0]*oh,n[1]*oh,n.length>2?n[2]*oh:0),t.invert=function(t){return(t=n.invert(t[0]*oh,t[1]*oh))[0]*=ih,t[1]*=ih,t},t}(i.rotate()).invert([0,0]));return c(null==f?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:n===mp?[[Math.max(u[0]-o,f),t],[Math.min(u[0]+o,r),e]]:[[f,Math.max(u[1]-o,t)],[r,Math.min(u[1]+o,e)]])}return i.scale=function(n){return arguments.length?(a(n),s()):a()},i.translate=function(n){return arguments.length?(u(n),s()):u()},i.center=function(n){return arguments.length?(o(n),s()):o()},i.clipExtent=function(n){return arguments.length?(null==n?f=t=r=e=null:(f=+n[0][0],t=+n[0][1],r=+n[1][0],e=+n[1][1]),s()):null==f?null:[[f,t],[r,e]]},s()}function Ep(n){return gh((th+n)/2)}function bp(n,t){var r=fh(n),e=n===t?ph(n):lh(r/fh(t))/lh(Ep(t)/Ep(n)),i=r*hh(Ep(n),e)/e;if(!e)return mp;function o(n,t){i>0?t<1e-6-th&&(t=1e-6-th):t>th-1e-6&&(t=th-1e-6);var r=i/hh(Ep(t),e);return[r*ph(e*n),i-r*fh(e*n)]}return o.invert=function(n,t){var r=i-t,o=vh(e)*dh(n*n+r*r),a=ch(n,ah(r))*vh(r);return r*e<0&&(a-=nh*vh(n)*vh(r)),[a/e,2*uh(hh(i/o,1/e))-th]},o}function _p(){return vp(bp).scale(109.5).parallels([30,30])}function Sp(n,t){return[n,t]}function Mp(){return hp(Sp).scale(152.63)}function Tp(n,t){var r=fh(n),e=n===t?ph(n):(r-fh(t))/(t-n),i=r/e+n;if(ah(e)<1e-6)return Sp;function o(n,t){var r=i-t,o=e*n;return[r*ph(o),i-r*fh(o)]}return o.invert=function(n,t){var r=i-t,o=ch(n,ah(r))*vh(r);return r*e<0&&(o-=nh*vh(n)*vh(r)),[o/e,i-vh(e)*dh(n*n+r*r)]},o}function Op(){return vp(Tp).scale(131.154).center([0,13.9389])}function jp(n,t){var r=fh(t),e=1+fh(n)*r;return[r*ph(n)/e,ph(t)/e]}function kp(n,t){return[lh(gh((th+t)/2)),-n]}function Cp(){}mp.invert=function(n,t){return[n,2*uh(sh(t))-th]},Sp.invert=Sp,jp.invert=(fp=function(n){return 2*uh(n)},function(n,t){var r=dh(n*n+t*t),e=fp(r),i=ph(e),o=fh(e);return[ch(n*i,r*o),yh(r&&t*i/r)]}),kp.invert=function(n,t){return[-t,2*uh(sh(n))-th]};var Pp=1/0,Ap=Pp,Np=-Pp,Rp=Np,Dp={point:function(n,t){n<Pp&&(Pp=n);n>Np&&(Np=n);t<Ap&&(Ap=t);t>Rp&&(Rp=t)},lineStart:Cp,lineEnd:Cp,polygonStart:Cp,polygonEnd:Cp,result:function(){var n=[[Pp,Ap],[Np,Rp]];return Np=Rp=-(Ap=Pp=1/0),n}};function Ip(n,t,r){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),Sh(r,n.stream(Dp));var a=Dp.result(),u=Math.min(e/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),c=+t[0][0]+(e-u*(a[1][0]+a[0][0]))/2,f=+t[0][1]+(i-u*(a[1][1]+a[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*u).translate([c,f])}function qp(n,t,r){return Ip(n,[[0,0],t],r)}const Lp=Math.PI,Bp=2*Lp,zp=Bp-1e-6;function Fp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vp(){return new Fp}Fp.prototype=Vp.prototype={constructor:Fp,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,r,e){this._+="Q"+ +n+","+ +t+","+(this._x1=+r)+","+(this._y1=+e)},bezierCurveTo:function(n,t,r,e,i,o){this._+="C"+ +n+","+ +t+","+ +r+","+ +e+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(n,t,r,e,i){n=+n,t=+t,r=+r,e=+e,i=+i;var o=this._x1,a=this._y1,u=r-n,c=e-t,f=o-n,s=a-t,l=f*f+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(l>1e-6)if(Math.abs(s*u-c*f)>1e-6&&i){var h=r-o,p=e-a,v=u*u+c*c,d=h*h+p*p,g=Math.sqrt(v),y=Math.sqrt(l),m=i*Math.tan((Lp-Math.acos((v+l-d)/(2*g*y)))/2),w=m/y,x=m/g;Math.abs(w-1)>1e-6&&(this._+="L"+(n+w*f)+","+(t+w*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>f*p)+","+(this._x1=n+x*u)+","+(this._y1=t+x*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,r,e,i,o){n=+n,t=+t,o=!!o;var a=(r=+r)*Math.cos(e),u=r*Math.sin(e),c=n+a,f=t+u,s=1^o,l=o?e-i:i-e;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+c+","+f),r&&(l<0&&(l=l%Bp+Bp),l>zp?this._+="A"+r+","+r+",0,1,"+s+","+(n-a)+","+(t-u)+"A"+r+","+r+",0,1,"+s+","+(this._x1=c)+","+(this._y1=f):l>1e-6&&(this._+="A"+r+","+r+",0,"+ +(l>=Lp)+","+s+","+(this._x1=n+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(n,t,r,e){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +e+"h"+-r+"Z"},toString:function(){return this._}};var Gp=n(Object.freeze(Object.defineProperty({__proto__:null,geoAlbersUsa:function(){var n,t,r,e,i,o,a=yp(),u=gp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=gp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(n,t){o=[n,t]}};function s(n){var t=n[0],a=n[1];return o=null,r.point(t,a),o||(e.point(t,a),o)||(i.point(t,a),o)}function l(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.12&&i<.234&&e>=-.425&&e<-.214?u:i>=.166&&i<.234&&e>=-.214&&e<-.115?c:a).invert(n)},s.stream=function(r){return n&&t===r?n:(e=[a.stream(t=r),u.stream(r),c.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},s.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),u.scale(.35*n),c.scale(n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),o=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[o-.455*t,s-.238*t],[o+.455*t,s+.238*t]]).stream(f),e=u.translate([o-.307*t,s+.201*t]).clipExtent([[o-.425*t+1e-6,s+.12*t+1e-6],[o-.214*t-1e-6,s+.234*t-1e-6]]).stream(f),i=c.translate([o-.205*t,s+.212*t]).clipExtent([[o-.214*t+1e-6,s+.166*t+1e-6],[o-.115*t-1e-6,s+.234*t-1e-6]]).stream(f),l()},s.fitExtent=function(n,t){return Ip(s,n,t)},s.fitSize=function(n,t){return qp(s,n,t)},s.drawCompositionBorders=function(n){var t=a([-102.91,26.3]),r=a([-104,27.5]),e=a([-108,29.1]),i=a([-110,29.1]),o=a([-110,26.7]),u=a([-112.8,27.6]),c=a([-114.3,30.6]),f=a([-119.3,30.1]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.moveTo(o[0],o[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(f[0],f[1])},s.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},s.scale(1070)},geoAlbersUsaTerritories:function(){var n,t,r,e,i,o,a,u,c,f=yp(),s=gp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=gp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h=gp().rotate([66,0]).center([0,18]).parallels([8,18]),p=Mp().rotate([173,14]),v=Mp().rotate([-145,-16.8]),d={point:function(n,t){c=[n,t]}};function g(n){var t=n[0],f=n[1];return c=null,r.point(t,f),c||(e.point(t,f),c)||(i.point(t,f),c)||(o.point(t,f),c)||(a.point(t,f),c)||(u.point(t,f),c)}function y(){return n=t=null,g}return g.invert=function(n){var t=f.scale(),r=f.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.12&&i<.234&&e>=-.425&&e<-.214?s:i>=.166&&i<.234&&e>=-.214&&e<-.115?l:i>=.2064&&i<.2413&&e>=.312&&e<.385?h:i>=.09&&i<.1197&&e>=-.4243&&e<-.3232?p:i>=-.0518&&i<.0895&&e>=-.4243&&e<-.3824?v:f).invert(n)},g.stream=function(r){return n&&t===r?n:(e=[f.stream(t=r),s.stream(r),l.stream(r),h.stream(r),p.stream(r),v.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},g.precision=function(n){return arguments.length?(f.precision(n),s.precision(n),l.precision(n),h.precision(n),p.precision(n),v.precision(n),y()):f.precision()},g.scale=function(n){return arguments.length?(f.scale(n),s.scale(.35*n),l.scale(n),h.scale(n),p.scale(2*n),v.scale(n),g.translate(f.translate())):f.scale()},g.translate=function(n){if(!arguments.length)return f.translate();var t=f.scale(),c=+n[0],g=+n[1];return r=f.translate(n).clipExtent([[c-.455*t,g-.238*t],[c+.455*t,g+.238*t]]).stream(d),e=s.translate([c-.307*t,g+.201*t]).clipExtent([[c-.425*t+1e-6,g+.12*t+1e-6],[c-.214*t-1e-6,g+.233*t-1e-6]]).stream(d),i=l.translate([c-.205*t,g+.212*t]).clipExtent([[c-.214*t+1e-6,g+.166*t+1e-6],[c-.115*t-1e-6,g+.233*t-1e-6]]).stream(d),o=h.translate([c+.35*t,g+.224*t]).clipExtent([[c+.312*t+1e-6,g+.2064*t+1e-6],[c+.385*t-1e-6,g+.233*t-1e-6]]).stream(d),a=p.translate([c-.492*t,g+.09*t]).clipExtent([[c-.4243*t+1e-6,g+.0903*t+1e-6],[c-.3233*t-1e-6,g+.1197*t-1e-6]]).stream(d),u=v.translate([c-.408*t,g+.018*t]).clipExtent([[c-.4244*t+1e-6,g-.0519*t+1e-6],[c-.3824*t-1e-6,g+.0895*t-1e-6]]).stream(d),y()},g.fitExtent=function(n,t){return Ip(g,n,t)},g.fitSize=function(n,t){return qp(g,n,t)},g.drawCompositionBorders=function(n){var t=f([-110.4641,28.2805]),r=f([-104.0597,28.9528]),e=f([-103.7049,25.1031]),i=f([-109.8337,24.4531]),o=f([-124.4745,28.1407]),a=f([-110.931,30.8844]),u=f([-109.8337,24.4531]),c=f([-122.4628,21.8562]),s=f([-76.8579,25.1544]),l=f([-72.429,24.2097]),h=f([-72.8265,22.7056]),p=f([-77.1852,23.6392]),v=f([-125.0093,29.7791]),d=f([-118.5193,31.3262]),g=f([-118.064,29.6912]),y=f([-124.4369,28.169]),m=f([-128.1314,37.4582]),w=f([-125.2132,38.214]),x=f([-122.3616,30.5115]),E=f([-125.0315,29.8211]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),n.moveTo(o[0],o[1]),n.lineTo(a[0],a[1]),n.lineTo(u[0],u[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(s[0],s[1]),n.lineTo(l[0],l[1]),n.lineTo(h[0],h[1]),n.lineTo(h[0],h[1]),n.lineTo(p[0],p[1]),n.closePath(),n.moveTo(v[0],v[1]),n.lineTo(d[0],d[1]),n.lineTo(g[0],g[1]),n.lineTo(g[0],g[1]),n.lineTo(y[0],y[1]),n.closePath(),n.moveTo(m[0],m[1]),n.lineTo(w[0],w[1]),n.lineTo(x[0],x[1]),n.lineTo(x[0],x[1]),n.lineTo(E[0],E[1]),n.closePath()},g.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},g.scale(1070)},geoConicConformalSpain:function(){var n,t,r,e,i,o=_p().rotate([5,-38.6]).parallels([0,60]),a=_p().rotate([5,-38.6]).parallels([0,60]),u={point:function(n,t){i=[n,t]}};function c(n){var t=n[0],o=n[1];return i=null,r.point(t,o),i||(e.point(t,o),i)}function f(){return n=t=null,c}return c.invert=function(n){var t=o.scale(),r=o.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.05346&&i<.0897&&e>=-.13388&&e<-.0322?a:o).invert(n)},c.stream=function(r){return n&&t===r?n:(e=[o.stream(t=r),a.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},c.precision=function(n){return arguments.length?(o.precision(n),a.precision(n),f()):o.precision()},c.scale=function(n){return arguments.length?(o.scale(n),a.scale(n),c.translate(o.translate())):o.scale()},c.translate=function(n){if(!arguments.length)return o.translate();var t=o.scale(),i=+n[0],c=+n[1];return r=o.translate(n).clipExtent([[i-.06857*t,c-.1288*t],[i+.13249*t,c+.06*t]]).stream(u),e=a.translate([i+.1*t,c-.094*t]).clipExtent([[i-.1331*t+1e-6,c+.053457*t+1e-6],[i-.0354*t-1e-6,c+.08969*t-1e-6]]).stream(u),f()},c.fitExtent=function(n,t){return Ip(c,n,t)},c.fitSize=function(n,t){return qp(c,n,t)},c.drawCompositionBorders=function(n){var t=o([-14.034675,34.965007]),r=o([-7.4208899,35.536988]),e=o([-7.3148275,33.54359]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1])},c.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},c.scale(2700)},geoConicConformalPortugal:function(){var n,t,r,e,i,o,a=_p().rotate([10,-39.3]).parallels([0,60]),u=_p().rotate([17,-32.7]).parallels([0,60]),c=_p().rotate([27.8,-38.6]).parallels([0,60]),f={point:function(n,t){o=[n,t]}};function s(n){var t=n[0],a=n[1];return o=null,r.point(t,a),o||(e.point(t,a),o)||(i.point(t,a),o)}function l(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.0093&&i<.03678&&e>=-.03875&&e<-.0116?u:i>=-.0412&&i<.0091&&e>=-.07782&&e<-.01166?c:a).invert(n)},s.stream=function(r){return n&&t===r?n:(e=[a.stream(t=r),u.stream(r),c.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},s.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(.6*n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),o=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[o-.0115*t,s-.1138*t],[o+.2105*t,s+.0673*t]]).stream(f),e=u.translate([o-.0265*t,s+.025*t]).clipExtent([[o-.0388*t+1e-6,s+.0093*t+1e-6],[o-.0116*t-1e-6,s+.0368*t-1e-6]]).stream(f),i=c.translate([o-.045*t,s+-.02*t]).clipExtent([[o-.0778*t+1e-6,s-.0413*t+1e-6],[o-.0117*t-1e-6,s+.0091*t-1e-6]]).stream(f),l()},s.fitExtent=function(n,t){return Ip(s,n,t)},s.fitSize=function(n,t){return qp(s,n,t)},s.drawCompositionBorders=function(n){var t=a([-12.8351,38.7113]),r=a([-10.8482,38.7633]),e=a([-10.8181,37.2072]),i=a([-12.7345,37.1573]),o=a([-16.0753,41.4436]),u=a([-10.9168,41.6861]),c=a([-10.8557,38.7747]),f=a([-15.6728,38.5505]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),n.moveTo(o[0],o[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(c[0],c[1]),n.lineTo(f[0],f[1]),n.closePath()},s.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},s.scale(4200)},geoMercatorEcuador:function(){var n,t,r,e,i,o=wp().rotate([80,1.5]),a=wp().rotate([90.73,1]),u={point:function(n,t){i=[n,t]}};function c(n){var t=n[0],o=n[1];return i=null,r.point(t,o),i||(e.point(t,o),i)}function f(){return n=t=null,c}return c.invert=function(n){var t=o.scale(),r=o.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=-.0676&&i<-.026&&e>=-.0857&&e<-.0263?a:o).invert(n)},c.stream=function(r){return n&&t===r?n:(e=[o.stream(t=r),a.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},c.precision=function(n){return arguments.length?(o.precision(n),a.precision(n),f()):o.precision()},c.scale=function(n){return arguments.length?(o.scale(n),a.scale(n),c.translate(o.translate())):o.scale()},c.translate=function(n){if(!arguments.length)return o.translate();var t=o.scale(),i=+n[0],c=+n[1];return r=o.translate(n).clipExtent([[i-.0262*t,c-.0734*t],[i+.1741*t,c+.079*t]]).stream(u),e=a.translate([i-.06*t,c-.04*t]).clipExtent([[i-.0857*t+1e-6,c-.0676*t+1e-6],[i-.0263*t-1e-6,c-.026*t-1e-6]]).stream(u),f()},c.fitExtent=function(n,t){return Ip(c,n,t)},c.fitSize=function(n,t){return qp(c,n,t)},c.drawCompositionBorders=function(n){var t=o([-84.9032,2.3757]),r=o([-81.5047,2.3708]),e=o([-81.5063,-.01]),i=o([-84.9086,-.005]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath()},c.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},c.scale(3500)},geoTransverseMercatorChile:function(){var n,t,r,e,i,o,a,u,c,f,s=(u=xp(kp),c=u.center,f=u.rotate,u.center=function(n){return arguments.length?c([-n[1],n[0]]):[(n=c())[1],-n[0]]},u.rotate=function(n){return arguments.length?f([n[0],n[1],n.length>2?n[2]+90:90]):[(n=f())[0],n[1],n[2]-90]},f([0,0,90]).scale(159.155)).rotate([72,37]),l=hp(jp).scale(250).clipAngle(142).rotate([72,0]),h=wp().rotate([80,33.5]),p=wp().rotate([110,25]),v={point:function(n,t){a=[n,t]}};function d(n){var t=n[0],u=n[1];return a=null,r.point(t,u),a||(e.point(t,u),a)||(i.point(t,u),a)||(o.point(t,u),a)}function g(){return n=t=null,d}return d.invert=function(n){var t=s.scale(),r=s.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.2582&&i<.32&&e>=-.1036&&e<-.087?l:i>=-.01298&&i<.0133&&e>=-.11396&&e<-.05944?h:i>=.01539&&i<.03911&&e>=-.089&&e<-.0588?p:s).invert(n)},d.stream=function(r){return n&&t===r?n:(e=[s.stream(t=r),l.stream(r),h.stream(r),p.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},d.precision=function(n){return arguments.length?(s.precision(n),l.precision(n),h.precision(n),p.precision(n),g()):s.precision()},d.scale=function(n){return arguments.length?(s.scale(n),l.scale(.15*n),h.scale(1.5*n),p.scale(1.5*n),d.translate(s.translate())):s.scale()},d.translate=function(n){if(!arguments.length)return s.translate();var t=s.scale(),a=+n[0],u=+n[1];return r=s.translate(n).clipExtent([[a-.059*t,u-.3835*t],[a+.4498*t,u+.3375*t]]).stream(v),e=l.translate([a-.087*t,u+.17*t]).clipExtent([[a-.1166*t+1e-6,u+.2582*t+1e-6],[a-.06*t-1e-6,u+.32*t-1e-6]]).stream(v),i=h.translate([a-.092*t,u-0*t]).clipExtent([[a-.114*t+1e-6,u-.013*t+1e-6],[a-.0594*t-1e-6,u+.0133*t-1e-6]]).stream(v),o=p.translate([a-.089*t,u-.0265*t]).clipExtent([[a-.089*t+1e-6,u+.0154*t+1e-6],[a-.0588*t-1e-6,u+.0391*t-1e-6]]).stream(v),g()},d.fitExtent=function(n,t){return Ip(d,n,t)},d.fitSize=function(n,t){return qp(d,n,t)},d.drawCompositionBorders=function(n){var t=s([-82.6999,-51.3043]),r=s([-77.5442,-51.6631]),e=s([-78.0254,-55.186]),i=s([-83.6106,-54.7785]),o=s([-80.0638,-35.984]),a=s([-76.2153,-36.1811]),u=s([-76.2994,-37.6839]),c=s([-80.2231,-37.4757]),f=s([-78.442,-37.706]),l=s([-76.263,-37.8054]),h=s([-76.344,-39.1595]),p=s([-78.5638,-39.0559]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),n.moveTo(o[0],o[1]),n.lineTo(a[0],a[1]),n.lineTo(u[0],u[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(f[0],f[1]),n.lineTo(l[0],l[1]),n.lineTo(h[0],h[1]),n.lineTo(h[0],h[1]),n.lineTo(p[0],p[1]),n.closePath()},d.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},d.scale(700)},geoConicEquidistantJapan:function(){var n,t,r,e,i,o,a=Op().rotate([-136,-22]).parallels([40,34]),u=Op().rotate([-146,-26]).parallels([40,34]),c=Op().rotate([-126,-19]).parallels([40,34]),f={point:function(n,t){o=[n,t]}};function s(n){var t=n[0],a=n[1];return o=null,r.point(t,a),o||(e.point(t,a),o)||(i.point(t,a),o)}function l(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=-.10925&&i<-.02701&&e>=-.135&&e<-.0397?u:i>=.04713&&i<.11138&&e>=-.03986&&e<.051?c:a).invert(n)},s.stream=function(r){return n&&t===r?n:(e=[a.stream(t=r),u.stream(r),c.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},s.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(.7*n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),o=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[o-.1352*t,s-.1091*t],[o+.117*t,s+.098*t]]).stream(f),e=u.translate([o-.0425*t,s-.005*t]).clipExtent([[o-.135*t+1e-6,s-.1093*t+1e-6],[o-.0397*t-1e-6,s-.027*t-1e-6]]).stream(f),i=c.translate(n).clipExtent([[o-.0399*t+1e-6,s+.0471*t+1e-6],[o+.051*t-1e-6,s+.1114*t-1e-6]]).stream(f),l()},s.fitExtent=function(n,t){return Ip(s,n,t)},s.fitSize=function(n,t){return qp(s,n,t)},s.drawCompositionBorders=function(n){var t=a([126.01320483689143,41.621090310215585]),r=a([133.04304387025903,42.15087523707186]),e=a([133.3021766080688,37.43975444725098]),i=a([126.87889168628224,36.95488945159779]),o=a([132.9,29.8]),u=a([134,33]),c=a([139.3,33.2]),f=a([139.16,30.5]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),n.moveTo(o[0],o[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(f[0],f[1])},s.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},s.scale(2200)},geoConicConformalFrance:function(){var n,t,r,e,i,o,a,u,c,f,s,l,h,p,v,d=_p().rotate([-3,-46.2]).parallels([0,60]),g=wp().center([-53.2,3.9]),y=wp().center([-61.03,14.67]),m=wp().center([-61.46,16.14]),w=wp().center([-62.85,17.92]),x=wp().center([-56.23,46.93]),E=wp().center([45.16,-12.8]),b=wp().center([55.52,-21.13]),_=wp().center([165.8,-21.07]),S=wp().center([-178.1,-14.3]),M=wp().center([-150.55,-17.11]),T=wp().center([-150.55,-17.11]),O={point:function(n,t){v=[n,t]}};function j(n){var t=n[0],d=n[1];return v=null,r.point(t,d),v||(e.point(t,d),v)||(i.point(t,d),v)||(o.point(t,d),v)||(a.point(t,d),v)||(u.point(t,d),v)||(c.point(t,d),v)||(f.point(t,d),v)||(s.point(t,d),v)||(l.point(t,d),v)||(h.point(t,d),v)||(p.point(t,d),v)}function k(){return n=t=null,j}return j.invert=function(n){var t=d.scale(),r=d.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.029&&i<.0864&&e>=-.14&&e<-.0996?g:i>=0&&i<.029&&e>=-.14&&e<-.0996?y:i>=-.032&&i<0&&e>=-.14&&e<-.0996?m:i>=-.052&&i<-.032&&e>=-.14&&e<-.0996?w:i>=-.076&&i<.052&&e>=-.14&&e<-.0996?x:i>=-.076&&i<-.052&&e>=.0967&&e<.1371?E:i>=-.052&&i<-.02&&e>=.0967&&e<.1371?b:i>=-.02&&i<.012&&e>=.0967&&e<.1371?_:i>=.012&&i<.033&&e>=.0967&&e<.1371?S:i>=.033&&i<.0864&&e>=.0967&&e<.1371?M:d).invert(n)},j.stream=function(r){return n&&t===r?n:(e=[d.stream(t=r),g.stream(r),y.stream(r),m.stream(r),w.stream(r),x.stream(r),E.stream(r),b.stream(r),_.stream(r),S.stream(r),M.stream(r),T.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},j.precision=function(n){return arguments.length?(d.precision(n),g.precision(n),y.precision(n),m.precision(n),w.precision(n),x.precision(n),E.precision(n),b.precision(n),_.precision(n),S.precision(n),M.precision(n),T.precision(n),k()):d.precision()},j.scale=function(n){return arguments.length?(d.scale(n),g.scale(.6*n),y.scale(1.6*n),m.scale(1.4*n),w.scale(5*n),x.scale(1.3*n),E.scale(1.6*n),b.scale(1.2*n),_.scale(.3*n),S.scale(2.7*n),M.scale(.5*n),T.scale(.06*n),j.translate(d.translate())):d.scale()},j.translate=function(n){if(!arguments.length)return d.translate();var t=d.scale(),v=+n[0],j=+n[1];return r=d.translate(n).clipExtent([[v-.0996*t,j-.0908*t],[v+.0967*t,j+.0864*t]]).stream(O),e=g.translate([v-.12*t,j+.0575*t]).clipExtent([[v-.14*t+1e-6,j+.029*t+1e-6],[v-.0996*t-1e-6,j+.0864*t-1e-6]]).stream(O),i=y.translate([v-.12*t,j+.013*t]).clipExtent([[v-.14*t+1e-6,j+0*t+1e-6],[v-.0996*t-1e-6,j+.029*t-1e-6]]).stream(O),o=m.translate([v-.12*t,j-.014*t]).clipExtent([[v-.14*t+1e-6,j-.032*t+1e-6],[v-.0996*t-1e-6,j+0*t-1e-6]]).stream(O),a=w.translate([v-.12*t,j-.044*t]).clipExtent([[v-.14*t+1e-6,j-.052*t+1e-6],[v-.0996*t-1e-6,j-.032*t-1e-6]]).stream(O),u=x.translate([v-.12*t,j-.065*t]).clipExtent([[v-.14*t+1e-6,j-.076*t+1e-6],[v-.0996*t-1e-6,j-.052*t-1e-6]]).stream(O),c=E.translate([v+.117*t,j-.064*t]).clipExtent([[v+.0967*t+1e-6,j-.076*t+1e-6],[v+.1371*t-1e-6,j-.052*t-1e-6]]).stream(O),f=b.translate([v+.116*t,j-.0355*t]).clipExtent([[v+.0967*t+1e-6,j-.052*t+1e-6],[v+.1371*t-1e-6,j-.02*t-1e-6]]).stream(O),s=_.translate([v+.116*t,j-.0048*t]).clipExtent([[v+.0967*t+1e-6,j-.02*t+1e-6],[v+.1371*t-1e-6,j+.012*t-1e-6]]).stream(O),l=S.translate([v+.116*t,j+.022*t]).clipExtent([[v+.0967*t+1e-6,j+.012*t+1e-6],[v+.1371*t-1e-6,j+.033*t-1e-6]]).stream(O),p=T.translate([v+.11*t,j+.045*t]).clipExtent([[v+.0967*t+1e-6,j+.033*t+1e-6],[v+.1371*t-1e-6,j+.06*t-1e-6]]).stream(O),h=M.translate([v+.115*t,j+.075*t]).clipExtent([[v+.0967*t+1e-6,j+.06*t+1e-6],[v+.1371*t-1e-6,j+.0864*t-1e-6]]).stream(O),k()},j.fitExtent=function(n,t){return Ip(j,n,t)},j.fitSize=function(n,t){return qp(j,n,t)},j.drawCompositionBorders=function(n){var t,r,e,i;t=d([-7.938886725111036,43.7219460918835]),r=d([-4.832080896458295,44.12930268549372]),e=d([-4.205299743793263,40.98096346967365]),i=d([-7.071796453126152,40.610037319181444]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([-8.42751373617692,45.32889452553031]),r=d([-5.18599305777107,45.7566442062976]),e=d([-4.832080905154431,44.129302726751426]),i=d([-7.938886737126192,43.72194613263854]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([-9.012656899657046,47.127733821030176]),r=d([-5.6105244772793155,47.579777861410626]),e=d([-5.185993067168585,45.756644248170346]),i=d([-8.427513749141811,45.32889456686326]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([-9.405747558985553,48.26506375557457]),r=d([-5.896175018439575,48.733352850851624]),e=d([-5.610524487556043,47.57977790393761]),i=d([-9.012656913808351,47.127733862971255]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([-9.908436061346974,49.642448789505856]),r=d([-6.262026716233124,50.131426841787174]),e=d([-5.896175029331232,48.73335289377258]),i=d([-9.40574757396393,48.26506379787767]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([11.996907706504462,50.16039028163579]),r=d([15.649907879773343,49.68279246765253]),e=d([15.156712840526632,48.30371557625831]),i=d([11.64122661754411,48.761078240546816]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([11.641226606955788,48.7610781975889]),r=d([15.156712825832164,48.30371553390465]),e=d([14.549932166241172,46.4866532486199]),i=d([11.204443787952183,46.91899233914248]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([11.204443778297161,46.918992296823646]),r=d([14.549932152815039,46.486653206856396]),e=d([13.994409796764009,44.695833444323256]),i=d([10.805306599253848,45.105133870684924]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([10.805306590412085,45.10513382903308]),r=d([13.99440978444733,44.695833403183606]),e=d([13.654633799024392,43.53552468558152]),i=d([10.561516803980956,43.930671459798624]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([10.561516795617383,43.93067141859757]),r=d([13.654633787361952,43.5355246448671]),e=d([12.867691604239901,40.640701985019405]),i=d([9.997809515987688,41.00288343254471]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([10.8,42.4]),r=d([12.8,42.13]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1])},j.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},j.scale(2700)},geoConicConformalEurope:function(){var n,t,r,e,i,o,a,u,c,f,s,l,h,p,v,d=_p().rotate([-10,-53]).parallels([0,60]),g=wp().center([-61.46,16.14]),y=wp().center([-53.2,3.9]),m=_p().rotate([27.8,-38.9]).parallels([0,60]),w=_p().rotate([25.43,-37.398]).parallels([0,60]),x=_p().rotate([31.17,-39.539]).parallels([0,60]),E=_p().rotate([17,-32.7]).parallels([0,60]),b=_p().rotate([16,-28.5]).parallels([0,60]),_=wp().center([-61.03,14.67]),S=wp().center([45.16,-12.8]),M=wp().center([55.52,-21.13]),T=_p().rotate([-14.4,-35.95]).parallels([0,60]),O={point:function(n,t){v=[n,t]}};function j(n){var t=n[0],d=n[1];return v=null,r.point(t,d),v||(i.point(t,d),v)||(s.point(t,d),v)||(e.point(t,d),v)||(f.point(t,d),v)||(c.point(t,d),v)||(l.point(t,d),v)||(h.point(t,d),v)||(p.point(t,d),v)||(o.point(t,d),v)||(a.point(t,d),v)||(u.point(t,d),v)}function k(){return n=t=null,j}return j.invert=function(n){var t=d.scale(),r=d.translate(),e=(n[0]-(r[0]+.08*t))/t,i=(n[1]-r[1])/t;return(i>=-.31&&i<-.24&&e>=.14&&e<.24?g:i>=-.24&&i<-.17&&e>=.14&&e<.24?y:i>=-.17&&i<-.12&&e>=.21&&e<.24?w:i>=-.17&&i<-.14&&e>=.14&&e<.165?x:i>=-.17&&i<-.1&&e>=.14&&e<.24?m:i>=-.1&&i<-.03&&e>=.14&&e<.24?E:i>=-.03&&i<.04&&e>=.14&&e<.24?b:i>=-.31&&i<-.24&&e>=.24&&e<.34?_:i>=-.24&&i<-.17&&e>=.24&&e<.34?S:i>=-.17&&i<-.1&&e>=.24&&e<.34?M:i>=-.1&&i<-.03&&e>=.24&&e<.34?T:d).invert(n)},j.stream=function(r){return n&&t===r?n:(e=[d.stream(t=r),y.stream(r),_.stream(r),g.stream(r),b.stream(r),E.stream(r),S.stream(r),M.stream(r),T.stream(r),m.stream(r),w.stream(r),x.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},j.precision=function(n){return arguments.length?(d.precision(n),y.precision(n),_.precision(n),g.precision(n),b.precision(n),E.precision(n),S.precision(n),M.precision(n),T.precision(n),m.precision(n),w.precision(n),x.precision(n),k()):d.precision()},j.scale=function(n){return arguments.length?(d.scale(n),g.scale(3*n),y.scale(.8*n),_.scale(3.5*n),M.scale(2.7*n),m.scale(2*n),w.scale(2*n),x.scale(2*n),E.scale(3*n),b.scale(n),S.scale(5.5*n),T.scale(6*n),j.translate(d.translate())):d.scale()},j.translate=function(n){if(!arguments.length)return d.translate();var t=d.scale(),v=+n[0],j=+n[1];return r=d.translate([v-.08*t,j]).clipExtent([[v-.51*t,j-.33*t],[v+.5*t,j+.33*t]]).stream(O),e=g.translate([v+.19*t,j-.275*t]).clipExtent([[v+.14*t+1e-6,j-.31*t+1e-6],[v+.24*t-1e-6,j-.24*t-1e-6]]).stream(O),i=y.translate([v+.19*t,j-.205*t]).clipExtent([[v+.14*t+1e-6,j-.24*t+1e-6],[v+.24*t-1e-6,j-.17*t-1e-6]]).stream(O),o=m.translate([v+.19*t,j-.135*t]).clipExtent([[v+.14*t+1e-6,j-.17*t+1e-6],[v+.24*t-1e-6,j-.1*t-1e-6]]).stream(O),a=w.translate([v+.225*t,j-.147*t]).clipExtent([[v+.21*t+1e-6,j-.17*t+1e-6],[v+.24*t-1e-6,j-.12*t-1e-6]]).stream(O),u=x.translate([v+.153*t,j-.15*t]).clipExtent([[v+.14*t+1e-6,j-.17*t+1e-6],[v+.165*t-1e-6,j-.14*t-1e-6]]).stream(O),c=E.translate([v+.19*t,j-.065*t]).clipExtent([[v+.14*t+1e-6,j-.1*t+1e-6],[v+.24*t-1e-6,j-.03*t-1e-6]]).stream(O),f=b.translate([v+.19*t,j+.005*t]).clipExtent([[v+.14*t+1e-6,j-.03*t+1e-6],[v+.24*t-1e-6,j+.04*t-1e-6]]).stream(O),s=_.translate([v+.29*t,j-.275*t]).clipExtent([[v+.24*t+1e-6,j-.31*t+1e-6],[v+.34*t-1e-6,j-.24*t-1e-6]]).stream(O),l=S.translate([v+.29*t,j-.205*t]).clipExtent([[v+.24*t+1e-6,j-.24*t+1e-6],[v+.34*t-1e-6,j-.17*t-1e-6]]).stream(O),h=M.translate([v+.29*t,j-.135*t]).clipExtent([[v+.24*t+1e-6,j-.17*t+1e-6],[v+.34*t-1e-6,j-.1*t-1e-6]]).stream(O),p=T.translate([v+.29*t,j-.065*t]).clipExtent([[v+.24*t+1e-6,j-.1*t+1e-6],[v+.34*t-1e-6,j-.03*t-1e-6]]).stream(O),k()},j.fitExtent=function(n,t){return Ip(j,n,t)},j.fitSize=function(n,t){return qp(j,n,t)},j.drawCompositionBorders=function(n){var t,r,e,i;t=d([42.45755610828648,63.343658547914934]),r=d([52.65837266667029,59.35045080290929]),e=d([47.19754502247785,56.12653496548117]),i=d([37.673034273363044,59.61638268506111]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([59.41110754003403,62.35069727399336]),r=d([66.75050228640794,57.11797303636038]),e=d([60.236065725110436,54.63331433818992]),i=d([52.65837313153311,59.350450804599355]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([48.81091130080243,66.93353402634641]),r=d([59.41110730654679,62.35069740653086]),e=d([52.6583728974441,59.3504509222445]),i=d([42.45755631675751,63.34365868805821]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([31.054198418446475,52.1080673766184]),r=d([39.09869284884117,49.400700047190554]),e=d([36.0580811499175,46.02944174908498]),i=d([28.690508588835726,48.433126979386415]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([33.977877745912025,55.849945501331]),r=d([42.75328432167726,52.78455122462353]),e=d([39.09869297540224,49.400700176148625]),i=d([31.05419851807008,52.10806751810923]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([52.658372900759296,59.35045068526415]),r=d([60.23606549583304,54.63331423800264]),e=d([54.6756370953122,51.892298789399455]),i=d([47.19754524788189,56.126534861222794]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([47.19754506082455,56.126534735591456]),r=d([54.675636900123514,51.892298681337095]),e=d([49.94448648951486,48.98775484983285]),i=d([42.75328468716108,52.78455126060818]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([42.75328453416769,52.78455113209101]),r=d([49.94448632339758,48.98775473706457]),e=d([45.912339990394315,45.99361784987003]),i=d([39.09869317356607,49.40070009378711]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([37.673034114296634,59.61638254183119]),r=d([47.197544835420544,56.126534839849846]),e=d([42.75328447467064,52.78455135314068]),i=d([33.977877870363905,55.849945644671145]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([44.56748486446032,57.26489367845818]),e=d([43.9335791193588,53.746540942601726]),i=d([43,56]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=d([37.673034114296634,59.61638254183119]),r=d([40.25902691953466,58.83002044222639]),e=d([38.458270492742024,57.26232178028002]),i=d([35.97754948030156,58.00266637992386]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath()},j.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},j.scale(750)},geoConicConformalNetherlands:function(){var n,t,r,e,i,o,a=_p().rotate([-5.5,-52.2]).parallels([0,60]),u=wp().center([-68.25,12.2]),c=wp().center([-63.1,17.5]),f={point:function(n,t){o=[n,t]}};function s(n){const[t,a]=n;return o=null,r.point(t,a),o||(e.point(t,a),o)||(i.point(t,a),o)}function l(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=-.0067&&i<.0015&&e>=-.0232&&e<-.0154?u:i>=-.022&&i<-.014&&e>=-.023&&e<-.014?c:a).invert(n)},s.stream=function(r){return n&&t===r?n:(e=[a.stream(t=r),u.stream(r),c.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},s.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();const t=a.scale(),o=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[o-.0245*t,s-.026*t],[o+.023*t,s+.026*t]]).stream(f),e=u.translate([o-.0186*t,s-.00325*t]).clipExtent([[o-.0232*t+1e-6,s-.0067*t+1e-6],[o-.0154*t-1e-6,s+.0015*t-1e-6]]).stream(f),i=c.translate([o-.0185*t,s-.017*t]).clipExtent([[o-.023*t+1e-6,s-.022*t+1e-6],[o-.014*t-1e-6,s-.014*t-1e-6]]).stream(f),l()},s.fitExtent=function(n,t){return Ip(s,n,t)},s.fitSize=function(n,t){return qp(s,n,t)},s.drawCompositionBorders=function(n){var t=a([3.30573,52.5562]),r=a([4.043,52.572]),e=a([4.0646,52.1017]),i=a([3.3382,52.0861]),o=a([3.262,53.439]),u=a([4.1373,53.4571]),c=a([4.1574,52.9946]),f=a([3.2951,52.9768]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),n.moveTo(o[0],o[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(c[0],c[1]),n.lineTo(f[0],f[1]),n.closePath()},s.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},s.scale(4200)},geoMercatorMalaysia:function(){var n,t,r,e,i,o=wp().center([105.25,4]),a=wp().center([118.65,2.86]),u={point:function(n,t){i=[n,t]}};function c(n){var t=n[0],o=n[1];return i=null,r.point(t,o),i||(e.point(t,o),i)}function f(){return n=t=null,c}return c.invert=function(n){var t=o.scale(),r=o.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=-.0521&&i<.0229&&e>=-.0111&&e<.1?a:o).invert(n)},c.stream=function(r){return n&&t===r?n:(e=[o.stream(t=r),a.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},c.precision=function(n){return arguments.length?(o.precision(n),a.precision(n),f()):o.precision()},c.scale=function(n){return arguments.length?(o.scale(n),a.scale(.615*n),c.translate(o.translate())):o.scale()},c.translate=function(n){if(!arguments.length)return o.translate();var t=o.scale(),i=+n[0],c=+n[1];return r=o.translate(n).clipExtent([[i-.11*t,c-.0521*t],[i-.0111*t,c+.0521*t]]).stream(u),e=a.translate([i+.09*t,c-0*t]).clipExtent([[i-.0111*t+1e-6,c-.0521*t+1e-6],[i+.1*t-1e-6,c+.024*t-1e-6]]).stream(u),f()},c.fitExtent=function(n,t){return Ip(c,n,t)},c.fitSize=function(n,t){return qp(c,n,t)},c.drawCompositionBorders=function(n){var t=o([106.3214,2.0228]),r=o([105.1843,2.3761]),e=o([104.2151,3.3618]),i=o([104.215,4.5651]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1])},c.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},c.scale(4800)},geoMercatorEquatorialGuinea:function(){var n,t,r,e,i,o,a=wp().rotate([-9.5,-1.5]),u=wp().rotate([-8.6,-3.5]),c=wp().rotate([-5.6,1.45]),f={point:function(n,t){o=[n,t]}};function s(n){var t=n[0],a=n[1];return o=null,r.point(t,a),o||(e.point(t,a),o)||(i.point(t,a),o)}function l(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=-.02&&i<0&&e>=-.038&&e<-.005?u:i>=0&&i<.02&&e>=-.038&&e<-.005?c:a).invert(n)},s.stream=function(r){return n&&t===r?n:(e=[a.stream(t=r),u.stream(r),c.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},s.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),u.scale(1.5*n),c.scale(4*n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),o=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[o-.005*t,s-.02*t],[o+.038*t,s+.02*t]]).stream(f),e=u.translate([o-.025*t,s-.01*t]).clipExtent([[o-.038*t+1e-6,s-.02*t+1e-6],[o-.005*t-1e-6,s+0*t-1e-6]]).stream(f),i=c.translate([o-.025*t,s+.01*t]).clipExtent([[o-.038*t+1e-6,s-0*t+1e-6],[o-.005*t-1e-6,s+.02*t-1e-6]]).stream(f),l()},s.fitExtent=function(n,t){return Ip(s,n,t)},s.fitSize=function(n,t){return qp(s,n,t)},s.drawCompositionBorders=function(n){var t,r,e,i;t=a([9.21327272751682,2.645820439454123]),r=a([11.679126293239872,2.644755519268689]),e=a([11.676845389029227,.35307824637606433]),i=a([9.213572917774014,.35414205204417754]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=a([7.320873711543669,2.64475551449975]),r=a([9.213272722738658,2.645820434679803]),e=a([9.213422896480349,1.4999812505283054]),i=a([7.322014760520787,1.4989168878985566]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath(),t=a([7.3220147605302905,1.4989168783492766]),r=a([9.213422896481598,1.499981240979021]),e=a([9.213572912999604,.354142056817247]),i=a([7.323154615739809,.353078251154504]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath()},s.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},s.scale(12e3)},geoAlbersUk:function(){var n,t,r,e,i,o=yp().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a=yp().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),u={point:function(n,t){i=[n,t]}};function c(n){var t=n[0],o=n[1];return i=null,r.point(t,o),i||(e.point(t,o),i)}function f(){return n=t=null,c}return c.invert=function(n){var t=o.scale(),r=o.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=-.089&&i<.06&&e>=.029&&e<.046?a:o).invert(n)},c.stream=function(r){return n&&t===r?n:(e=[o.stream(t=r),a.stream(r)],i=e.length,n={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},c.precision=function(n){return arguments.length?(o.precision(n),a.precision(n),f()):o.precision()},c.scale=function(n){return arguments.length?(o.scale(n),a.scale(n),c.translate(o.translate())):o.scale()},c.translate=function(n){if(!arguments.length)return o.translate();var t=o.scale(),i=+n[0],c=+n[1];return r=o.translate(n).clipExtent([[i-.065*t,c-.089*t],[i+.075*t,c+.089*t]]).stream(u),e=a.translate([i+.01*t,c+.025*t]).clipExtent([[i+.029*t+1e-6,c-.089*t+1e-6],[i+.046*t-1e-6,c-.06*t-1e-6]]).stream(u),f()},c.fitExtent=function(n,t){return Ip(c,n,t)},c.fitSize=function(n,t){return qp(c,n,t)},c.drawCompositionBorders=function(n){var t,r,e,i;t=o([-1.113205870242365,59.64920050773357]),r=o([.807899092399606,59.59085836472269]),e=o([.5778611961420386,57.93467822832577]),i=o([-1.25867782078448,57.99029450085142]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(i[0],i[1]),n.closePath()},c.getCompositionBorders=function(){var n=Vp();return this.drawCompositionBorders(n),n.toString()},c.scale(2800)}},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(Kl,"__esModule",{value:!0});var Hp=y,Up=ht,Wp=Hp.__importStar(Ao),Yp=Hp.__importStar(Hl),Jp=Hp.__importStar(Gp);Kl.default=function(n,t){if(void 0===t&&(t=!1),Up.isFunction(n))return t?n:n();if(Up.isString(n)){if(Wp[n])return t?Wp[n]:Wp[n]();if(Yp[n])return t?Yp[n]:Yp[n]();if(Jp[n])return t?Jp[n]:Jp[n]()}return null};var $p=ht,Xp=Ao,Kp=Hl,Qp=Ul,Zp=y.__importDefault(Kl),nv={geoArea:function(n){return Xp.geoArea(n)},geoAreaByName:function(n){return Xp.geoArea(this.geoFeatureByName(n))},geoCentroid:function(n){return Xp.geoCentroid(n)},geoCentroidByName:function(n){return Xp.geoCentroid(this.geoFeatureByName(n))},geoDistance:function(n,t){return Xp.geoDistance(n,t)},geoLength:function(n){return Xp.geoLength(n)},geoLengthByName:function(n){return Xp.geoLength(this.geoFeatureByName(n))},geoContains:function(n,t){return Xp.geoContains(n,t)},geoFeatureByName:function(n){var t;return this.rows.some((function(r){return r.name===n&&(t=r,!0)})),t},geoFeatureByPosition:function(n){var t;return this.rows.some((function(r){return!!Xp.geoContains(r,n)&&(t=r,!0)})),t},geoNameByPosition:function(n){var t=this.geoFeatureByPosition(n);if(t)return t.name},getGeoProjection:Zp.default,geoProject:function(n,t,r){return t=Zp.default(t,r),Kp.geoProject(n,t)},geoProjectByName:function(n,t,r){return t=Zp.default(t,r),Kp.geoProject(this.geoFeatureByName(n),t)},geoProjectPosition:function(n,t,r){return Zp.default(t,r)(n)},geoProjectInvert:function(n,t,r){return Zp.default(t,r).invert(n)}};$p.assign(Qp.View.prototype,nv);var tv=ht,rv=Ul;tv.assign(rv.View.prototype,{getAllNodes:function(){var n=[],t=this.root;return t&&t.each?t.each((function(t){n.push(t)})):t&&t.eachNode&&t.eachNode((function(t){n.push(t)})),n},getAllLinks:function(){for(var n,t=[],r=[this.root];n=r.pop();){var e=n.children;e&&e.forEach((function(e){t.push({source:n,target:e}),r.push(e)}))}return t}}),tv.assign(rv.View.prototype,{getAllEdges:rv.View.prototype.getAllLinks});var ev={},iv={};Object.defineProperty(iv,"__esModule",{value:!0});var ov=ht;iv.default=function(n,t){void 0===t&&(t=[]);var r=void 0;return ov.isFunction(t)?r=t:ov.isArray(t)?r=function(n,r){for(var e=0;e<t.length;e++){var i=t[e];if(n[i]<r[i])return-1;if(n[i]>r[i])return 1}return 0}:ov.isString(t)&&(r=function(n,r){return n[t]<r[t]?-1:n[t]>r[t]?1:0}),n.sort(r)},Object.defineProperty(ev,"__esModule",{value:!0});var av=ht,uv=y.__importDefault(iv);ev.default=function(n,t,r){void 0===r&&(r=[]);var e,i=n;return r&&r.length&&(i=uv.default(n,r)),av.isFunction(t)?e=t:av.isArray(t)?e=function(n){return"_"+t.map((function(t){return n[t]})).join("-")}:av.isString(t)&&(e=function(n){return"_"+n[t]}),av.groupBy(i,e)};var cv=ht,fv=y.__importDefault(ev),sv=Ul;cv.assign(sv.View.prototype,{partition:function(n,t){return void 0===t&&(t=[]),fv.default(this.rows,n,t)},group:function(n,t){void 0===t&&(t=[]);var r=this.partition(n,t);return cv.values(r)},groups:function(n,t){return void 0===t&&(t=[]),this.group(n,t)}});var lv={exports:{}};!function(n){function t(n){if(0===n.length)return 0;for(var t,r=n[0],e=0,i=1;i<n.length;i++)t=r+n[i],Math.abs(r)>=Math.abs(n[i])?e+=r-t+n[i]:e+=n[i]-t+r,r=t;return r+e}function r(n){if(0===n.length)throw new Error("mean requires at least one data point");return t(n)/n.length}function e(n,t){var e,i,o=r(n),a=0;if(2===t)for(i=0;i<n.length;i++)a+=(e=n[i]-o)*e;else for(i=0;i<n.length;i++)a+=Math.pow(n[i]-o,t);return a}function i(n){if(0===n.length)throw new Error("variance requires at least one data point");return e(n,2)/n.length}function o(n){if(1===n.length)return 0;var t=i(n);return Math.sqrt(t)}function a(n){if(0===n.length)throw new Error("mode requires at least one data point");if(1===n.length)return n[0];for(var t=n[0],r=NaN,e=0,i=1,o=1;o<n.length+1;o++)n[o]!==t?(e<i&&(e=i,r=t),i=1,t=n[o]):i++;return r}function u(n){return n.slice().sort((function(n,t){return n-t}))}function c(n){if(0===n.length)throw new Error("min requires at least one data point");for(var t=n[0],r=1;r<n.length;r++)n[r]<t&&(t=n[r]);return t}function f(n){if(0===n.length)throw new Error("max requires at least one data point");for(var t=n[0],r=1;r<n.length;r++)n[r]>t&&(t=n[r]);return t}function s(n,t){var r=n.length*t;if(0===n.length)throw new Error("quantile requires at least one data point.");if(t<0||1<t)throw new Error("quantiles must be between 0 and 1");return 1===t?n[n.length-1]:0===t?n[0]:r%1!=0?n[Math.ceil(r)-1]:n.length%2==0?(n[r-1]+n[r])/2:n[r]}function l(n,t,r,e){for(r=r||0,e=e||n.length-1;r<e;){if(600<e-r){var i=e-r+1,o=t-r+1,a=Math.log(i),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(i-u)/i);o-i/2<0&&(c*=-1),l(n,t,Math.max(r,Math.floor(t-o*u/i+c)),Math.min(e,Math.floor(t+(i-o)*u/i+c)))}var f=n[t],s=r,p=e;for(h(n,r,t),n[e]>f&&h(n,r,e);s<p;){for(h(n,s,p),s++,p--;n[s]<f;)s++;for(;n[p]>f;)p--}n[r]===f?h(n,r,p):h(n,++p,e),p<=t&&(r=p+1),t<=p&&(e=p-1)}}function h(n,t,r){var e=n[t];n[t]=n[r],n[r]=e}function p(n,t){var r=n.slice();if(Array.isArray(t)){!function(n,t){for(var r=[0],e=0;e<t.length;e++)r.push(g(n.length,t[e]));r.push(n.length-1),r.sort(d);for(var i=[0,r.length-1];i.length;){var o=Math.ceil(i.pop()),a=Math.floor(i.pop());if(!(o-a<=1)){var u=Math.floor((a+o)/2);v(n,r[u],r[a],r[o]),i.push(a,u,u,o)}}}(r,t);for(var e=[],i=0;i<t.length;i++)e[i]=s(r,t[i]);return e}return v(r,g(r.length,t),0,r.length-1),s(r,t)}function v(n,t,r,e){t%1==0?l(n,t,r,e):(l(n,t=Math.floor(t),r,e),l(n,t+1,t+1,e))}function d(n,t){return n-t}function g(n,t){var r=n*t;return 1===t?n-1:0===t?0:r%1!=0?Math.ceil(r)-1:n%2==0?r-.5:r}function y(n,t){if(t<n[0])return 0;if(t>n[n.length-1])return 1;var r=function(n,t){for(var r=0,e=0,i=n.length;e<i;)t<=n[r=e+i>>>1]?i=r:e=-~r;return e}(n,t);if(n[r]!==t)return r/n.length;r++;var e=function(n,t){for(var r=0,e=0,i=n.length;e<i;)t>=n[r=e+i>>>1]?e=-~r:i=r;return e}(n,t);if(e===r)return r/n.length;var i=e-r+1;return i*(e+r)/2/i/n.length}function m(n){var t=p(n,.75),r=p(n,.25);if("number"==typeof t&&"number"==typeof r)return t-r}function w(n){return+p(n,.5)}function x(n){for(var t=w(n),r=[],e=0;e<n.length;e++)r.push(Math.abs(n[e]-t));return w(r)}function E(n,t){t=t||Math.random;for(var r,e,i=n.length;0<i;)e=Math.floor(t()*i--),r=n[i],n[i]=n[e],n[e]=r;return n}function b(n,t){return E(n.slice().slice(),t)}function _(n){for(var t,r=0,e=0;e<n.length;e++)0!==e&&n[e]===t||(t=n[e],r++);return r}function S(n,t){for(var r=[],e=0;e<n;e++){for(var i=[],o=0;o<t;o++)i.push(0);r.push(i)}return r}function M(n,t,r,e){var i;if(0<n){var o=(r[t]-r[n-1])/(t-n+1);i=e[t]-e[n-1]-(t-n+1)*o*o}else i=e[t]-r[t]*r[t]/(t+1);return i<0?0:i}function T(n,t,r,e,i,o,a){if(!(t<n)){var u=Math.floor((n+t)/2);e[r][u]=e[r-1][u-1],i[r][u]=u;var c=r;r<n&&(c=Math.max(c,i[r][n-1]||0)),c=Math.max(c,i[r-1][u]||0);var f,s,l,h=u-1;t<e.length-1&&(h=Math.min(h,i[r][t+1]||0));for(var p=h;c<=p&&!((f=M(p,u,o,a))+e[r-1][c-1]>=e[r][u]);--p)(s=M(c,u,o,a)+e[r-1][c-1])<e[r][u]&&(e[r][u]=s,i[r][u]=c),c++,(l=f+e[r-1][p-1])<e[r][u]&&(e[r][u]=l,i[r][u]=p);T(n,u-1,r,e,i,o,a),T(u+1,t,r,e,i,o,a)}}function O(n,t){if(n.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(n.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var e=r(n),i=r(t),o=0,a=0;a<n.length;a++)o+=(n[a]-e)*(t[a]-i);return o/(n.length-1)}function j(n){if(n.length<2)throw new Error("sampleVariance requires at least two data points");return e(n,2)/(n.length-1)}function k(n){var t=j(n);return Math.sqrt(t)}function C(n,t,r,e){return(n*t+r*e)/(t+e)}function P(n){if(0===n.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,r=0;r<n.length;r++)t+=Math.pow(n[r],2);return Math.sqrt(t/n.length)}function A(){this.totalCount=0,this.data={}}function N(){this.weights=[],this.bias=0}A.prototype.train=function(n,t){for(var r in this.data[t]||(this.data[t]={}),n){var e=n[r];void 0===this.data[t][r]&&(this.data[t][r]={}),void 0===this.data[t][r][e]&&(this.data[t][r][e]=0),this.data[t][r][e]++}this.totalCount++},A.prototype.score=function(n){var t,r={};for(var e in n){var i=n[e];for(t in this.data)r[t]={},this.data[t][e]?r[t][e+"_"+i]=(this.data[t][e][i]||0)/this.totalCount:r[t][e+"_"+i]=0}var o={};for(t in r)for(var a in o[t]=0,r[t])o[t]+=r[t][a];return o},N.prototype.predict=function(n){if(n.length!==this.weights.length)return null;for(var t=0,r=0;r<this.weights.length;r++)t+=this.weights[r]*n[r];return 0<(t+=this.bias)?1:0},N.prototype.train=function(n,t){if(0!==t&&1!==t)return null;n.length!==this.weights.length&&(this.weights=n,this.bias=1);var r=this.predict(n);if(r!==t){for(var e=t-r,i=0;i<this.weights.length;i++)this.weights[i]+=e*n[i];this.bias+=e}return this};var R=1e-4;function D(n){if(n<0)throw new Error("factorial requires a non-negative value");if(Math.floor(n)!==n)throw new Error("factorial requires an integer input");for(var t=1,r=2;r<=n;r++)t*=r;return t}var I=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],q=Math.log(Math.sqrt(2*Math.PI)),L={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},B=Math.sqrt(2*Math.PI),z={gaussian:function(n){return Math.exp(-.5*n*n)/B}},F={nrd:function(n){var t=k(n),r=m(n);return"number"==typeof r&&(t=Math.min(t,r/1.34)),1.06*t*Math.pow(n.length,-.2)}};function V(n,t,r){var e,i;if(void 0===t)e=z.gaussian;else if("string"==typeof t){if(!z[t])throw new Error('Unknown kernel "'+t+'"');e=z[t]}else e=t;if(void 0===r)i=F.nrd(n);else if("string"==typeof r){if(!F[r])throw new Error('Unknown bandwidth method "'+r+'"');i=F[r](n)}else i=r;return function(t){var r=0,o=0;for(r=0;r<n.length;r++)o+=e((t-n[r])/i);return o/i/n.length}}var G=Math.sqrt(2*Math.PI);function H(n){for(var t=n,r=n,e=1;e<15;e++)t+=r*=n*n/(2*e+1);return Math.round(1e4*(.5+t/G*Math.exp(-n*n/2)))/1e4}for(var U=[],W=0;W<=3.09;W+=.01)U.push(H(W));function Y(n){var t=1/(1+.5*Math.abs(n)),r=t*Math.exp(-Math.pow(n,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return 0<=n?1-r:r-1}function J(n){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),r=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-n*n)/2,2)-Math.log(1-n*n)/t)-(2/(Math.PI*t)+Math.log(1-n*n)/2));return 0<=n?r:-r}function $(n){if("number"==typeof n)return n<0?-1:0===n?0:1;throw new TypeError("not a number")}n.linearRegression=function(n){var t,r,e=n.length;if(1===e)r=n[t=0][1];else{for(var i,o,a,u=0,c=0,f=0,s=0,l=0;l<e;l++)u+=o=(i=n[l])[0],c+=a=i[1],f+=o*o,s+=o*a;r=c/e-(t=(e*s-u*c)/(e*f-u*u))*u/e}return{m:t,b:r}},n.linearRegressionLine=function(n){return function(t){return n.b+n.m*t}},n.standardDeviation=o,n.rSquared=function(n,t){if(n.length<2)return 1;for(var r,e=0,i=0;i<n.length;i++)e+=n[i][1];r=e/n.length;for(var o=0,a=0;a<n.length;a++)o+=Math.pow(r-n[a][1],2);for(var u=0,c=0;c<n.length;c++)u+=Math.pow(n[c][1]-t(n[c][0]),2);return 1-u/o},n.mode=function(n){return a(u(n))},n.modeFast=function(n){for(var t,r=new Map,e=0,i=0;i<n.length;i++){var o=r.get(n[i]);void 0===o?o=1:o++,e<o&&(t=n[i],e=o),r.set(n[i],o)}if(0===e)throw new Error("mode requires at last one data point");return t},n.modeSorted=a,n.min=c,n.max=f,n.extent=function(n){if(0===n.length)throw new Error("extent requires at least one data point");for(var t=n[0],r=n[0],e=1;e<n.length;e++)n[e]>r&&(r=n[e]),n[e]<t&&(t=n[e]);return[t,r]},n.minSorted=function(n){return n[0]},n.maxSorted=function(n){return n[n.length-1]},n.extentSorted=function(n){return[n[0],n[n.length-1]]},n.sum=t,n.sumSimple=function(n){for(var t=0,r=0;r<n.length;r++)t+=n[r];return t},n.product=function(n){for(var t=1,r=0;r<n.length;r++)t*=n[r];return t},n.quantile=p,n.quantileSorted=s,n.quantileRank=function(n,t){return y(u(n),t)},n.quantileRankSorted=y,n.interquartileRange=m,n.iqr=m,n.medianAbsoluteDeviation=x,n.mad=x,n.chunk=function(n,t){var r=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var e=0;e<n.length;e+=t)r.push(n.slice(e,e+t));return r},n.sampleWithReplacement=function(n,t,r){if(0===n.length)return[];r=r||Math.random;for(var e=n.length,i=[],o=0;o<t;o++){var a=Math.floor(r()*e);i.push(n[a])}return i},n.shuffle=b,n.shuffleInPlace=E,n.sample=function(n,t,r){return b(n,r).slice(0,t)},n.ckmeans=function(n,t){if(t>n.length)throw new Error("cannot generate more classes than there are data values");var r=u(n);if(1===_(r))return[r];var e=S(t,r.length),i=S(t,r.length);!function(n,t,r){for(var e,i=t[0].length,o=n[Math.floor(i/2)],a=[],u=[],c=0;c<i;++c)e=n[c]-o,0===c?(a.push(e),u.push(e*e)):(a.push(a[c-1]+e),u.push(u[c-1]+e*e)),t[0][c]=M(0,c,a,u),r[0][c]=0;for(var f=1;f<t.length;++f)T(f<t.length-1?f:i-1,i-1,f,t,r,a,u)}(r,e,i);for(var o=[],a=i[0].length-1,c=i.length-1;0<=c;c--){var f=i[c][a];o[c]=r.slice(f,a+1),0<c&&(a=f-1)}return o},n.uniqueCountSorted=_,n.sumNthPowerDeviations=e,n.equalIntervalBreaks=function(n,t){if(n.length<2)return n;for(var r=c(n),e=f(n),i=[r],o=(e-r)/t,a=1;a<t;a++)i.push(i[0]+o*a);return i.push(e),i},n.sampleCovariance=O,n.sampleCorrelation=function(n,t){return O(n,t)/k(n)/k(t)},n.sampleVariance=j,n.sampleStandardDeviation=k,n.sampleSkewness=function(n){if(n.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,e=r(n),i=0,o=0,a=0;a<n.length;a++)i+=(t=n[a]-e)*t,o+=t*t*t;var u=n.length-1,c=Math.sqrt(i/u),f=n.length;return f*o/((f-1)*(f-2)*Math.pow(c,3))},n.sampleKurtosis=function(n){var t=n.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var e,i=r(n),o=0,a=0,u=0;u<t;u++)o+=(e=n[u]-i)*e,a+=e*e*e*e;return(t-1)/((t-2)*(t-3))*(t*(t+1)*a/(o*o)-3*(t-1))},n.permutationsHeap=function(n){for(var t=new Array(n.length),r=[n.slice()],e=0;e<n.length;e++)t[e]=0;for(e=0;e<n.length;)if(t[e]<e){var i=0;e%2!=0&&(i=t[e]);var o=n[i];n[i]=n[e],n[e]=o,r.push(n.slice()),t[e]++,e=0}else t[e]=0,e++;return r},n.combinations=function n(t,r){var e,i,o,a,u=[];for(e=0;e<t.length;e++)if(1===r)u.push([t[e]]);else for(o=n(t.slice(e+1,t.length),r-1),i=0;i<o.length;i++)(a=o[i]).unshift(t[e]),u.push(a);return u},n.combinationsReplacement=function n(t,r){for(var e=[],i=0;i<t.length;i++)if(1===r)e.push([t[i]]);else for(var o=n(t.slice(i,t.length),r-1),a=0;a<o.length;a++)e.push([t[i]].concat(o[a]));return e},n.addToMean=function(n,t,r){return n+(r-n)/(t+1)},n.combineMeans=C,n.combineVariances=function(n,t,r,e,i,o){var a=C(t,r,i,o);return(r*(n+Math.pow(t-a,2))+o*(e+Math.pow(i-a,2)))/(r+o)},n.geometricMean=function(n){if(0===n.length)throw new Error("geometricMean requires at least one data point");for(var t=1,r=0;r<n.length;r++){if(n[r]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=n[r]}return Math.pow(t,1/n.length)},n.harmonicMean=function(n){if(0===n.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,r=0;r<n.length;r++){if(n[r]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/n[r]}return n.length/t},n.average=r,n.mean=r,n.median=w,n.medianSorted=function(n){return s(n,.5)},n.subtractFromMean=function(n,t,r){return(n*t-r)/(t-1)},n.rootMeanSquare=P,n.rms=P,n.variance=i,n.tTest=function(n,t){return(r(n)-t)/(o(n)/Math.sqrt(n.length))},n.tTestTwoSample=function(n,t,e){var i=n.length,o=t.length;if(!i||!o)return null;e||(e=0);var a=r(n),u=r(t),c=j(n),f=j(t);if("number"==typeof a&&"number"==typeof u&&"number"==typeof c&&"number"==typeof f){var s=((i-1)*c+(o-1)*f)/(i+o-2);return(a-u-e)/Math.sqrt(s*(1/i+1/o))}},n.BayesianClassifier=A,n.bayesian=A,n.PerceptronModel=N,n.perceptron=N,n.epsilon=R,n.factorial=D,n.gamma=function n(t){if("number"==typeof(r=t)&&isFinite(r)&&Math.floor(r)===r)return t<=0?NaN:D(t-1);var r;if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*n(-t));var e=t+.25;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(e,2)-1/12960/Math.pow(e,3)-257/207360/Math.pow(e,4)-52/2612736/Math.pow(e,5)+5741173/9405849600/Math.pow(e,6)+37529/18811699200/Math.pow(e,7))},n.gammaln=function(n){if(n<=0)return 1/0;n--;for(var t=I[0],r=1;r<15;r++)t+=I[r]/(n+r);var e=5.2421875+n;return q+Math.log(t)-e+(n+.5)*Math.log(e)},n.bernoulliDistribution=function(n){if(n<0||1<n)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-n,n]},n.binomialDistribution=function(n,t){if(!(t<0||1<t||n<=0||n%1!=0)){for(var r=0,e=0,i=[],o=1;i[r]=o*Math.pow(t,r)*Math.pow(1-t,n-r),e+=i[r],o=o*(n-++r+1)/r,e<1-R;);return i}},n.poissonDistribution=function(n){if(!(n<=0)){for(var t=0,r=0,e=[],i=1;e[t]=Math.exp(-n)*Math.pow(n,t)/i,r+=e[t],i*=++t,r<1-R;);return e}},n.chiSquaredDistributionTable=L,n.chiSquaredGoodnessOfFit=function(n,t,e){for(var i,o,a=0,u=t(r(n)),c=[],f=[],s=0;s<n.length;s++)void 0===c[n[s]]&&(c[n[s]]=0),c[n[s]]++;for(s=0;s<c.length;s++)void 0===c[s]&&(c[s]=0);for(o in u)o in c&&(f[+o]=u[o]*n.length);for(o=f.length-1;0<=o;o--)f[o]<3&&(f[o-1]+=f[o],f.pop(),c[o-1]+=c[o],c.pop());for(o=0;o<c.length;o++)a+=Math.pow(c[o]-f[o],2)/f[o];return i=c.length-1-1,L[i][e]<a},n.kernelDensityEstimation=V,n.kde=V,n.zScore=function(n,t,r){return(n-t)/r},n.cumulativeStdNormalProbability=function(n){var t=Math.abs(n),r=Math.min(Math.round(100*t),U.length-1);return 0<=n?U[r]:+(1-U[r]).toFixed(4)},n.standardNormalTable=U,n.errorFunction=Y,n.erf=Y,n.inverseErrorFunction=J,n.probit=function(n){return 0===n?n=R:1<=n&&(n=1-R),Math.sqrt(2)*J(2*n-1)},n.permutationTest=function(n,t,e,i){if(void 0===i&&(i=1e4),void 0===e&&(e="two_side"),"two_side"!==e&&"greater"!==e&&"less"!==e)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var o=r(n)-r(t),a=new Array(i),u=n.concat(t),c=Math.floor(u.length/2),f=0;f<i;f++){E(u);var s=u.slice(0,c),l=u.slice(c,u.length),h=r(s)-r(l);a[f]=h}var p=0;if("two_side"===e)for(f=0;f<=i;f++)Math.abs(a[f])>=Math.abs(o)&&(p+=1);else if("greater"===e)for(f=0;f<=i;f++)a[f]>=o&&(p+=1);else for(f=0;f<=i;f++)a[f]<=o&&(p+=1);return p/i},n.bisect=function(n,t,r,e,i){if("function"!=typeof n)throw new TypeError("func must be a function");for(var o=0;o<e;o++){var a=(t+r)/2;if(0===n(a)||Math.abs((r-t)/2)<i)return a;$(n(a))===$(n(t))?t=a:r=a}throw new Error("maximum number of iterations exceeded")},n.quickselect=l,n.sign=$,n.numericSort=u,Object.defineProperty(n,"__esModule",{value:!0})}(lv.exports);var hv={};Object.defineProperty(hv,"__esModule",{value:!0}),hv.default=function(n){for(var t=1/n,r=[],e=0;e<=1;e+=t)r.push(e);return r};var pv={};Object.defineProperty(pv,"__esModule",{value:!0}),pv.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]};var vv=y,dv=vv.__importStar(lv.exports),gv=ht,yv=Ul,mv=vv.__importDefault(hv);function wv(n,t){var r=n.getColumn(t);return gv.isArray(r)&&gv.isArray(r[0])&&(r=gv.flattenDeep(r)),r}vv.__importDefault(pv).default.STATISTICS_METHODS.forEach((function(n){yv.View.prototype[n]=function(t){return dv[n](wv(this,t))}}));var xv=dv.quantile;gv.assign(yv.View.prototype,{average:yv.View.prototype.mean,quantile:function(n,t){return xv(wv(this,n),t)},quantiles:function(n,t){var r=wv(this,n);return t.map((function(n){return xv(r,n)}))},quantilesByFraction:function(n,t){return this.quantiles(n,mv.default(t))},range:function(n){return[this.min(n),this.max(n)]},extent:function(n){return this.range(n)}});var Ev={};Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.DataSet=void 0;var bv=y,_v=ht,Sv=bv.__importDefault(Wl.exports),Mv=Ul,Tv=bv.__importDefault(pv),Ov=function(n){function t(t){void 0===t&&(t={state:{}});var r=n.call(this)||this;return r.isDataSet=!0,r._onChangeTimer=null,r.views={},r.state={},r.state=t.state,r}return bv.__extends(t,n),t.registerConnector=function(n,r){t.connectors[n]=r},t.getConnector=function(n){return t.connectors[n]||t.connectors.default},t.registerTransform=function(n,r){t.transforms[n]=r},t.getTransform=function(n){return t.transforms[n]||t.transforms.default},t.prototype._getUniqueViewName=function(){for(var n=_v.uniqueId("view_");this.views[n];)n=_v.uniqueId("view_");return n},t.prototype.createView=function(n,t){if(_v.isNil(n)&&(n=this._getUniqueViewName()),_v.isObject(n)&&(t=n,n=this._getUniqueViewName()),this.views[n])throw new Error("data view exists: "+n);var r=new Mv.View(this,t);return this.views[n]=r,r},t.prototype.getView=function(n){return this.views[n]},t.prototype.setView=function(n,t){this.views[n]=t},t.prototype.setState=function(n,t){var r=this;this.state[n]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout((function(){r.emit("statechange",n,t)}),16)},t.CONSTANTS=Tv.default,t.connectors={},t.transforms={},t.DataSet=t,t.DataView=Mv.View,t.View=Mv.View,t.version="____DATASET_VERSION____",t}(Sv.default);Ev.DataSet=Ov,_v.assign(Ov,Tv.default),_v.assign(Ov.prototype,{view:Ov.prototype.createView}),Mv.View.DataSet=Ov;var jv=ht;Ev.DataSet.registerConnector("default",(function(n,t){var r;if(!(r=jv.isString(n)?t.getView(n):n))throw new TypeError("Invalid dataView");return jv.deepMix([],r.rows)}));var kv={},Cv={};function Pv(n){return new Function("d","return {"+n.map((function(n,t){return JSON.stringify(n)+": d["+t+'] || ""'})).join(",")+"}")}function Av(n){var t=Object.create(null),r=[];return n.forEach((function(n){for(var e in n)e in t||r.push(t[e]=e)})),r}function Nv(n,t){var r=n+"",e=r.length;return e<t?new Array(t-e+1).join(0)+r:r}function Rv(n){var t,r=n.getUTCHours(),e=n.getUTCMinutes(),i=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":((t=n.getUTCFullYear())<0?"-"+Nv(-t,6):t>9999?"+"+Nv(t,6):Nv(t,4))+"-"+Nv(n.getUTCMonth()+1,2)+"-"+Nv(n.getUTCDate(),2)+(o?"T"+Nv(r,2)+":"+Nv(e,2)+":"+Nv(i,2)+"."+Nv(o,3)+"Z":i?"T"+Nv(r,2)+":"+Nv(e,2)+":"+Nv(i,2)+"Z":e||r?"T"+Nv(r,2)+":"+Nv(e,2)+"Z":"")}function Dv(n){var t=new RegExp('["'+n+"\n\r]"),r=n.charCodeAt(0);function e(n,t){var e,i=[],o=n.length,a=0,u=0,c=o<=0,f=!1;function s(){if(c)return Cv;if(f)return f=!1,kv;var t,e,i=a;if(34===n.charCodeAt(i)){for(;a++<o&&34!==n.charCodeAt(a)||34===n.charCodeAt(++a););return(t=a)>=o?c=!0:10===(e=n.charCodeAt(a++))?f=!0:13===e&&(f=!0,10===n.charCodeAt(a)&&++a),n.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(e=n.charCodeAt(t=a++)))f=!0;else if(13===e)f=!0,10===n.charCodeAt(a)&&++a;else if(e!==r)continue;return n.slice(i,t)}return c=!0,n.slice(i,o)}for(10===n.charCodeAt(o-1)&&--o,13===n.charCodeAt(o-1)&&--o;(e=s())!==Cv;){for(var l=[];e!==kv&&e!==Cv;)l.push(e),e=s();t&&null==(l=t(l,u++))||i.push(l)}return i}function i(t,r){return t.map((function(t){return r.map((function(n){return a(t[n])})).join(n)}))}function o(t){return t.map(a).join(n)}function a(n){return null==n?"":n instanceof Date?Rv(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,t){var r,i,o=e(n,(function(n,e){if(r)return r(n,e-1);i=n,r=t?function(n,t){var r=Pv(n);return function(e,i){return t(r(e),i,n)}}(n,t):Pv(n)}));return o.columns=i||[],o},parseRows:e,format:function(t,r){return null==r&&(r=Av(t)),[r.map(a).join(n)].concat(i(t,r)).join("\n")},formatBody:function(n,t){return null==t&&(t=Av(n)),i(n,t).join("\n")},formatRows:function(n){return n.map(o).join("\n")},formatRow:o,formatValue:a}}var Iv=Dv(","),qv=Iv.parse,Lv=Iv.parseRows,Bv=Iv.format,zv=Iv.formatBody,Fv=Iv.formatRows,Vv=Iv.formatRow,Gv=Iv.formatValue,Hv=Dv("\t"),Uv=Hv.parse,Wv=Hv.parseRows,Yv=Hv.format,Jv=Hv.formatBody,$v=Hv.formatRows,Xv=Hv.formatRow,Kv=Hv.formatValue;var Qv=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Zv=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:Dv,csvParse:qv,csvParseRows:Lv,csvFormat:Bv,csvFormatBody:zv,csvFormatRows:Fv,csvFormatRow:Vv,csvFormatValue:Gv,tsvParse:Uv,tsvParseRows:Wv,tsvFormat:Yv,tsvFormatBody:Jv,tsvFormatRows:$v,tsvFormatRow:Xv,tsvFormatValue:Kv,autoType:function(n){for(var t in n){var r,e,i=n[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(r=+i)){if(!(e=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Qv&&e[4]&&!e[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=r;else i=null;n[t]=i}return n}},Symbol.toStringTag,{value:"Module"})),nd=ht,td=n(Zv),rd=Ev;rd.DataSet.registerConnector("dsv",(function(n,t){void 0===t&&(t={});var r=t.delimiter||",";if(!nd.isString(r))throw new TypeError("Invalid delimiter: must be a string!");return td.dsvFormat(r).parse(n)})),rd.DataSet.registerConnector("csv",(function(n){return td.csvParse(n)})),rd.DataSet.registerConnector("tsv",(function(n){return td.tsvParse(n)}));var ed={};Object.defineProperty(ed,"__esModule",{value:!0});var id=Ao,od=Ev;function ad(n,t){t.dataType="geo-graticule";var r=id.geoGraticule().lines();return r.map((function(n,t){return n.index=""+t,n})),t.rows=r,r}ed.default=ad,od.DataSet.registerConnector("geo-graticule",ad);var ud={},cd=function(n){var t=[];return n.replace(sd,(function(n,r,e){var i=r.toLowerCase();for(e=function(n){var t=n.match(ld);return t?t.map(Number):[]}(e),"m"==i&&e.length>2&&(t.push([r].concat(e.splice(0,2))),i="l",r="m"==r?"l":"L");;){if(e.length==fd[i])return e.unshift(r),t.push(e);if(e.length<fd[i])throw new Error("malformed path data");t.push([r].concat(e.splice(0,fd[i])))}})),t},fd={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},sd=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var ld=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;var hd=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)};var pd=cd,vd=hd,dd=function(n){var t=0,r=0,e=0,i=0;return n.map((function(n){var o=(n=n.slice())[0],a=o.toUpperCase();if(o!=a)switch(n[0]=a,o){case"a":n[6]+=e,n[7]+=i;break;case"v":n[1]+=i;break;case"h":n[1]+=e;break;default:for(var u=1;u<n.length;)n[u++]+=e,n[u++]+=i}switch(a){case"Z":e=t,i=r;break;case"H":e=n[1];break;case"V":i=n[1];break;case"M":e=t=n[1],i=r=n[2];break;default:e=n[n.length-2],i=n[n.length-1]}return n}))},gd=yd;function yd(n){if(!(this instanceof yd))return new yd(n);this._path=vd(n)?n:pd(n),this._path=dd(this._path),this._path=function(n){for(var t,r=[],e=["L",0,0],i=0,o=n.length;i<o;i++){var a=n[i];switch(a[0]){case"M":e=["L",a[1],a[2]],r.push(a);break;case"Z":r.push(e);break;case"H":t=r[r.length-1]||["L",0,0],r.push(["L",a[1],t[t.length-1]]);break;case"V":t=r[r.length-1]||["L",0,0],r.push(["L",t[t.length-2],a[1]]);break;default:r.push(a)}}return r}(this._path),this._path=function(n){for(var t,r=0,e=0,i={S:{to:"C",x:3},T:{to:"Q",x:1}},o=0,a=n.length;o<a;o++){var u=n[o],c=i[u[0]];c&&(u[0]=c.to,t&&(t[0]===c.to?(r=2*t[c.x+2]-t[c.x],e=2*t[c.x+3]-t[c.x+1]):(r=t[t.length-2],e=t[t.length-1])),u.splice(1,0,r,e)),t=u}return n}(this._path)}function md(n,t,r,e){var i=n-r,o=t-e;return Math.sqrt(i*i+o*o)}yd.prototype.at=function(n,t){return this._walk(n,t).pos},yd.prototype.length=function(){return this._walk(null).length},yd.prototype._walk=function(n,t){for(var r,e,i=[0,0],o=[0,0,0],a=[0,0],u=0,c=0;c<this._path.length;c++){var f=this._path[c];if("M"===f[0]){if(i[0]=f[1],i[1]=f[2],0===n)return{length:u,pos:i}}else if("C"===f[0]){o[0]=a[0]=i[0],o[1]=a[1]=i[1],o[2]=u;for(var s=100,l=0;l<=s;l++){var h=(r=f,e=d=l/s,Math.pow(1-e,3)*a[0]+3*Math.pow(1-e,2)*e*r[1]+3*(1-e)*Math.pow(e,2)*r[3]+Math.pow(e,3)*r[5]),p=g(f,d);if(u+=md(i[0],i[1],h,p),i[0]=h,i[1]=p,"number"==typeof n&&u>=n){var v=(u-n)/(u-o[2]);return{length:u,pos:[i[0]*(1-v)+o[0]*v,i[1]*(1-v)+o[1]*v]}}o[0]=i[0],o[1]=i[1],o[2]=u}}else if("Q"===f[0]){o[0]=a[0]=i[0],o[1]=a[1]=i[1],o[2]=u;for(s=100,l=0;l<=s;l++){var d;h=y(f,d=l/s),p=m(f,d);if(u+=md(i[0],i[1],h,p),i[0]=h,i[1]=p,"number"==typeof n&&u>=n){v=(u-n)/(u-o[2]);return{length:u,pos:[i[0]*(1-v)+o[0]*v,i[1]*(1-v)+o[1]*v]}}o[0]=i[0],o[1]=i[1],o[2]=u}}else if("L"===f[0]){if(o[0]=i[0],o[1]=i[1],o[2]=u,u+=md(i[0],i[1],f[1],f[2]),i[0]=f[1],i[1]=f[2],"number"==typeof n&&u>=n){v=(u-n)/(u-o[2]);return{length:u,pos:[i[0]*(1-v)+o[0]*v,i[1]*(1-v)+o[1]*v]}}o[0]=i[0],o[1]=i[1],o[2]=u}}return{length:u,pos:i};function g(n,t){return Math.pow(1-t,3)*a[1]+3*Math.pow(1-t,2)*t*n[2]+3*(1-t)*Math.pow(t,2)*n[4]+Math.pow(t,3)*n[6]}function y(n,t){return Math.pow(1-t,2)*a[0]+2*(1-t)*t*n[1]+Math.pow(t,2)*n[3]}function m(n,t){return Math.pow(1-t,2)*a[1]+2*(1-t)*t*n[2]+Math.pow(t,2)*n[4]}},Object.defineProperty(ud,"__esModule",{value:!0});var wd=y.__importDefault(gd),xd=ht,Ed=Ev,bd=Ao.geoPath();function _d(n,t,r){r.dataType=Ed.DataSet.CONSTANTS.GEO;var e=xd.deepMix([],n.features);return e.forEach((function(n){n.name=n.properties.name,n.longitude=[],n.latitude=[];var t=n.pathData=bd(n);wd.default(t)._path.forEach((function(t){n.longitude.push(t[1]),n.latitude.push(t[2])}));var r=bd.centroid(n);n.centroidX=r[0],n.centroidY=r[1]})),e}Ed.DataSet.registerConnector("geo",_d),Ed.DataSet.registerConnector("geojson",_d),Ed.DataSet.registerConnector("GeoJSON",_d),ud.default=_d;var Sd=ht,Md=Ev,Td={nodes:function(n){return n.nodes},edges:function(n){return n.edges}};function Od(n,t,r){t=Sd.assign({},Td,t),r.dataType=Md.DataSet.CONSTANTS.GRAPH;var e=t.nodes,i=t.edges;if(e&&!Sd.isFunction(e))throw new TypeError("Invalid nodes: must be a function!");if(i&&!Sd.isFunction(i))throw new TypeError("Invalid edges: must be a function!");return r.rows=r.graph={nodes:e(n),edges:i(n)},Sd.assign(r,r.graph),r.rows}Md.DataSet.registerConnector("graph",Od),Md.DataSet.registerConnector("diagram",Od);var jd={};function kd(n,t,r,e){var i=0,o=0;switch(t){case"odd-r":o=n.rc%2==1?r:r/2,i=n.qc*r+o;break;case"even-r":o=n.rc%2==0?r:r/2,i=n.qc*r+o;break;case"odd-q":case"even-q":i=n.qc*e*1.5+e}return i}function Cd(n,t,r,e){var i=0,o=0;switch(t){case"odd-r":case"even-r":i=n.rc*e*1.5+e;break;case"odd-q":o=n.qc%2==1?r:r/2,i=n.rc*r+o;break;case"even-q":o=n.qc%2==0?r:r/2,i=n.rc*r+o}return i}var Pd=n(Object.freeze(Object.defineProperty({__proto__:null,renderHexJSON:function(n,t,r){var e=n.layout,i=[],o=0;Object.keys(n.hexes).forEach((function(t){n.hexes[t].key=t,i.push(n.hexes[t])}));var a=Se(i,(function(n){return+n.q})),u=Te(i,(function(n){return+n.q})),c=Se(i,(function(n){return+n.r})),f=Te(i,(function(n){return+n.r})),s=a-u+1,l=c-f+1,h=(o=Te("odd-r"===e||"even-r"===e?[t/((s+.5)*Math.sqrt(3)),r/(1.5*(l+1/3))]:[r/((l+.5)*Math.sqrt(3)),t/(1.5*(s+1/3))]))*Math.sqrt(3),p=function(n,t,r){var e=[];switch(n){case"odd-r":case"even-r":e.push({x:0,y:0-r}),e.push({x:0+.5*t,y:0-.5*r}),e.push({x:0+.5*t,y:0+.5*r}),e.push({x:0,y:0+r}),e.push({x:0-.5*t,y:0+.5*r}),e.push({x:0-.5*t,y:0-.5*r});break;case"odd-q":case"even-q":e.push({x:0-r,y:0}),e.push({x:0-.5*r,y:0-.5*t}),e.push({x:0+.5*r,y:0-.5*t}),e.push({x:0+r,y:0}),e.push({x:0+.5*r,y:0+.5*t}),e.push({x:0-.5*r,y:0+.5*t})}return e}(e,h,o),v=function(n){var t="";return n.forEach((function(n){t+=n.x+","+n.y+" "})),t.substring(0,t.length-1)}(p);return i.forEach((function(n){n.qc=n.q-u,n.rc=c-n.r,n.x=kd(n,e,h,o),n.y=Cd(n,e,h,o),n.vertices=p,n.points=v})),i},getGridForHexJSON:function(n){var t={};t.layout=n.layout,t.hexes={};var r=[];Object.keys(n.hexes).forEach((function(t){r.push(n.hexes[t])}));var e,i,o,a=Se(r,(function(n){return+n.q})),u=Te(r,(function(n){return+n.q})),c=Se(r,(function(n){return+n.r})),f=Te(r,(function(n){return+n.r}));for(e=u;e<=a;e++)for(i=f;i<=c;i++)o="Q"+e+"R"+i,t.hexes[o]={q:e,r:i};return t},getBoundaryDotsForHexJSON:function(n,t,r,e){var i=[],o=n.layout;Object.keys(n.hexes).forEach((function(t){i.push(n.hexes[t])}));var a,u=Se(i,(function(n){return+n.q})),c=Te(i,(function(n){return+n.q})),f=Se(i,(function(n){return+n.r})),s=Te(i,(function(n){return+n.r})),l=u-c+1,h=f-s+1,p=(a=Te("odd-r"===o||"even-r"===o?[t/((l+.5)*Math.sqrt(3)),r/(1.5*(h+1/3))]:[r/((h+.5)*Math.sqrt(3)),t/(1.5*(l+1/3))]))*Math.sqrt(3),v=[],d=a*a*4,g=i.length;if(g>1){i.forEach((function(n){n.qc=n.q-c,n.rc=f-n.r,n.x=kd(n,o,p,a),n.y=Cd(n,o,p,a)}));for(var y=0;y<g-1;y++)for(var m=y+1;m<g;m++){var w=i[y],x=i[m];if(w[e]!==x[e]&&Math.abs(w.q-x.q)<=1&&Math.abs(w.r-x.r)<=1&&(w.x-x.x)*(w.x-x.x)+(w.y-x.y)*(w.y-x.y)<d){var E={};E.x=x.x+(w.x-x.x)/2,E.y=x.y+(w.y-x.y)/2;var b={},_=4*Math.sqrt(3);b.dx=(w.y-x.y)/_,b.dy=-(w.x-x.x)/_,v.push({x:E.x-2*b.dx,y:E.y-2*b.dy}),v.push({x:E.x-b.dx,y:E.y-b.dy}),v.push({x:E.x,y:E.y}),v.push({x:E.x+b.dx,y:E.y+b.dy}),v.push({x:E.x+2*b.dx,y:E.y+2*b.dy})}}}return v},getBoundarySegmentsForHexJSON:function(n,t,r,e){var i=[],o=n.layout;Object.keys(n.hexes).forEach((function(t){i.push(n.hexes[t])}));var a,u=Se(i,(function(n){return+n.q})),c=Te(i,(function(n){return+n.q})),f=Se(i,(function(n){return+n.r})),s=Te(i,(function(n){return+n.r})),l=u-c+1,h=f-s+1,p=(a=Te("odd-r"===o||"even-r"===o?[t/((l+.5)*Math.sqrt(3)),r/(1.5*(h+1/3))]:[r/((h+.5)*Math.sqrt(3)),t/(1.5*(l+1/3))]))*Math.sqrt(3),v=[],d=a*a*4,g=i.length;if(g>1){i.forEach((function(n){n.qc=n.q-c,n.rc=f-n.r,n.x=kd(n,o,p,a),n.y=Cd(n,o,p,a)}));for(var y=0;y<g-1;y++)for(var m=y+1;m<g;m++){var w=i[y],x=i[m];if(w[e]!==x[e]&&Math.abs(w.q-x.q)<=1&&Math.abs(w.r-x.r)<=1&&(w.x-x.x)*(w.x-x.x)+(w.y-x.y)*(w.y-x.y)<d){var E={};E.x=x.x+(w.x-x.x)/2,E.y=x.y+(w.y-x.y)/2;var b={},_=1;w[e]<x[e]&&(_=-1);var S=2*Math.sqrt(3)*_;b.dx=(w.y-x.y)/S,b.dy=-(w.x-x.x)/S,v.push({x1:E.x-b.dx,y1:E.y-b.dy,x2:E.x+b.dx,y2:E.y+b.dy})}}}return v}},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(jd,"__esModule",{value:!0});var Ad=ht,Nd=Pd,Rd=Ev,Dd={width:1,height:1};function Id(n){return n.cx=n.x,n.cy=n.y,n.x=[],n.y=[],n.vertices.forEach((function(t){n.x.push(t.x+n.cx),n.y.push(t.y+n.cy)})),n}function qd(n,t,r){r.dataType=Rd.DataSet.CONSTANTS.HEX;var e=(t=Ad.assign({},Dd,t)).width,i=t.height,o=Ad.deepMix([],n);r._HexJSON=o;var a=r._GridHexJSON=Nd.getGridForHexJSON(o),u=r.rows=Nd.renderHexJSON(o,e,i).map(Id);return r._gridRows=Nd.renderHexJSON(a,e,i).map(Id),u}function Ld(n,t){return n.parent===t.parent?1:2}function Bd(n,t){return n+t.x}function zd(n,t){return Math.max(n,t.y)}function Fd(n){var t=0,r=n.children,e=r&&r.length;if(e)for(;--e>=0;)t+=r[e].value;else t=1;n.value=t}function Vd(n,t){var r,e,i,o,a,u=new Wd(n),c=+n.value&&(u.value=n.value),f=[u];for(null==t&&(t=Gd);r=f.pop();)if(c&&(r.value=+r.data.value),(i=t(r.data))&&(a=i.length))for(r.children=new Array(a),o=a-1;o>=0;--o)f.push(e=r.children[o]=new Wd(i[o])),e.parent=r,e.depth=r.depth+1;return u.eachBefore(Ud)}function Gd(n){return n.children}function Hd(n){n.data=n.data.data}function Ud(n){var t=0;do{n.height=t}while((n=n.parent)&&n.height<++t)}function Wd(n){this.data=n,this.depth=this.height=0,this.parent=null}Rd.DataSet.registerConnector("hex",qd),Rd.DataSet.registerConnector("hexjson",qd),Rd.DataSet.registerConnector("hex-json",qd),Rd.DataSet.registerConnector("HexJSON",qd),jd.default=qd,Wd.prototype=Vd.prototype={constructor:Wd,count:function(){return this.eachAfter(Fd)},each:function(n){var t,r,e,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(n(o),r=o.children)for(e=0,i=r.length;e<i;++e)a.push(r[e])}while(a.length);return this},eachAfter:function(n){for(var t,r,e,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(r=0,e=t.length;r<e;++r)o.push(t[r]);for(;i=a.pop();)n(i);return this},eachBefore:function(n){for(var t,r,e=this,i=[e];e=i.pop();)if(n(e),t=e.children)for(r=t.length-1;r>=0;--r)i.push(t[r]);return this},sum:function(n){return this.eachAfter((function(t){for(var r=+n(t.data)||0,e=t.children,i=e&&e.length;--i>=0;)r+=e[i].value;t.value=r}))},sort:function(n){return this.eachBefore((function(t){t.children&&t.children.sort(n)}))},path:function(n){for(var t=this,r=function(n,t){if(n===t)return n;var r=n.ancestors(),e=t.ancestors(),i=null;n=r.pop(),t=e.pop();for(;n===t;)i=n,n=r.pop(),t=e.pop();return i}(t,n),e=[t];t!==r;)t=t.parent,e.push(t);for(var i=e.length;n!==r;)e.splice(i,0,n),n=n.parent;return e},ancestors:function(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t},descendants:function(){var n=[];return this.each((function(t){n.push(t)})),n},leaves:function(){var n=[];return this.eachBefore((function(t){t.children||n.push(t)})),n},links:function(){var n=this,t=[];return n.each((function(r){r!==n&&t.push({source:r.parent,target:r})})),t},copy:function(){return Vd(this).eachBefore(Hd)}};var Yd=Array.prototype.slice;function Jd(n){for(var t,r,e=0,i=(n=function(n){for(var t,r,e=n.length;e;)r=Math.random()*e--|0,t=n[e],n[e]=n[r],n[r]=t;return n}(Yd.call(n))).length,o=[];e<i;)t=n[e],r&&Kd(r,t)?++e:(r=Zd(o=$d(o,t)),e=0);return r}function $d(n,t){var r,e;if(Qd(t,n))return[t];for(r=0;r<n.length;++r)if(Xd(t,n[r])&&Qd(ng(n[r],t),n))return[n[r],t];for(r=0;r<n.length-1;++r)for(e=r+1;e<n.length;++e)if(Xd(ng(n[r],n[e]),t)&&Xd(ng(n[r],t),n[e])&&Xd(ng(n[e],t),n[r])&&Qd(tg(n[r],n[e],t),n))return[n[r],n[e],t];throw new Error}function Xd(n,t){var r=n.r-t.r,e=t.x-n.x,i=t.y-n.y;return r<0||r*r<e*e+i*i}function Kd(n,t){var r=n.r-t.r+1e-6,e=t.x-n.x,i=t.y-n.y;return r>0&&r*r>e*e+i*i}function Qd(n,t){for(var r=0;r<t.length;++r)if(!Kd(n,t[r]))return!1;return!0}function Zd(n){switch(n.length){case 1:return{x:(t=n[0]).x,y:t.y,r:t.r};case 2:return ng(n[0],n[1]);case 3:return tg(n[0],n[1],n[2])}var t}function ng(n,t){var r=n.x,e=n.y,i=n.r,o=t.x,a=t.y,u=t.r,c=o-r,f=a-e,s=u-i,l=Math.sqrt(c*c+f*f);return{x:(r+o+c/l*s)/2,y:(e+a+f/l*s)/2,r:(l+i+u)/2}}function tg(n,t,r){var e=n.x,i=n.y,o=n.r,a=t.x,u=t.y,c=t.r,f=r.x,s=r.y,l=r.r,h=e-a,p=e-f,v=i-u,d=i-s,g=c-o,y=l-o,m=e*e+i*i-o*o,w=m-a*a-u*u+c*c,x=m-f*f-s*s+l*l,E=p*v-h*d,b=(v*x-d*w)/(2*E)-e,_=(d*g-v*y)/E,S=(p*w-h*x)/(2*E)-i,M=(h*y-p*g)/E,T=_*_+M*M-1,O=2*(o+b*_+S*M),j=b*b+S*S-o*o,k=-(T?(O+Math.sqrt(O*O-4*T*j))/(2*T):j/O);return{x:e+b+_*k,y:i+S+M*k,r:k}}function rg(n,t,r){var e,i,o,a,u=n.x-t.x,c=n.y-t.y,f=u*u+c*c;f?(i=t.r+r.r,i*=i,a=n.r+r.r,i>(a*=a)?(e=(f+a-i)/(2*f),o=Math.sqrt(Math.max(0,a/f-e*e)),r.x=n.x-e*u-o*c,r.y=n.y-e*c+o*u):(e=(f+i-a)/(2*f),o=Math.sqrt(Math.max(0,i/f-e*e)),r.x=t.x+e*u-o*c,r.y=t.y+e*c+o*u)):(r.x=t.x+r.r,r.y=t.y)}function eg(n,t){var r=n.r+t.r-1e-6,e=t.x-n.x,i=t.y-n.y;return r>0&&r*r>e*e+i*i}function ig(n){var t=n._,r=n.next._,e=t.r+r.r,i=(t.x*r.r+r.x*t.r)/e,o=(t.y*r.r+r.y*t.r)/e;return i*i+o*o}function og(n){this._=n,this.next=null,this.previous=null}function ag(n){if(!(i=n.length))return 0;var t,r,e,i,o,a,u,c,f,s,l;if((t=n[0]).x=0,t.y=0,!(i>1))return t.r;if(r=n[1],t.x=-r.r,r.x=t.r,r.y=0,!(i>2))return t.r+r.r;rg(r,t,e=n[2]),t=new og(t),r=new og(r),e=new og(e),t.next=e.previous=r,r.next=t.previous=e,e.next=r.previous=t;n:for(u=3;u<i;++u){rg(t._,r._,e=n[u]),e=new og(e),c=r.next,f=t.previous,s=r._.r,l=t._.r;do{if(s<=l){if(eg(c._,e._)){r=c,t.next=r,r.previous=t,--u;continue n}s+=c._.r,c=c.next}else{if(eg(f._,e._)){(t=f).next=r,r.previous=t,--u;continue n}l+=f._.r,f=f.previous}}while(c!==f.next);for(e.previous=t,e.next=r,t.next=r.previous=r=e,o=ig(t);(e=e.next)!==r;)(a=ig(e))<o&&(t=e,o=a);r=t.next}for(t=[r._],e=r;(e=e.next)!==r;)t.push(e._);for(e=Jd(t),u=0;u<i;++u)(t=n[u]).x-=e.x,t.y-=e.y;return e.r}function ug(n){return null==n?null:cg(n)}function cg(n){if("function"!=typeof n)throw new Error;return n}function fg(){return 0}function sg(n){return function(){return n}}function lg(n){return Math.sqrt(n.value)}function hg(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function pg(n,t){return function(r){if(e=r.children){var e,i,o,a=e.length,u=n(r)*t||0;if(u)for(i=0;i<a;++i)e[i].r+=u;if(o=ag(e),u)for(i=0;i<a;++i)e[i].r-=u;r.r=o+u}}}function vg(n){return function(t){var r=t.parent;t.r*=n,r&&(t.x=r.x+n*t.x,t.y=r.y+n*t.y)}}function dg(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function gg(n,t,r,e,i){for(var o,a=n.children,u=-1,c=a.length,f=n.value&&(e-t)/n.value;++u<c;)(o=a[u]).y0=r,o.y1=i,o.x0=t,o.x1=t+=o.value*f}var yg={depth:-1},mg={};function wg(n){return n.id}function xg(n){return n.parentId}function Eg(n,t){return n.parent===t.parent?1:2}function bg(n){var t=n.children;return t?t[0]:n.t}function _g(n){var t=n.children;return t?t[t.length-1]:n.t}function Sg(n,t,r){var e=r/(t.i-n.i);t.c-=e,t.s+=r,n.c+=e,t.z+=r,t.m+=r}function Mg(n,t,r){return n.a.parent===t.parent?n.a:r}function Tg(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Og(n,t,r,e,i){for(var o,a=n.children,u=-1,c=a.length,f=n.value&&(i-r)/n.value;++u<c;)(o=a[u]).x0=t,o.x1=e,o.y0=r,o.y1=r+=o.value*f}Tg.prototype=Object.create(Wd.prototype);var jg=(1+Math.sqrt(5))/2;function kg(n,t,r,e,i,o){for(var a,u,c,f,s,l,h,p,v,d,g,y=[],m=t.children,w=0,x=0,E=m.length,b=t.value;w<E;){c=i-r,f=o-e;do{s=m[x++].value}while(!s&&x<E);for(l=h=s,g=s*s*(d=Math.max(f/c,c/f)/(b*n)),v=Math.max(h/g,g/l);x<E;++x){if(s+=u=m[x].value,u<l&&(l=u),u>h&&(h=u),g=s*s*d,(p=Math.max(h/g,g/l))>v){s-=u;break}v=p}y.push(a={value:s,dice:c<f,children:m.slice(w,x)}),a.dice?gg(a,r,e,i,b?e+=f*s/b:o):Og(a,r,e,b?r+=c*s/b:i,o),b-=s,w=x}return y}var Cg=function n(t){function r(n,r,e,i,o){kg(t,n,r,e,i,o)}return r.ratio=function(t){return n((t=+t)>1?t:1)},r}(jg);var Pg=function n(t){function r(n,r,e,i,o){if((a=n._squarify)&&a.ratio===t)for(var a,u,c,f,s,l=-1,h=a.length,p=n.value;++l<h;){for(c=(u=a[l]).children,f=u.value=0,s=c.length;f<s;++f)u.value+=c[f].value;u.dice?gg(u,r,e,i,e+=(o-e)*u.value/p):Og(u,r,e,r+=(i-r)*u.value/p,o),p-=u.value}else n._squarify=a=kg(t,n,r,e,i,o),a.ratio=t}return r.ratio=function(t){return n((t=+t)>1?t:1)},r}(jg),Ag=n(Object.freeze(Object.defineProperty({__proto__:null,cluster:function(){var n=Ld,t=1,r=1,e=!1;function i(i){var o,a=0;i.eachAfter((function(t){var r=t.children;r?(t.x=function(n){return n.reduce(Bd,0)/n.length}(r),t.y=function(n){return 1+n.reduce(zd,0)}(r)):(t.x=o?a+=n(t,o):0,t.y=0,o=t)}));var u=function(n){for(var t;t=n.children;)n=t[0];return n}(i),c=function(n){for(var t;t=n.children;)n=t[t.length-1];return n}(i),f=u.x-n(u,c)/2,s=c.x+n(c,u)/2;return i.eachAfter(e?function(n){n.x=(n.x-i.x)*t,n.y=(i.y-n.y)*r}:function(n){n.x=(n.x-f)/(s-f)*t,n.y=(1-(i.y?n.y/i.y:1))*r})}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(n){return arguments.length?(e=!1,t=+n[0],r=+n[1],i):e?null:[t,r]},i.nodeSize=function(n){return arguments.length?(e=!0,t=+n[0],r=+n[1],i):e?[t,r]:null},i},hierarchy:Vd,pack:function(){var n=null,t=1,r=1,e=fg;function i(i){return i.x=t/2,i.y=r/2,n?i.eachBefore(hg(n)).eachAfter(pg(e,.5)).eachBefore(vg(1)):i.eachBefore(hg(lg)).eachAfter(pg(fg,1)).eachAfter(pg(e,i.r/Math.min(t,r))).eachBefore(vg(Math.min(t,r)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(n=ug(t),i):n},i.size=function(n){return arguments.length?(t=+n[0],r=+n[1],i):[t,r]},i.padding=function(n){return arguments.length?(e="function"==typeof n?n:sg(+n),i):e},i},packSiblings:function(n){return ag(n),n},packEnclose:Jd,partition:function(){var n=1,t=1,r=0,e=!1;function i(i){var o=i.height+1;return i.x0=i.y0=r,i.x1=n,i.y1=t/o,i.eachBefore(function(n,t){return function(e){e.children&&gg(e,e.x0,n*(e.depth+1)/t,e.x1,n*(e.depth+2)/t);var i=e.x0,o=e.y0,a=e.x1-r,u=e.y1-r;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),e.x0=i,e.y0=o,e.x1=a,e.y1=u}}(t,o)),e&&i.eachBefore(dg),i}return i.round=function(n){return arguments.length?(e=!!n,i):e},i.size=function(r){return arguments.length?(n=+r[0],t=+r[1],i):[n,t]},i.padding=function(n){return arguments.length?(r=+n,i):r},i},stratify:function(){var n=wg,t=xg;function r(r){var e,i,o,a,u,c,f,s=r.length,l=new Array(s),h={};for(i=0;i<s;++i)e=r[i],u=l[i]=new Wd(e),null!=(c=n(e,i,r))&&(c+="")&&(h[f="$"+(u.id=c)]=f in h?mg:u);for(i=0;i<s;++i)if(u=l[i],null!=(c=t(r[i],i,r))&&(c+="")){if(!(a=h["$"+c]))throw new Error("missing: "+c);if(a===mg)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=yg,o.eachBefore((function(n){n.depth=n.parent.depth+1,--s})).eachBefore(Ud),o.parent=null,s>0)throw new Error("cycle");return o}return r.id=function(t){return arguments.length?(n=cg(t),r):n},r.parentId=function(n){return arguments.length?(t=cg(n),r):t},r},tree:function(){var n=Eg,t=1,r=1,e=null;function i(i){var c=function(n){for(var t,r,e,i,o,a=new Tg(n,0),u=[a];t=u.pop();)if(e=t._.children)for(t.children=new Array(o=e.length),i=o-1;i>=0;--i)u.push(r=t.children[i]=new Tg(e[i],i)),r.parent=t;return(a.parent=new Tg(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),e)i.eachBefore(u);else{var f=i,s=i,l=i;i.eachBefore((function(n){n.x<f.x&&(f=n),n.x>s.x&&(s=n),n.depth>l.depth&&(l=n)}));var h=f===s?1:n(f,s)/2,p=h-f.x,v=t/(s.x+h+p),d=r/(l.depth||1);i.eachBefore((function(n){n.x=(n.x+p)*v,n.y=n.depth*d}))}return i}function o(t){var r=t.children,e=t.parent.children,i=t.i?e[t.i-1]:null;if(r){!function(n){for(var t,r=0,e=0,i=n.children,o=i.length;--o>=0;)(t=i[o]).z+=r,t.m+=r,r+=t.s+(e+=t.c)}(t);var o=(r[0].z+r[r.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,r,e){if(r){for(var i,o=t,a=t,u=r,c=o.parent.children[0],f=o.m,s=a.m,l=u.m,h=c.m;u=_g(u),o=bg(o),u&&o;)c=bg(c),(a=_g(a)).a=t,(i=u.z+l-o.z-f+n(u._,o._))>0&&(Sg(Mg(u,t,e),t,i),f+=i,s+=i),l+=u.m,f+=o.m,h+=c.m,s+=a.m;u&&!_g(a)&&(a.t=u,a.m+=l-s),o&&!bg(c)&&(c.t=o,c.m+=f-h,e=t)}return e}(t,i,t.parent.A||e[0])}function a(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n){n.x*=t,n.y=n.depth*r}return i.separation=function(t){return arguments.length?(n=t,i):n},i.size=function(n){return arguments.length?(e=!1,t=+n[0],r=+n[1],i):e?null:[t,r]},i.nodeSize=function(n){return arguments.length?(e=!0,t=+n[0],r=+n[1],i):e?[t,r]:null},i},treemap:function(){var n=Cg,t=!1,r=1,e=1,i=[0],o=fg,a=fg,u=fg,c=fg,f=fg;function s(n){return n.x0=n.y0=0,n.x1=r,n.y1=e,n.eachBefore(l),i=[0],t&&n.eachBefore(dg),n}function l(t){var r=i[t.depth],e=t.x0+r,s=t.y0+r,l=t.x1-r,h=t.y1-r;l<e&&(e=l=(e+l)/2),h<s&&(s=h=(s+h)/2),t.x0=e,t.y0=s,t.x1=l,t.y1=h,t.children&&(r=i[t.depth+1]=o(t)/2,e+=f(t)-r,s+=a(t)-r,(l-=u(t)-r)<e&&(e=l=(e+l)/2),(h-=c(t)-r)<s&&(s=h=(s+h)/2),n(t,e,s,l,h))}return s.round=function(n){return arguments.length?(t=!!n,s):t},s.size=function(n){return arguments.length?(r=+n[0],e=+n[1],s):[r,e]},s.tile=function(t){return arguments.length?(n=cg(t),s):n},s.padding=function(n){return arguments.length?s.paddingInner(n).paddingOuter(n):s.paddingInner()},s.paddingInner=function(n){return arguments.length?(o="function"==typeof n?n:sg(+n),s):o},s.paddingOuter=function(n){return arguments.length?s.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):s.paddingTop()},s.paddingTop=function(n){return arguments.length?(a="function"==typeof n?n:sg(+n),s):a},s.paddingRight=function(n){return arguments.length?(u="function"==typeof n?n:sg(+n),s):u},s.paddingBottom=function(n){return arguments.length?(c="function"==typeof n?n:sg(+n),s):c},s.paddingLeft=function(n){return arguments.length?(f="function"==typeof n?n:sg(+n),s):f},s},treemapBinary:function(n,t,r,e,i){var o,a,u=n.children,c=u.length,f=new Array(c+1);for(f[0]=a=o=0;o<c;++o)f[o+1]=a+=u[o].value;!function n(t,r,e,i,o,a,c){if(t>=r-1){var s=u[t];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=c)}var l=f[t],h=e/2+l,p=t+1,v=r-1;for(;p<v;){var d=p+v>>>1;f[d]<h?p=d+1:v=d}h-f[p-1]<f[p]-h&&t+1<p&&--p;var g=f[p]-l,y=e-g;if(a-i>c-o){var m=(i*y+a*g)/e;n(t,p,g,i,o,m,c),n(p,r,y,m,o,a,c)}else{var w=(o*y+c*g)/e;n(t,p,g,i,o,a,w),n(p,r,y,i,w,a,c)}}(0,c,n.value,t,r,e,i)},treemapDice:gg,treemapSlice:Og,treemapSliceDice:function(n,t,r,e,i){(1&n.depth?Og:gg)(n,t,r,e,i)},treemapSquarify:Cg,treemapResquarify:Pg},Symbol.toStringTag,{value:"Module"}))),Ng=ht,Rg=Ag,Dg=Ev;function Ig(n,t,r){r.dataType=Dg.DataSet.CONSTANTS.HIERARCHY;var e=t&&t.children?t.children:null;if(e&&!Ng.isFunction(e))throw new TypeError("Invalid children: must be a function!");return t.pureData?r.rows=r.root=n:r.rows=r.root=Rg.hierarchy(n,e),n}function qg(n){return n}function Lg(n){if(null==n)return qg;var t,r,e=n.scale[0],i=n.scale[1],o=n.translate[0],a=n.translate[1];return function(n,u){u||(t=r=0);var c=2,f=n.length,s=new Array(f);for(s[0]=(t+=n[0])*e+o,s[1]=(r+=n[1])*i+a;c<f;)s[c]=n[c],++c;return s}}function Bg(n){var t,r=Lg(n.transform),e=1/0,i=e,o=-e,a=-e;function u(n){(n=r(n))[0]<e&&(e=n[0]),n[0]>o&&(o=n[0]),n[1]<i&&(i=n[1]),n[1]>a&&(a=n[1])}function c(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(c);break;case"Point":u(n.coordinates);break;case"MultiPoint":n.coordinates.forEach(u)}}for(t in n.arcs.forEach((function(n){for(var t,u=-1,c=n.length;++u<c;)(t=r(n[u],u))[0]<e&&(e=t[0]),t[0]>o&&(o=t[0]),t[1]<i&&(i=t[1]),t[1]>a&&(a=t[1])})),n.objects)c(n.objects[t]);return[e,i,o,a]}function zg(n,t){var r=t.id,e=t.bbox,i=null==t.properties?{}:t.properties,o=Fg(n,t);return null==r&&null==e?{type:"Feature",properties:i,geometry:o}:null==e?{type:"Feature",id:r,properties:i,geometry:o}:{type:"Feature",id:r,bbox:e,properties:i,geometry:o}}function Fg(n,t){var r=Lg(n.transform),e=n.arcs;function i(n,t){t.length&&t.pop();for(var i=e[n<0?~n:n],o=0,a=i.length;o<a;++o)t.push(r(i[o],o));n<0&&function(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}(t,a)}function o(n){return r(n)}function a(n){for(var t=[],r=0,e=n.length;r<e;++r)i(n[r],t);return t.length<2&&t.push(t[0]),t}function u(n){for(var t=a(n);t.length<4;)t.push(t[0]);return t}function c(n){return n.map(u)}return function n(t){var r,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(n)};case"Point":r=o(t.coordinates);break;case"MultiPoint":r=t.coordinates.map(o);break;case"LineString":r=a(t.arcs);break;case"MultiLineString":r=t.arcs.map(a);break;case"Polygon":r=c(t.arcs);break;case"MultiPolygon":r=t.arcs.map(c);break;default:return null}return{type:e,coordinates:r}}(t)}function Vg(n,t){var r={},e={},i={},o=[],a=-1;function u(n,t){for(var e in n){var i=n[e];delete t[i.start],delete i.start,delete i.end,i.forEach((function(n){r[n<0?~n:n]=1})),o.push(i)}}return t.forEach((function(r,e){var i,o=n.arcs[r<0?~r:r];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=r,t[e]=i)})),t.forEach((function(t){var r,o,a=function(t){var r,e=n.arcs[t<0?~t:t],i=e[0];n.transform?(r=[0,0],e.forEach((function(n){r[0]+=n[0],r[1]+=n[1]}))):r=e[e.length-1];return t<0?[r,i]:[i,r]}(t),u=a[0],c=a[1];if(r=i[u])if(delete i[r.end],r.push(t),r.end=c,o=e[c]){delete e[o.start];var f=o===r?r:r.concat(o);e[f.start=r.start]=i[f.end=o.end]=f}else e[r.start]=i[r.end]=r;else if(r=e[c])if(delete e[r.start],r.unshift(t),r.start=u,o=i[u]){delete i[o.end];var s=o===r?r:o.concat(r);e[s.start=o.start]=i[s.end=r.end]=s}else e[r.start]=i[r.end]=r;else e[(r=[t]).start=u]=i[r.end=c]=r})),u(i,e),u(e,i),t.forEach((function(n){r[n<0?~n:n]||o.push([n])})),o}function Gg(n,t,r){var e,i,o;if(arguments.length>1)e=Hg(n,t,r);else for(i=0,e=new Array(o=n.arcs.length);i<o;++i)e[i]=i;return{type:"MultiLineString",arcs:Vg(n,e)}}function Hg(n,t,r){var e,i=[],o=[];function a(n){var t=n<0?~n:n;(o[t]||(o[t]=[])).push({i:n,g:e})}function u(n){n.forEach(a)}function c(n){n.forEach(u)}return function n(t){switch(e=t,t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":c(t.arcs);break;case"MultiPolygon":t.arcs.forEach(c)}}(t),o.forEach(null==r?function(n){i.push(n[0].i)}:function(n){r(n[0].g,n[n.length-1].g)&&i.push(n[0].i)}),i}function Ug(n,t){var r={},e=[],i=[];function o(n){n.forEach((function(t){t.forEach((function(t){(r[t=t<0?~t:t]||(r[t]=[])).push(n)}))})),e.push(n)}function a(t){return function(n){for(var t,r=-1,e=n.length,i=n[e-1],o=0;++r<e;)t=i,i=n[r],o+=t[0]*i[1]-t[1]*i[0];return Math.abs(o)}(Fg(n,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}})),e.forEach((function(n){if(!n._){var t=[],e=[n];for(n._=1,i.push(t);n=e.pop();)t.push(n),n.forEach((function(n){n.forEach((function(n){r[n<0?~n:n].forEach((function(n){n._||(n._=1,e.push(n))}))}))}))}})),e.forEach((function(n){delete n._})),{type:"MultiPolygon",arcs:i.map((function(t){var e,i=[];if(t.forEach((function(n){n.forEach((function(n){n.forEach((function(n){r[n<0?~n:n].length<2&&i.push(n)}))}))})),(e=(i=Vg(n,i)).length)>1)for(var o,u,c=1,f=a(i[0]);c<e;++c)(o=a(i[c]))>f&&(u=i[0],i[0]=i[c],i[c]=u,f=o);return i})).filter((function(n){return n.length>0}))}}function Wg(n,t){for(var r=0,e=n.length;r<e;){var i=r+e>>>1;n[i]<t?r=i+1:e=i}return r}function Yg(n){if(null==n)return qg;var t,r,e=n.scale[0],i=n.scale[1],o=n.translate[0],a=n.translate[1];return function(n,u){u||(t=r=0);var c=2,f=n.length,s=new Array(f),l=Math.round((n[0]-o)/e),h=Math.round((n[1]-a)/i);for(s[0]=l-t,t=l,s[1]=h-r,r=h;c<f;)s[c]=n[c],++c;return s}}Dg.DataSet.registerConnector("hierarchy",Ig),Dg.DataSet.registerConnector("tree",Ig);var Jg=Object.freeze(Object.defineProperty({__proto__:null,bbox:Bg,feature:function(n,t){return"string"==typeof t&&(t=n.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return zg(n,t)}))}:zg(n,t)},mesh:function(n){return Fg(n,Gg.apply(this,arguments))},meshArcs:Gg,merge:function(n){return Fg(n,Ug.apply(this,arguments))},mergeArcs:Ug,neighbors:function(n){var t={},r=n.map((function(){return[]}));function e(n,r){n.forEach((function(n){n<0&&(n=~n);var e=t[n];e?e.push(r):t[n]=[r]}))}function i(n,t){n.forEach((function(n){e(n,t)}))}var o={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(n,t){n.forEach((function(n){i(n,t)}))}};for(var a in n.forEach((function n(t,r){"GeometryCollection"===t.type?t.geometries.forEach((function(t){n(t,r)})):t.type in o&&o[t.type](t.arcs,r)})),t)for(var u=t[a],c=u.length,f=0;f<c;++f)for(var s=f+1;s<c;++s){var l,h=u[f],p=u[s];(l=r[h])[a=Wg(l,p)]!==p&&l.splice(a,0,p),(l=r[p])[a=Wg(l,h)]!==h&&l.splice(a,0,h)}return r},quantize:function(n,t){if(n.transform)throw new Error("already quantized");if(t&&t.scale)u=n.bbox;else{if(!((r=Math.floor(t))>=2))throw new Error("n must be ≥2");var r,e=(u=n.bbox||Bg(n))[0],i=u[1],o=u[2],a=u[3];t={scale:[o-e?(o-e)/(r-1):1,a-i?(a-i)/(r-1):1],translate:[e,i]}}var u,c,f=Yg(t),s=n.objects,l={};function h(n){return f(n)}function p(n){var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(p)};break;case"Point":t={type:"Point",coordinates:h(n.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:n.coordinates.map(h)};break;default:return n}return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}for(c in s)l[c]=p(s[c]);return{type:"Topology",bbox:u,transform:t,objects:l,arcs:n.arcs.map((function(n){var t,r=0,e=1,i=n.length,o=new Array(i);for(o[0]=f(n[0],0);++r<i;)((t=f(n[r],r))[0]||t[1])&&(o[e++]=t);return 1===e&&(o[e++]=[0,0]),o.length=e,o}))}},transform:Lg,untransform:Yg},Symbol.toStringTag,{value:"Module"})),$g=ht,Xg=n(Jg),Kg=y.__importDefault(ud),Qg=Ev;function Zg(n,t,r){var e=t.object;if(!$g.isString(e))throw new TypeError("Invalid object: must be a string!");var i=Xg.feature(n,n.objects[e]);return Kg.default(i,void 0,r)}function ny(n){return!!n}Qg.DataSet.registerConnector("topojson",Zg),Qg.DataSet.registerConnector("TopoJSON",Zg),Ev.DataSet.registerTransform("default",(function(n){return n})),Ev.DataSet.registerTransform("filter",(function(n,t){n.rows=n.rows.filter(t.callback||ny)}));var ty={};Object.defineProperty(ty,"__esModule",{value:!0}),ty.getFields=ty.getField=void 0;var ry=ht;ty.getField=function(n,t){var r=n.field,e=n.fields;if(ry.isString(r))return r;if(ry.isArray(r))return r[0];if(ry.isString(e))return e;if(ry.isArray(e)&&e.length)return e[0];if(t)return t;throw new TypeError("Invalid field: it must be a string!")},ty.getFields=function(n,t){var r=n.field,e=n.fields;if(ry.isArray(e))return e;if(ry.isString(e))return[e];if(ry.isString(r))return[r];if(ry.isArray(r)&&r.length)return r;if(t)return t;throw new TypeError("Invalid fields: it must be an array!")};var ey=ht,iy=ty,oy={fields:[],key:"key",retains:[],value:"value"};function ay(n){return n}Ev.DataSet.registerTransform("fold",(function(n,t){var r=n.getColumnNames();t=ey.assign({},oy,t);var e=iy.getFields(t);0===e.length&&(e=r);var i=t.key,o=t.value,a=t.retains;a&&0!==a.length||(a=ey.difference(r,e));var u=[];n.rows.forEach((function(n){e.forEach((function(t){var r=ey.pick(n,a);r[i]=t,r[o]=n[t],u.push(r)}))})),n.rows=u})),Ev.DataSet.registerTransform("map",(function(n,t){n.rows=n.rows.map(t.callback||ay)}));var uy=ht,cy=y.__importDefault(ev),fy=Ev,sy={groupBy:[],orderBy:[]};function ly(n,t){t=uy.assign({},sy,t),n.rows=uy.values(cy.default(n.rows,t.groupBy,t.orderBy))}fy.DataSet.registerTransform("partition",(function(n,t){t=uy.assign({},sy,t),n.rows=cy.default(n.rows,t.groupBy,t.orderBy)})),fy.DataSet.registerTransform("group",ly),fy.DataSet.registerTransform("groups",ly);var hy=ht,py=lv.exports,vy=y.__importDefault(ev),dy=ty,gy={groupBy:[],as:"_percent"};Ev.DataSet.registerTransform("percent",(function(n,t){t=hy.assign({},gy,t);var r=dy.getField(t),e=t.dimension,i=t.groupBy,o=t.as;if(!hy.isString(e))throw new TypeError("Invalid dimension: must be a string!");if(hy.isArray(o)&&(o=o[0]),!hy.isString(o))throw new TypeError("Invalid as: must be a string!");var a=n.rows,u=[],c=vy.default(a,i);hy.forIn(c,(function(n){var t=py.sum(n.map((function(n){return n[r]}))),i=vy.default(n,[e]);hy.forIn(i,(function(n){var i=py.sum(n.map((function(n){return n[r]}))),a=n[0],c=a[e];a[r]=i,a[e]=c,a[o]=0===t?0:i/t,u.push(a)}))})),n.rows=u}));var yy=ht,my=ty;Ev.DataSet.registerTransform("pick",(function(n,t){var r=my.getFields(t,n.getColumnNames());n.rows=n.rows.map((function(n){return yy.pick(n,r)}))}));var wy=ht,xy=y.__importDefault(ev),Ey=ty,by={groupBy:[],as:"_proportion"};Ev.DataSet.registerTransform("proportion",(function(n,t){t=wy.assign({},by,t);var r=Ey.getField(t),e=t.dimension,i=t.groupBy,o=t.as;if(!wy.isString(e))throw new TypeError("Invalid dimension: must be a string!");if(wy.isArray(o)&&(o=o[0]),!wy.isString(o))throw new TypeError("Invalid as: must be a string!");var a=n.rows,u=[],c=xy.default(a,i);wy.forIn(c,(function(n){var t=n.length,i=xy.default(n,[e]);wy.forIn(i,(function(n){var i=n.length,a=n[0],c=a[e];a[r]=i,a[e]=c,a[o]=i/t,u.push(a)}))})),n.rows=u}));var _y=ht,Sy=Ev;function My(n,t){var r=t.map||{},e={};_y.isPlainObject(r)&&_y.forIn(r,(function(n,t){_y.isString(n)&&_y.isString(t)&&(e[t]=n)})),n.rows.forEach((function(n){_y.forIn(e,(function(t,r){var e=n[r];delete n[r],n[t]=e}))}))}Sy.DataSet.registerTransform("rename",My),Sy.DataSet.registerTransform("rename-fields",My),Ev.DataSet.registerTransform("reverse",(function(n){n.rows.reverse()})),Ev.DataSet.registerTransform("sort",(function(n,t){var r=n.getColumnName(0);n.rows.sort(t.callback||function(n,t){return n[r]-t[r]})}));var Ty=ht,Oy=Ev,jy=ty,ky=["ASC","DESC"];function Cy(n,t){var r=jy.getFields(t,[n.getColumnName(0)]);if(!Ty.isArray(r))throw new TypeError("Invalid fields: must be an array with strings!");n.rows=Ty.sortBy(n.rows,r);var e=t.order;if(e&&-1===ky.indexOf(e))throw new TypeError("Invalid order: "+e+" must be one of "+ky.join(", "));"DESC"===e&&n.rows.reverse()}Oy.DataSet.registerTransform("sort-by",Cy),Oy.DataSet.registerTransform("sortBy",Cy);var Py=ty;Ev.DataSet.registerTransform("subset",(function(n,t){var r=t.startRowIndex||0,e=t.endRowIndex||n.rows.length-1,i=Py.getFields(t,n.getColumnNames());n.rows=n.getSubset(r,e,i)}));var Ay=ht,Ny=y.__importDefault(ev),Ry=Ev,Dy={fillBy:"group",groupBy:[],orderBy:[]};function Iy(n,t){var r=n.map((function(n){return n}));return t.forEach((function(n){var t=r.indexOf(n);t>-1&&r.splice(t,1)})),r}function qy(n,t){t=Ay.assign({},Dy,t);var r=n.rows,e=t.groupBy,i=t.orderBy,o=Ny.default(r,e,i),a=0,u=[];Ay.forIn(o,(function(n){n.length>a&&(a=n.length,u=n)}));var c=[],f={};if(u.forEach((function(n){var t=i.map((function(t){return n[t]})).join("-");c.push(t),f[t]=n})),"order"===t.fillBy){var s=u[0],l=[],h={};r.forEach((function(n){var t=i.map((function(t){return n[t]})).join("-");-1===l.indexOf(t)&&(l.push(t),h[t]=n)})),Iy(l,c).forEach((function(n){var t={};e.forEach((function(n){t[n]=s[n]})),i.forEach((function(r){t[r]=h[n][r]})),r.push(t),u.push(t),c.push(n),f[n]=t})),a=u.length}Ay.forIn(o,(function(n){if(n!==u&&n.length<a){var t=n[0],o=[];n.forEach((function(n){o.push(i.map((function(t){return n[t]})).join("-"))})),Iy(c,o).some((function(o,u){if(u>=a-n.length)return!0;var c=f[o],s={};return e.forEach((function(n){s[n]=t[n]})),i.forEach((function(n){s[n]=c[n]})),r.push(s),!1}))}}))}Ry.DataSet.registerTransform("fill-rows",qy),Ry.DataSet.registerTransform("fillRows",qy);var Ly=y,By=ht,zy=Ly.__importStar(lv.exports),Fy=Ly.__importDefault(ev),Vy=Ev,Gy=ty,Hy={groupBy:[]};function Uy(n){return n.filter((function(n){return!By.isUndefined(n)}))}var Wy=["mean","median","max","min"],Yy={};Wy.forEach((function(n){Yy[n]=function(t,r){return zy[n](r)}})),Yy.value=function(n,t,r){return r},Vy.DataSet.registerTransform("impute",(function(n,t){t=By.assign({},Hy,t);var r=Gy.getField(t),e=t.method;if(!e)throw new TypeError("Invalid method!");if("value"===e&&!By.has(t,"value"))throw new TypeError("Invalid value: it is nil.");var i=Uy(n.getColumn(r)),o=Fy.default(n.rows,t.groupBy);By.forIn(o,(function(n){var o=Uy(n.map((function(n){return n[r]})));0===o.length&&(o=i),n.forEach((function(i){if(By.isUndefined(i[r]))if(By.isFunction(e))i[r]=e(i,o,t.value,n);else{if(!By.isString(e))throw new TypeError("Invalid method: must be a function or one of "+Wy.join(", "));i[r]=Yy[e](i,o,t.value)}}))}))}));var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});var $y=y,Xy=ht,Ky=$y.__importStar(lv.exports),Qy=$y.__importDefault(ev),Zy=Ev,nm=Zy.DataSet.registerTransform,tm=ty,rm={as:[],fields:[],groupBy:[],operations:[]},em={count:function(n){return n.length},distinct:function(n,t){return Xy.uniq(n.map((function(n){return n[t]}))).length}};function im(n,t){t=Xy.assign({},rm,t);var r=tm.getFields(t);if(!Xy.isArray(r))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var e=t.as||[];Xy.isString(e)&&(e=[e]);var i=t.operations;Xy.isString(i)&&(i=[i]);var o=["count"];if(Xy.isArray(i)&&i.length||(e=i=o),1!==i.length||"count"!==i[0]){if(i.length!==r.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(e.length!==r.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var a=Qy.default(n.rows,t.groupBy),u=[];Xy.forIn(a,(function(n){var t=n[0];i.forEach((function(i,o){var a=e[o],u=r[o];t[a]=em[i](n,u)})),u.push(t)})),n.rows=u}Zy.DataSet.CONSTANTS.STATISTICS_METHODS.forEach((function(n){em[n]=function(t,r){var e=t.map((function(n){return n[r]}));return Xy.isArray(e)&&Xy.isArray(e[0])&&(e=Xy.flattenDeep(e)),Ky[n](e)}})),em.average=em.mean,nm("aggregate",im),nm("summary",im),Jy.default={VALID_AGGREGATES:Xy.keys(em)};var om={},am={exports:{}};!function(n){function t(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n};function e(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}var i={order:2,precision:2,period:null};function o(n,t){var r=[],e=[];n.forEach((function(n,i){null!==n[1]&&(e.push(n),r.push(t[i]))}));var i=e.reduce((function(n,t){return n+t[1]}),0)/e.length,o=e.reduce((function(n,t){var r=t[1]-i;return n+r*r}),0);return 1-e.reduce((function(n,t,e){var i=r[e],o=t[1]-i[1];return n+o*o}),0)/o}function a(n,t){for(var r=n,e=n.length-1,i=[t],o=0;o<e;o++){for(var a=o,u=o+1;u<e;u++)Math.abs(r[o][u])>Math.abs(r[o][a])&&(a=u);for(var c=o;c<e+1;c++){var f=r[c][o];r[c][o]=r[c][a],r[c][a]=f}for(var s=o+1;s<e;s++)for(var l=e;l>=o;l--)r[l][s]-=r[l][o]*r[o][s]/r[o][o]}for(var h=e-1;h>=0;h--){for(var p=0,v=h+1;v<e;v++)p+=r[v][h]*i[v];i[h]=(r[e][h]-p)/r[h][h]}return i}function u(n,t){var r=Math.pow(10,t);return Math.round(n*r)/r}var c={linear:function(n,t){for(var r=[0,0,0,0,0],e=0,i=0;i<n.length;i++)null!==n[i][1]&&(e++,r[0]+=n[i][0],r[1]+=n[i][1],r[2]+=n[i][0]*n[i][0],r[3]+=n[i][0]*n[i][1],r[4]+=n[i][1]*n[i][1]);var a=e*r[2]-r[0]*r[0],c=e*r[3]-r[0]*r[1],f=0===a?0:u(c/a,t.precision),s=u(r[1]/e-f*r[0]/e,t.precision),l=function(n){return[u(n,t.precision),u(f*n+s,t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[f,s],r2:u(o(n,h),t.precision),string:0===s?"y = "+f+"x":"y = "+f+"x + "+s}},exponential:function(n,t){for(var r=[0,0,0,0,0,0],e=0;e<n.length;e++)null!==n[e][1]&&(r[0]+=n[e][0],r[1]+=n[e][1],r[2]+=n[e][0]*n[e][0]*n[e][1],r[3]+=n[e][1]*Math.log(n[e][1]),r[4]+=n[e][0]*n[e][1]*Math.log(n[e][1]),r[5]+=n[e][0]*n[e][1]);var i=r[1]*r[2]-r[5]*r[5],a=Math.exp((r[2]*r[3]-r[5]*r[4])/i),c=(r[1]*r[4]-r[5]*r[3])/i,f=u(a,t.precision),s=u(c,t.precision),l=function(n){return[u(n,t.precision),u(f*Math.exp(s*n),t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[f,s],string:"y = "+f+"e^("+s+"x)",r2:u(o(n,h),t.precision)}},logarithmic:function(n,t){for(var r=[0,0,0,0],e=n.length,i=0;i<e;i++)null!==n[i][1]&&(r[0]+=Math.log(n[i][0]),r[1]+=n[i][1]*Math.log(n[i][0]),r[2]+=n[i][1],r[3]+=Math.pow(Math.log(n[i][0]),2));var a=u((e*r[1]-r[2]*r[0])/(e*r[3]-r[0]*r[0]),t.precision),c=u((r[2]-a*r[0])/e,t.precision),f=function(n){return[u(n,t.precision),u(u(c+a*Math.log(n),t.precision),t.precision)]},s=n.map((function(n){return f(n[0])}));return{points:s,predict:f,equation:[c,a],string:"y = "+c+" + "+a+" ln(x)",r2:u(o(n,s),t.precision)}},power:function(n,t){for(var r=[0,0,0,0,0],e=n.length,i=0;i<e;i++)null!==n[i][1]&&(r[0]+=Math.log(n[i][0]),r[1]+=Math.log(n[i][1])*Math.log(n[i][0]),r[2]+=Math.log(n[i][1]),r[3]+=Math.pow(Math.log(n[i][0]),2));var a=(e*r[1]-r[0]*r[2])/(e*r[3]-Math.pow(r[0],2)),c=(r[2]-a*r[0])/e,f=u(Math.exp(c),t.precision),s=u(a,t.precision),l=function(n){return[u(n,t.precision),u(u(f*Math.pow(n,s),t.precision),t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[f,s],string:"y = "+f+"x^"+s,r2:u(o(n,h),t.precision)}},polynomial:function(n,t){for(var r=[],i=[],c=0,f=0,s=n.length,l=t.order+1,h=0;h<l;h++){for(var p=0;p<s;p++)null!==n[p][1]&&(c+=Math.pow(n[p][0],h)*n[p][1]);r.push(c),c=0;for(var v=[],d=0;d<l;d++){for(var g=0;g<s;g++)null!==n[g][1]&&(f+=Math.pow(n[g][0],h+d));v.push(f),f=0}i.push(v)}i.push(r);for(var y=a(i,l).map((function(n){return u(n,t.precision)})),m=function(n){return[u(n,t.precision),u(y.reduce((function(t,r,e){return t+r*Math.pow(n,e)}),0),t.precision)]},w=n.map((function(n){return m(n[0])})),x="y = ",E=y.length-1;E>=0;E--)x+=E>1?y[E]+"x^"+E+" + ":1===E?y[E]+"x + ":y[E];return{string:x,points:w,predict:m,equation:[].concat(e(y)).reverse(),r2:u(o(n,w),t.precision)}}};function f(){var n=function(n,e){return r({_round:u},n,t({},e,(function(n,t){return c[e](n,r({},i,t))})))};return Object.keys(c).reduce(n,{})}n.exports=f()}(am);var um={};Object.defineProperty(um,"__esModule",{value:!0});var cm=y;um.default=function(n,t){for(var r=t||1,e=cm.__read(n,2),i=e[0],o=e[1],a=[],u=i;u<o;)a.push(u),u+=r;return a.push(o),a};var fm={};Object.defineProperty(fm,"__esModule",{value:!0}),fm.nrd=fm.silverman=void 0;var sm=lv.exports;fm.silverman=function(n){var t=sm.standardDeviation(n),r=4*Math.pow(t,5),e=3*n.length;return Math.pow(r/e,.2)},fm.nrd=function(n){var t=sm.standardDeviation(n),r=sm.interquartileRange(n);return"number"==typeof r&&(t=Math.min(t,r/1.34)),1.06*t*Math.pow(n.length,-.2)},Object.defineProperty(om,"__esModule",{value:!0});var lm=y,hm=lm.__importDefault(am.exports),pm=ht,vm=lm.__importDefault(um),dm=ty,gm=fm,ym={as:["x","y"],method:"linear",order:2,precision:2},mm=["linear","exponential","logarithmic","power","polynomial"];Ev.DataSet.registerTransform("regression",(function(n,t){t=pm.assign({},ym,t);var r=dm.getFields(t);if(!pm.isArray(r)||2!==r.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var e=lm.__read(r,2),i=e[0],o=e[1],a=t.method;if(-1===mm.indexOf(a))throw new TypeError("invalid method: "+a+". Must be one of "+mm.join(", "));var u=n.rows.map((function(n){return[n[i],n[o]]})),c=hm.default[a](u,t),f=t.extent;pm.isArray(f)&&2===f.length||(f=n.range(i));var s=t.bandwidth;(!pm.isNumber(s)||s<=0)&&(s=gm.silverman(n.getColumn(i)));var l=vm.default(f,s),h=[],p=lm.__read(t.as,2),v=p[0],d=p[1];l.forEach((function(n){var t={},r=lm.__read(c.predict(n),2),e=r[0],i=r[1];t[v]=e,t[d]=i,isFinite(i)&&h.push(t)})),n.rows=h})),om.default={REGRESSION_METHODS:mm};var wm={},xm={};function Em(n){return Math.abs(n)<=1?.5:0}Object.defineProperty(xm,"__esModule",{value:!0}),xm.default={boxcar:Em,cosine:function(n){return Math.abs(n)<=1?Math.PI/4*Math.cos(Math.PI/2*n):0},epanechnikov:function(n){return Math.abs(n)<1?.75*(1-n*n):0},gaussian:function(n){return.3989422804*Math.exp(-.5*n*n)},quartic:function(n){if(Math.abs(n)<1){var t=1-n*n;return 15/16*t*t}return 0},triangular:function(n){var t=Math.abs(n);return t<1?1-t:0},tricube:function(n){return Math.abs(n)<1?70/81*function(n){var t=1-Math.pow(Math.abs(n),3);return Math.pow(t,3)}(n):0},triweight:function(n){if(Math.abs(n)<1){var t=1-n*n;return 35/32*t*t*t}return 0},uniform:Em},Object.defineProperty(wm,"__esModule",{value:!0});var bm=y,_m=ht,Sm=bm.__importDefault(um),Mm=bm.__importDefault(xm),Tm=bm.__importStar(fm),Om=bm.__importDefault(ev),jm=Ev,km=ty,Cm=lv.exports,Pm={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},Am=_m.keys(Mm.default),Nm=_m.keys(Tm);function Rm(n,t){t=_m.assign({},Pm,t);var r=km.getFields(t);if(!_m.isArray(r)||r.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var e=t.as;if(!_m.isArray(e)||3!==e.length)throw new TypeError("invalid as: must be an array of 3 strings!");var i=t.method;if(_m.isString(i)){if(-1===Am.indexOf(i))throw new TypeError("invalid method: "+i+". Must be one of "+Am.join(", "));i=Mm.default[i]}if(!_m.isFunction(i))throw new TypeError("invalid method: kernel method must be a function!");var o=t.extent;if(!_m.isArray(o)||0===o.length){var a=[];_m.each(r,(function(t){var r=n.range(t);a=a.concat(r)})),o=[Math.min.apply(Math,bm.__spread(a)),Math.max.apply(Math,bm.__spread(a))]}var u=t.bandwidth;_m.isString(u)&&Tm[u]?u=Tm[u](n.getColumn(r[0])):_m.isFunction(u)?u=u(n.getColumn(r[0])):(!_m.isNumber(u)||u<=0)&&(u=Tm.nrd(n.getColumn(r[0])));var c=Sm.default(o,t.step?t.step:u),f=[],s=t.groupBy,l=Om.default(n.rows,s);_m.forIn(l,(function(n){var o={};_m.each(r,(function(r){var a=_m.pick(n[0],s);o[r]=Cm.kernelDensityEstimation(n.map((function(n){return n[r]})),i,u);var l=bm.__read(e,3),h=l[0],p=l[1],v=l[2];a[h]=r,a[p]=[],a[v]=[],_m.each(c,(function(n){var e=o[r](n);e>=t.minSize&&(a[p].push(n),a[v].push(e))})),f.push(a)}))})),n.rows=f}jm.DataSet.registerTransform("kernel-density-estimation",Rm),jm.DataSet.registerTransform("kde",Rm),jm.DataSet.registerTransform("KDE",Rm),wm.default={KERNEL_METHODS:Am,BANDWIDTH_METHODS:Nm};var Dm=y,Im=ht,qm=Ev,Lm=ty,Bm={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},zm=Math.sqrt(3),Fm=Math.PI/3,Vm=[0,Fm,2*Fm,3*Fm,4*Fm,5*Fm];function Gm(n,t,r,e){return Math.sqrt((n-r)*(n-r)+(t-e)*(t-e))}function Hm(n,t,r){var e=n-r;t/=2;var i=Math.floor(e/t);return[t*(i+(1===Math.abs(i%2)?1:0))+r,t*(i+(1===Math.abs(i%2)?0:1))+r]}function Um(n,t){t=Im.assign({},Bm,t);var r=Lm.getFields(t);if(!Im.isArray(r)||2!==r.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var e=Dm.__read(r,2),i=e[0],o=e[1],a=n.range(i),u=n.range(o),c=a[1]-a[0],f=u[1]-u[0],s=t.binWidth||[];if(2!==s.length){var l=Dm.__read(t.bins,2),h=l[0],p=l[1];if(h<=0||p<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");s=[c/h,f/p]}var v=Dm.__read(t.offset,2),d=v[0],g=v[1],y=3*s[0]/(zm*s[1]),m=function(n,t,r){void 0===t&&(t=[1,1]),void 0===r&&(r=[0,0]);var e={},i=Dm.__read(t,2),o=i[0],a=i[1],u=Dm.__read(r,2),c=u[0],f=u[1];return n.forEach((function(n){var t,r,i,u,s,l=Dm.__read(n,2),h=l[0],p=l[1],v=Dm.__read(Hm(h,o,c),2),d=v[0],g=v[1],y=Dm.__read(Hm(p,a,f),2),m=y[0],w=y[1];Gm(h,p,d,m)<Gm(h,p,g,w)?(i="x"+d+"y"+m,u=(t=Dm.__read([d,m],2))[0],s=t[1]):(i="x"+g+"y"+w,u=(r=Dm.__read([g,w],2))[0],s=r[1]),e[i]=e[i]||{x:u,y:s,count:0},e[i].count++})),e}(n.rows.map((function(n){return[n[i],y*n[o]]})),[s[0],y*s[1]],[d,y*g]),w=Dm.__read(t.as,3),x=w[0],E=w[1],b=w[2];if(!x||!E||!b)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var _=s[0]/zm,S=Vm.map((function(n){return[Math.sin(n)*_,-Math.cos(n)*_]})),M=[],T=0;t.sizeByCount&&Im.forIn(m,(function(n){n.count>T&&(T=n.count)})),Im.forIn(m,(function(n){var r=n.x,e=n.y,i=n.count,o={};o[b]=i,t.sizeByCount?(o[x]=S.map((function(t){return r+n.count/T*t[0]})),o[E]=S.map((function(t){return(e+n.count/T*t[1])/y}))):(o[x]=S.map((function(n){return r+n[0]})),o[E]=S.map((function(n){return(e+n[1])/y}))),M.push(o)})),n.rows=M}qm.DataSet.registerTransform("bin.hexagon",Um),qm.DataSet.registerTransform("bin.hex",Um),qm.DataSet.registerTransform("hexbin",Um);var Wm=y,Ym=ht,Jm=Wm.__importDefault(ev),$m=Ev,Xm=ty,Km={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function Qm(n,t){t=Ym.assign({},Km,t);var r=Xm.getField(t);if(0!==n.rows.length){var e,i=n.range(r),o=i[1]-i[0],a=t.binWidth,u=t.bins;if(!a&&u){if(u<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=o/u}if(!a&&!u){var c=(e=n.rows.length,Math.ceil(Math.log(e)/Math.LN2)+1);a=o/c}var f=t.offset%a,s=[],l=t.groupBy,h=Jm.default(n.rows,l);Ym.forIn(h,(function(n){var e={};n.map((function(n){return n[r]})).forEach((function(n){var t=Wm.__read(function(n,t,r){var e=n-r,i=Math.floor(e/t);return[i*t+r,(i+1)*t+r]}(n,a,f),2),r=t[0],i=t[1],o=r+"-"+i;e[o]=e[o]||{x0:r,x1:i,count:0},e[o].count++}));var i=Wm.__read(t.as,2),o=i[0],u=i[1];if(!o||!u)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var c=Ym.pick(n[0],l);Ym.forIn(e,(function(n){var t=Ym.assign({},c);t[o]=[n.x0,n.x1],t[u]=n.count,s.push(t)}))})),n.rows=s}}$m.DataSet.registerTransform("bin.histogram",Qm),$m.DataSet.registerTransform("bin.dot",Qm);var Zm=y,nw=ht,tw=lv.exports,rw=Zm.__importDefault(ev),ew=Zm.__importDefault(hv),iw=Ev.DataSet.registerTransform,ow=ty,aw={as:"_bin",groupBy:[],fraction:4};iw("bin.quantile",(function(n,t){t=nw.assign({},aw,t);var r=ow.getField(t),e=t.as;if(!nw.isString(e))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var i=t.p,o=t.fraction;nw.isArray(i)&&0!==i.length||(i=ew.default(o));var a=n.rows,u=t.groupBy,c=rw.default(a,u),f=[];nw.forIn(c,(function(n){var t=n[0],o=n.map((function(n){return n[r]})),a=i.map((function(n){return tw.quantile(o,n)}));t[e]=a,f.push(t)})),n.rows=f}));var uw=y,cw=ht,fw=Ev.DataSet.registerTransform,sw=ty,lw={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function hw(n,t,r){var e=n-r,i=Math.floor(e/t);return[i*t+r,(i+1)*t+r]}function pw(n,t){t=cw.assign({},lw,t);var r=uw.__read(sw.getFields(t),2),e=r[0],i=r[1];if(!e||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var o=n.range(e),a=n.range(i),u=o[1]-o[0],c=a[1]-a[0],f=t.binWidth||[];if(2!==f.length){var s=uw.__read(t.bins,2),l=s[0],h=s[1];if(l<=0||h<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");f=[u/l,c/h]}var p=n.rows.map((function(n){return[n[e],n[i]]})),v={},d=uw.__read(t.offset,2),g=d[0],y=d[1];p.forEach((function(n){var t=uw.__read(hw(n[0],f[0],g),2),r=t[0],e=t[1],i=uw.__read(hw(n[1],f[1],y),2),o=i[0],a=i[1],u=r+"-"+e+"-"+o+"-"+a;v[u]=v[u]||{x0:r,x1:e,y0:o,y1:a,count:0},v[u].count++}));var m=[],w=uw.__read(t.as,3),x=w[0],E=w[1],b=w[2];if(!x||!E||!b)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(t.sizeByCount){var _=0;cw.forIn(v,(function(n){n.count>_&&(_=n.count)})),cw.forIn(v,(function(n){var t=n.x0,r=n.x1,e=n.y0,i=n.y1,o=n.count,a=o/_,u=uw.__read([(t+r)/2,(e+i)/2],2),c=u[0],f=u[1],s=(r-t)*a/2,l=(i-e)*a/2,h=c-s,p=c+s,v=f-l,d=f+l,g={};g[x]=[h,p,p,h],g[E]=[v,v,d,d],g[b]=o,m.push(g)}))}else cw.forIn(v,(function(n){var t={};t[x]=[n.x0,n.x1,n.x1,n.x0],t[E]=[n.y0,n.y0,n.y1,n.y1],t[b]=n.count,m.push(t)}));n.rows=m}fw("bin.rectangle",pw),fw("bin.rect",pw);var vw=ht,dw=Ev.DataSet.registerTransform,gw=ty,yw={as:["_centroid_x","_centroid_y"]};dw("geo.centroid",(function(n,t){t=vw.assign({},yw,t);var r=gw.getField(t),e=t.geoView||t.geoDataView;if(vw.isString(e)&&n.dataSet&&(e=n.dataSet.getView(e)),!e||"geo"!==e.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=t.as;if(!vw.isArray(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var o=i[0],a=i[1];n.rows.forEach((function(n){var t=e.geoFeatureByName(n[r]);t&&(e._projectedAs?(n[o]=t[e._projectedAs[2]],n[a]=t[e._projectedAs[3]]):(n[o]=t.centroidX,n[a]=t.centroidY))}))}));var mw=y,ww=ht,xw=Ao,Ew=mw.__importDefault(gd),bw=Ev.DataSet.registerTransform,_w=mw.__importDefault(Kl),Sw={as:["_x","_y","_centroid_x","_centroid_y"]};bw("geo.projection",(function(n,t){if("geo"!==n.dataType&&"geo-graticule"!==n.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");var r=(t=ww.assign({},Sw,t)).projection;if(!r)throw new TypeError("Invalid projection!");r=_w.default(r);var e=xw.geoPath(r),i=t.as;if(!ww.isArray(i)||4!==i.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');n._projectedAs=i;var o=mw.__read(i,4),a=o[0],u=o[1],c=o[2],f=o[3];n.rows.forEach((function(n){n[a]=[],n[u]=[];var t=e(n);if(t){Ew.default(t)._path.forEach((function(t){n[a].push(t[1]),n[u].push(t[2])}));var r=e.centroid(n);n[c]=r[0],n[f]=r[1]}})),n.rows=n.rows.filter((function(n){return 0!==n[a].length}))}));var Mw=ht,Tw=Ev.DataSet.registerTransform,Ow=ty,jw={as:["_x","_y"]};Tw("geo.region",(function(n,t){t=Mw.assign({},jw,t);var r=Ow.getField(t),e=t.geoView||t.geoDataView;if(Mw.isString(e)&&(e=n.dataSet.getView(e)),!e||"geo"!==e.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=t.as;if(!Mw.isArray(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var o=i[0],a=i[1];n.rows.forEach((function(n){var t=e.geoFeatureByName(n[r]);t&&(e._projectedAs?(n[o]=t[e._projectedAs[0]],n[a]=t[e._projectedAs[1]]):(n[o]=t.longitude,n[a]=t.latitude))}))}));var kw,Cw=ht,Pw=Ev,Aw={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(n){return n.id},source:function(n){return n.source},target:function(n){return n.target},sourceWeight:function(n){return n.value||1},targetWeight:function(n){return n.value||1},sortBy:null};function Nw(n,t){t=Cw.assign({},Aw,t);var r={},e=n.nodes,i=n.edges;Cw.isArray(e)&&0!==e.length||(e=function(n,t,r){return void 0===r&&(r={}),n.forEach((function(n){var e=t.edgeSource(n),i=t.edgeTarget(n);r[e]||(r[e]={id:e}),r[i]||(r[i]={id:i})})),Cw.values(r)}(i,t,r)),e.forEach((function(n){var e=t.id(n);r[e]=n})),function(n,t,r){Cw.forIn(n,(function(n,e){n.inEdges=t.filter((function(n){return""+r.target(n)==""+e})),n.outEdges=t.filter((function(n){return""+r.source(n)==""+e})),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach((function(t){n.value+=r.targetWeight(t)})),n.outEdges.forEach((function(t){n.value+=r.sourceWeight(t)}))}))}(r,i,t),function(n,t){var r={weight:function(n,t){return t.value-n.value},frequency:function(n,t){return t.frequency-n.frequency},id:function(n,r){return(""+t.id(n)).localeCompare(""+t.id(r))}}[t.sortBy];!r&&Cw.isFunction(t.sortBy)&&(r=t.sortBy),r&&n.sort(r)}(e,t),function(n,t){var r=n.length;if(!r)throw new TypeError("Invalid nodes: it's empty!");if(t.weight){var e=t.marginRatio;if(e<0||e>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=e/(2*r),o=t.thickness;if(o<=0||o>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var a=0;n.forEach((function(n){a+=n.value})),n.forEach((function(n){n.weight=n.value/a,n.width=n.weight*(1-e),n.height=o})),n.forEach((function(r,e){for(var a=0,u=e-1;u>=0;u--)a+=n[u].width+2*i;var c=r.minX=i+a,f=r.maxX=r.minX+r.width,s=r.minY=t.y-o/2,l=r.maxY=s+o;r.x=[c,f,f,c],r.y=[s,s,l,l]}))}else{var u=1/r;n.forEach((function(n,r){n.x=(r+.5)*u,n.y=t.y}))}}(e,t),function(n,t,r){if(r.weight){var e={};Cw.forIn(n,(function(n,t){e[t]=n.value})),t.forEach((function(t){var i=r.source(t),o=r.target(t),a=n[i],u=n[o];if(a&&u){var c=e[i],f=r.sourceWeight(t),s=a.minX+(a.value-c)/a.value*a.width,l=s+f/a.value*a.width;e[i]-=f;var h=e[o],p=r.targetWeight(t),v=u.minX+(u.value-h)/u.value*u.width,d=v+p/u.value*u.width;e[o]-=p;var g=r.y;t.x=[s,l,v,d],t.y=[g,g,g,g]}}))}else t.forEach((function(t){var e=n[r.source(t)],i=n[r.target(t)];e&&i&&(t.x=[e.x,i.x],t.y=[e.y,i.y])}))}(r,i,t),n.nodes=e,n.edges=i}if(Pw.DataSet.registerTransform("diagram.arc",Nw),Pw.DataSet.registerTransform("arc",Nw),"function"==typeof r)try{kw=require("graphlib")}catch(XM){}kw||(kw=window.graphlib);var Rw,Dw=kw;if("function"==typeof r)try{Rw={cloneDeep:require("lodash/cloneDeep"),constant:require("lodash/constant"),defaults:require("lodash/defaults"),each:require("lodash/each"),filter:require("lodash/filter"),find:require("lodash/find"),flatten:require("lodash/flatten"),forEach:require("lodash/forEach"),forIn:require("lodash/forIn"),has:require("lodash/has"),isUndefined:require("lodash/isUndefined"),last:require("lodash/last"),map:require("lodash/map"),mapValues:require("lodash/mapValues"),max:require("lodash/max"),merge:require("lodash/merge"),min:require("lodash/min"),minBy:require("lodash/minBy"),now:require("lodash/now"),pick:require("lodash/pick"),range:require("lodash/range"),reduce:require("lodash/reduce"),sortBy:require("lodash/sortBy"),uniqueId:require("lodash/uniqueId"),values:require("lodash/values"),zipObject:require("lodash/zipObject")}}catch(XM){}Rw||(Rw=window._);var Iw=Rw,qw=Lw;function Lw(){var n={};n._next=n._prev=n,this._sentinel=n}function Bw(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function zw(n,t){if("_next"!==n&&"_prev"!==n)return t}Lw.prototype.dequeue=function(){var n=this._sentinel,t=n._prev;if(t!==n)return Bw(t),t},Lw.prototype.enqueue=function(n){var t=this._sentinel;n._prev&&n._next&&Bw(n),n._next=t._next,t._next._prev=n,t._next=n,n._prev=t},Lw.prototype.toString=function(){for(var n=[],t=this._sentinel,r=t._prev;r!==t;)n.push(JSON.stringify(r,zw)),r=r._prev;return"["+n.join(", ")+"]"};var Fw=Iw,Vw=Dw.Graph,Gw=qw,Hw=function(n,t){if(n.nodeCount()<=1)return[];var r=function(n,t){var r=new Vw,e=0,i=0;Fw.forEach(n.nodes(),(function(n){r.setNode(n,{v:n,in:0,out:0})})),Fw.forEach(n.edges(),(function(n){var o=r.edge(n.v,n.w)||0,a=t(n),u=o+a;r.setEdge(n.v,n.w,u),i=Math.max(i,r.node(n.v).out+=a),e=Math.max(e,r.node(n.w).in+=a)}));var o=Fw.range(i+e+3).map((function(){return new Gw})),a=e+1;return Fw.forEach(r.nodes(),(function(n){Yw(o,a,r.node(n))})),{graph:r,buckets:o,zeroIdx:a}}(n,t||Uw),e=function(n,t,r){var e,i=[],o=t[t.length-1],a=t[0];for(;n.nodeCount();){for(;e=a.dequeue();)Ww(n,t,r,e);for(;e=o.dequeue();)Ww(n,t,r,e);if(n.nodeCount())for(var u=t.length-2;u>0;--u)if(e=t[u].dequeue()){i=i.concat(Ww(n,t,r,e,!0));break}}return i}(r.graph,r.buckets,r.zeroIdx);return Fw.flatten(Fw.map(e,(function(t){return n.outEdges(t.v,t.w)})),!0)},Uw=Fw.constant(1);function Ww(n,t,r,e,i){var o=i?[]:void 0;return Fw.forEach(n.inEdges(e.v),(function(e){var a=n.edge(e),u=n.node(e.v);i&&o.push({v:e.v,w:e.w}),u.out-=a,Yw(t,r,u)})),Fw.forEach(n.outEdges(e.v),(function(e){var i=n.edge(e),o=e.w,a=n.node(o);a.in-=i,Yw(t,r,a)})),n.removeNode(e.v),o}function Yw(n,t,r){r.out?r.in?n[r.out-r.in+t].enqueue(r):n[n.length-1].enqueue(r):n[0].enqueue(r)}var Jw=Iw,$w=Hw,Xw={run:function(n){var t="greedy"===n.graph().acyclicer?$w(n,(r=n,function(n){return r.edge(n).weight})):function(n){var t=[],r={},e={};function i(o){Jw.has(e,o)||(e[o]=!0,r[o]=!0,Jw.forEach(n.outEdges(o),(function(n){Jw.has(r,n.w)?t.push(n):i(n.w)})),delete r[o])}return Jw.forEach(n.nodes(),i),t}(n);var r;Jw.forEach(t,(function(t){var r=n.edge(t);n.removeEdge(t),r.forwardName=t.name,r.reversed=!0,n.setEdge(t.w,t.v,r,Jw.uniqueId("rev"))}))},undo:function(n){Jw.forEach(n.edges(),(function(t){var r=n.edge(t);if(r.reversed){n.removeEdge(t);var e=r.forwardName;delete r.reversed,delete r.forwardName,n.setEdge(t.w,t.v,r,e)}}))}};var Kw=Iw,Qw=Dw.Graph,Zw={addDummyNode:nx,simplify:function(n){var t=(new Qw).setGraph(n.graph());return Kw.forEach(n.nodes(),(function(r){t.setNode(r,n.node(r))})),Kw.forEach(n.edges(),(function(r){var e=t.edge(r.v,r.w)||{weight:0,minlen:1},i=n.edge(r);t.setEdge(r.v,r.w,{weight:e.weight+i.weight,minlen:Math.max(e.minlen,i.minlen)})})),t},asNonCompoundGraph:function(n){var t=new Qw({multigraph:n.isMultigraph()}).setGraph(n.graph());return Kw.forEach(n.nodes(),(function(r){n.children(r).length||t.setNode(r,n.node(r))})),Kw.forEach(n.edges(),(function(r){t.setEdge(r,n.edge(r))})),t},successorWeights:function(n){var t=Kw.map(n.nodes(),(function(t){var r={};return Kw.forEach(n.outEdges(t),(function(t){r[t.w]=(r[t.w]||0)+n.edge(t).weight})),r}));return Kw.zipObject(n.nodes(),t)},predecessorWeights:function(n){var t=Kw.map(n.nodes(),(function(t){var r={};return Kw.forEach(n.inEdges(t),(function(t){r[t.v]=(r[t.v]||0)+n.edge(t).weight})),r}));return Kw.zipObject(n.nodes(),t)},intersectRect:function(n,t){var r,e,i=n.x,o=n.y,a=t.x-i,u=t.y-o,c=n.width/2,f=n.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*c>Math.abs(a)*f?(u<0&&(f=-f),r=f*a/u,e=f):(a<0&&(c=-c),r=c,e=c*u/a);return{x:i+r,y:o+e}},buildLayerMatrix:function(n){var t=Kw.map(Kw.range(tx(n)+1),(function(){return[]}));return Kw.forEach(n.nodes(),(function(r){var e=n.node(r),i=e.rank;Kw.isUndefined(i)||(t[i][e.order]=r)})),t},normalizeRanks:function(n){var t=Kw.min(Kw.map(n.nodes(),(function(t){return n.node(t).rank})));Kw.forEach(n.nodes(),(function(r){var e=n.node(r);Kw.has(e,"rank")&&(e.rank-=t)}))},removeEmptyRanks:function(n){var t=Kw.min(Kw.map(n.nodes(),(function(t){return n.node(t).rank}))),r=[];Kw.forEach(n.nodes(),(function(e){var i=n.node(e).rank-t;r[i]||(r[i]=[]),r[i].push(e)}));var e=0,i=n.graph().nodeRankFactor;Kw.forEach(r,(function(t,r){Kw.isUndefined(t)&&r%i!=0?--e:e&&Kw.forEach(t,(function(t){n.node(t).rank+=e}))}))},addBorderNode:function(n,t,r,e){var i={width:0,height:0};arguments.length>=4&&(i.rank=r,i.order=e);return nx(n,"border",i,t)},maxRank:tx,partition:function(n,t){var r={lhs:[],rhs:[]};return Kw.forEach(n,(function(n){t(n)?r.lhs.push(n):r.rhs.push(n)})),r},time:function(n,t){Kw.now();try{return t()}finally{}},notime:function(n,t){return t()}};function nx(n,t,r,e){var i;do{i=Kw.uniqueId(e)}while(n.hasNode(i));return r.dummy=t,n.setNode(i,r),i}function tx(n){return Kw.max(Kw.map(n.nodes(),(function(t){var r=n.node(t).rank;if(!Kw.isUndefined(r))return r})))}var rx=Iw,ex=Zw,ix={run:function(n){n.graph().dummyChains=[],rx.forEach(n.edges(),(function(t){!function(n,t){var r,e,i,o=t.v,a=n.node(o).rank,u=t.w,c=n.node(u).rank,f=t.name,s=n.edge(t),l=s.labelRank;if(c===a+1)return;for(n.removeEdge(t),i=0,++a;a<c;++i,++a)s.points=[],e={width:0,height:0,edgeLabel:s,edgeObj:t,rank:a},r=ex.addDummyNode(n,"edge",e,"_d"),a===l&&(e.width=s.width,e.height=s.height,e.dummy="edge-label",e.labelpos=s.labelpos),n.setEdge(o,r,{weight:s.weight},f),0===i&&n.graph().dummyChains.push(r),o=r;n.setEdge(o,u,{weight:s.weight},f)}(n,t)}))},undo:function(n){rx.forEach(n.graph().dummyChains,(function(t){var r,e=n.node(t),i=e.edgeLabel;for(n.setEdge(e.edgeObj,i);e.dummy;)r=n.successors(t)[0],n.removeNode(t),i.points.push({x:e.x,y:e.y}),"edge-label"===e.dummy&&(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height),t=r,e=n.node(t)}))}};var ox=Iw,ax={longestPath:function(n){var t={};ox.forEach(n.sources(),(function r(e){var i=n.node(e);if(ox.has(t,e))return i.rank;t[e]=!0;var o=ox.min(ox.map(n.outEdges(e),(function(t){return r(t.w)-n.edge(t).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},slack:function(n,t){return n.node(t.w).rank-n.node(t.v).rank-n.edge(t).minlen}};var ux=Iw,cx=Dw.Graph,fx=ax.slack,sx=function(n){var t,r,e=new cx({directed:!1}),i=n.nodes()[0],o=n.nodeCount();e.setNode(i,{});for(;lx(e,n)<o;)t=hx(e,n),r=e.hasNode(t.v)?fx(n,t):-fx(n,t),px(e,n,r);return e};function lx(n,t){return ux.forEach(n.nodes(),(function r(e){ux.forEach(t.nodeEdges(e),(function(i){var o=i.v,a=e===o?i.w:o;n.hasNode(a)||fx(t,i)||(n.setNode(a,{}),n.setEdge(e,a,{}),r(a))}))})),n.nodeCount()}function hx(n,t){return ux.minBy(t.edges(),(function(r){if(n.hasNode(r.v)!==n.hasNode(r.w))return fx(t,r)}))}function px(n,t,r){ux.forEach(n.nodes(),(function(n){t.node(n).rank+=r}))}var vx=Iw,dx=sx,gx=ax.slack,yx=ax.longestPath,mx=Dw.alg.preorder,wx=Dw.alg.postorder,xx=Zw.simplify,Ex=bx;function bx(n){n=xx(n),yx(n);var t,r=dx(n);for(Mx(r),_x(r,n);t=Ox(r);)kx(r,n,t,jx(r,n,t))}function _x(n,t){var r=wx(n,n.nodes());r=r.slice(0,r.length-1),vx.forEach(r,(function(r){!function(n,t,r){var e=n.node(r).parent;n.edge(r,e).cutvalue=Sx(n,t,r)}(n,t,r)}))}function Sx(n,t,r){var e=n.node(r).parent,i=!0,o=t.edge(r,e),a=0;return o||(i=!1,o=t.edge(e,r)),a=o.weight,vx.forEach(t.nodeEdges(r),(function(o){var u,c,f=o.v===r,s=f?o.w:o.v;if(s!==e){var l=f===i,h=t.edge(o).weight;if(a+=l?h:-h,u=r,c=s,n.hasEdge(u,c)){var p=n.edge(r,s).cutvalue;a+=l?-p:p}}})),a}function Mx(n,t){arguments.length<2&&(t=n.nodes()[0]),Tx(n,{},1,t)}function Tx(n,t,r,e,i){var o=r,a=n.node(e);return t[e]=!0,vx.forEach(n.neighbors(e),(function(i){vx.has(t,i)||(r=Tx(n,t,r,i,e))})),a.low=o,a.lim=r++,i?a.parent=i:delete a.parent,r}function Ox(n){return vx.find(n.edges(),(function(t){return n.edge(t).cutvalue<0}))}function jx(n,t,r){var e=r.v,i=r.w;t.hasEdge(e,i)||(e=r.w,i=r.v);var o=n.node(e),a=n.node(i),u=o,c=!1;o.lim>a.lim&&(u=a,c=!0);var f=vx.filter(t.edges(),(function(t){return c===Cx(n,n.node(t.v),u)&&c!==Cx(n,n.node(t.w),u)}));return vx.minBy(f,(function(n){return gx(t,n)}))}function kx(n,t,r,e){var i=r.v,o=r.w;n.removeEdge(i,o),n.setEdge(e.v,e.w,{}),Mx(n),_x(n,t),function(n,t){var r=vx.find(n.nodes(),(function(n){return!t.node(n).parent})),e=mx(n,r);e=e.slice(1),vx.forEach(e,(function(r){var e=n.node(r).parent,i=t.edge(r,e),o=!1;i||(i=t.edge(e,r),o=!0),t.node(r).rank=t.node(e).rank+(o?i.minlen:-i.minlen)}))}(n,t)}function Cx(n,t,r){return r.low<=t.lim&&t.lim<=r.lim}bx.initLowLimValues=Mx,bx.initCutValues=_x,bx.calcCutValue=Sx,bx.leaveEdge=Ox,bx.enterEdge=jx,bx.exchangeEdges=kx;var Px=ax.longestPath,Ax=sx,Nx=Ex,Rx=function(n){switch(n.graph().ranker){case"network-simplex":default:Ix(n);break;case"tight-tree":!function(n){Px(n),Ax(n)}(n);break;case"longest-path":Dx(n)}};var Dx=Px;function Ix(n){Nx(n)}var qx=Iw,Lx=function(n){var t=function(n){var t={},r=0;function e(i){var o=r;qx.forEach(n.children(i),e),t[i]={low:o,lim:r++}}return qx.forEach(n.children(),e),t}(n);qx.forEach(n.graph().dummyChains,(function(r){for(var e=n.node(r),i=e.edgeObj,o=function(n,t,r,e){var i,o,a=[],u=[],c=Math.min(t[r].low,t[e].low),f=Math.max(t[r].lim,t[e].lim);i=r;do{i=n.parent(i),a.push(i)}while(i&&(t[i].low>c||f>t[i].lim));o=i,i=e;for(;(i=n.parent(i))!==o;)u.push(i);return{path:a.concat(u.reverse()),lca:o}}(n,t,i.v,i.w),a=o.path,u=o.lca,c=0,f=a[c],s=!0;r!==i.w;){if(e=n.node(r),s){for(;(f=a[c])!==u&&n.node(f).maxRank<e.rank;)c++;f===u&&(s=!1)}if(!s){for(;c<a.length-1&&n.node(f=a[c+1]).minRank<=e.rank;)c++;f=a[c]}n.setParent(r,f),r=n.successors(r)[0]}}))};var Bx=Iw,zx=Zw,Fx={run:function(n){var t=zx.addDummyNode(n,"root",{},"_root"),r=function(n){var t={};function r(e,i){var o=n.children(e);o&&o.length&&Bx.forEach(o,(function(n){r(n,i+1)})),t[e]=i}return Bx.forEach(n.children(),(function(n){r(n,1)})),t}(n),e=Bx.max(Bx.values(r))-1,i=2*e+1;n.graph().nestingRoot=t,Bx.forEach(n.edges(),(function(t){n.edge(t).minlen*=i}));var o=function(n){return Bx.reduce(n.edges(),(function(t,r){return t+n.edge(r).weight}),0)}(n)+1;Bx.forEach(n.children(),(function(a){Vx(n,t,i,o,e,r,a)})),n.graph().nodeRankFactor=i},cleanup:function(n){var t=n.graph();n.removeNode(t.nestingRoot),delete t.nestingRoot,Bx.forEach(n.edges(),(function(t){n.edge(t).nestingEdge&&n.removeEdge(t)}))}};function Vx(n,t,r,e,i,o,a){var u=n.children(a);if(u.length){var c=zx.addBorderNode(n,"_bt"),f=zx.addBorderNode(n,"_bb"),s=n.node(a);n.setParent(c,a),s.borderTop=c,n.setParent(f,a),s.borderBottom=f,Bx.forEach(u,(function(u){Vx(n,t,r,e,i,o,u);var s=n.node(u),l=s.borderTop?s.borderTop:u,h=s.borderBottom?s.borderBottom:u,p=s.borderTop?e:2*e,v=l!==h?1:i-o[a]+1;n.setEdge(c,l,{weight:p,minlen:v,nestingEdge:!0}),n.setEdge(h,f,{weight:p,minlen:v,nestingEdge:!0})})),n.parent(a)||n.setEdge(t,c,{weight:0,minlen:i+o[a]})}else a!==t&&n.setEdge(t,a,{weight:0,minlen:r})}var Gx=Iw,Hx=Zw,Ux=function(n){Gx.forEach(n.children(),(function t(r){var e=n.children(r),i=n.node(r);if(e.length&&Gx.forEach(e,t),Gx.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Wx(n,"borderLeft","_bl",r,i,o),Wx(n,"borderRight","_br",r,i,o)}}))};function Wx(n,t,r,e,i,o){var a={width:0,height:0,rank:o,borderType:t},u=i[t][o-1],c=Hx.addDummyNode(n,"border",a,r);i[t][o]=c,n.setParent(c,e),u&&n.setEdge(u,c,{weight:1})}var Yx=Iw,Jx={adjust:function(n){var t=n.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||$x(n)},undo:function(n){var t=n.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(n){Yx.forEach(n.nodes(),(function(t){Kx(n.node(t))})),Yx.forEach(n.edges(),(function(t){var r=n.edge(t);Yx.forEach(r.points,Kx),Yx.has(r,"y")&&Kx(r)}))}(n);"lr"!==t&&"rl"!==t||(!function(n){Yx.forEach(n.nodes(),(function(t){Qx(n.node(t))})),Yx.forEach(n.edges(),(function(t){var r=n.edge(t);Yx.forEach(r.points,Qx),Yx.has(r,"x")&&Qx(r)}))}(n),$x(n))}};function $x(n){Yx.forEach(n.nodes(),(function(t){Xx(n.node(t))})),Yx.forEach(n.edges(),(function(t){Xx(n.edge(t))}))}function Xx(n){var t=n.width;n.width=n.height,n.height=t}function Kx(n){n.y=-n.y}function Qx(n){var t=n.x;n.x=n.y,n.y=t}var Zx=Iw,nE=function(n){var t={},r=Zx.filter(n.nodes(),(function(t){return!n.children(t).length})),e=Zx.max(Zx.map(r,(function(t){return n.node(t).rank}))),i=Zx.map(Zx.range(e+1),(function(){return[]}));var o=Zx.sortBy(r,(function(t){return n.node(t).rank}));return Zx.forEach(o,(function r(e){if(Zx.has(t,e))return;t[e]=!0;var o=n.node(e);i[o.rank].push(e),Zx.forEach(n.successors(e),r)})),i};var tE=Iw,rE=function(n,t){for(var r=0,e=1;e<t.length;++e)r+=eE(n,t[e-1],t[e]);return r};function eE(n,t,r){for(var e=tE.zipObject(r,tE.map(r,(function(n,t){return t}))),i=tE.flatten(tE.map(t,(function(t){return tE.sortBy(tE.map(n.outEdges(t),(function(t){return{pos:e[t.w],weight:n.edge(t).weight}})),"pos")})),!0),o=1;o<r.length;)o<<=1;var a=2*o-1;o-=1;var u=tE.map(new Array(a),(function(){return 0})),c=0;return tE.forEach(i.forEach((function(n){var t=n.pos+o;u[t]+=n.weight;for(var r=0;t>0;)t%2&&(r+=u[t+1]),u[t=t-1>>1]+=n.weight;c+=n.weight*r}))),c}var iE=Iw;var oE=Iw;var aE=Iw,uE=Zw;function cE(n,t,r){for(var e;t.length&&(e=aE.last(t)).i<=r;)t.pop(),n.push(e.vs),r++;return r}var fE=Iw,sE=function(n,t){return iE.map(t,(function(t){var r=n.inEdges(t);if(r.length){var e=iE.reduce(r,(function(t,r){var e=n.edge(r),i=n.node(r.v);return{sum:t.sum+e.weight*i.order,weight:t.weight+e.weight}}),{sum:0,weight:0});return{v:t,barycenter:e.sum/e.weight,weight:e.weight}}return{v:t}}))},lE=function(n,t){var r={};return oE.forEach(n,(function(n,t){var e=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:t};oE.isUndefined(n.barycenter)||(e.barycenter=n.barycenter,e.weight=n.weight)})),oE.forEach(t.edges(),(function(n){var t=r[n.v],e=r[n.w];oE.isUndefined(t)||oE.isUndefined(e)||(e.indegree++,t.out.push(r[n.w]))})),function(n){var t=[];function r(n){return function(t){t.merged||(oE.isUndefined(t.barycenter)||oE.isUndefined(n.barycenter)||t.barycenter>=n.barycenter)&&function(n,t){var r=0,e=0;n.weight&&(r+=n.barycenter*n.weight,e+=n.weight);t.weight&&(r+=t.barycenter*t.weight,e+=t.weight);n.vs=t.vs.concat(n.vs),n.barycenter=r/e,n.weight=e,n.i=Math.min(t.i,n.i),t.merged=!0}(n,t)}}function e(t){return function(r){r.in.push(t),0==--r.indegree&&n.push(r)}}for(;n.length;){var i=n.pop();t.push(i),oE.forEach(i.in.reverse(),r(i)),oE.forEach(i.out,e(i))}return oE.map(oE.filter(t,(function(n){return!n.merged})),(function(n){return oE.pick(n,["vs","i","barycenter","weight"])}))}(oE.filter(r,(function(n){return!n.indegree})))},hE=function(n,t){var r=uE.partition(n,(function(n){return aE.has(n,"barycenter")})),e=r.lhs,i=aE.sortBy(r.rhs,(function(n){return-n.i})),o=[],a=0,u=0,c=0;e.sort((f=!!t,function(n,t){return n.barycenter<t.barycenter?-1:n.barycenter>t.barycenter?1:f?t.i-n.i:n.i-t.i})),c=cE(o,i,c),aE.forEach(e,(function(n){c+=n.vs.length,o.push(n.vs),a+=n.barycenter*n.weight,u+=n.weight,c=cE(o,i,c)}));var f;var s={vs:aE.flatten(o,!0)};u&&(s.barycenter=a/u,s.weight=u);return s},pE=function n(t,r,e,i){var o=t.children(r),a=t.node(r),u=a?a.borderLeft:void 0,c=a?a.borderRight:void 0,f={};u&&(o=fE.filter(o,(function(n){return n!==u&&n!==c})));var s=sE(t,o);fE.forEach(s,(function(r){if(t.children(r.v).length){var o=n(t,r.v,e,i);f[r.v]=o,fE.has(o,"barycenter")&&(a=r,u=o,fE.isUndefined(a.barycenter)?(a.barycenter=u.barycenter,a.weight=u.weight):(a.barycenter=(a.barycenter*a.weight+u.barycenter*u.weight)/(a.weight+u.weight),a.weight+=u.weight))}var a,u}));var l=lE(s,e);!function(n,t){fE.forEach(n,(function(n){n.vs=fE.flatten(n.vs.map((function(n){return t[n]?t[n].vs:n})),!0)}))}(l,f);var h=hE(l,i);if(u&&(h.vs=fE.flatten([u,h.vs,c],!0),t.predecessors(u).length)){var p=t.node(t.predecessors(u)[0]),v=t.node(t.predecessors(c)[0]);fE.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+p.order+v.order)/(h.weight+2),h.weight+=2}return h};var vE=Iw,dE=Dw.Graph;var gE=Iw;var yE=Iw,mE=nE,wE=rE,xE=pE,EE=function(n,t,r){var e=function(n){var t;for(;n.hasNode(t=vE.uniqueId("_root")););return t}(n),i=new dE({compound:!0}).setGraph({root:e}).setDefaultNodeLabel((function(t){return n.node(t)}));return vE.forEach(n.nodes(),(function(o){var a=n.node(o),u=n.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,u||e),vE.forEach(n[r](o),(function(t){var r=t.v===o?t.w:t.v,e=i.edge(r,o),a=vE.isUndefined(e)?0:e.weight;i.setEdge(r,o,{weight:n.edge(t).weight+a})})),vE.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),i},bE=function(n,t,r){var e,i={};gE.forEach(r,(function(r){for(var o,a,u=n.parent(r);u;){if((o=n.parent(u))?(a=i[o],i[o]=u):(a=e,e=u),a&&a!==u)return void t.setEdge(a,u);u=o}}))},_E=Dw.Graph,SE=Zw,ME=function(n){var t=SE.maxRank(n),r=TE(n,yE.range(1,t+1),"inEdges"),e=TE(n,yE.range(t-1,-1,-1),"outEdges"),i=mE(n);jE(n,i);for(var o,a=Number.POSITIVE_INFINITY,u=0,c=0;c<4;++u,++c){OE(u%2?r:e,u%4>=2),i=SE.buildLayerMatrix(n);var f=wE(n,i);f<a&&(c=0,o=yE.cloneDeep(i),a=f)}jE(n,o)};function TE(n,t,r){return yE.map(t,(function(t){return EE(n,t,r)}))}function OE(n,t){var r=new _E;yE.forEach(n,(function(n){var e=n.graph().root,i=xE(n,e,r,t);yE.forEach(i.vs,(function(t,r){n.node(t).order=r})),bE(n,r,i.vs)}))}function jE(n,t){yE.forEach(t,(function(t){yE.forEach(t,(function(t,r){n.node(t).order=r}))}))}var kE=Iw,CE=Dw.Graph,PE=Zw,AE=function(n){var t,r=PE.buildLayerMatrix(n),e=kE.merge(NE(n,r),RE(n,r)),i={};kE.forEach(["u","d"],(function(o){t="u"===o?r:kE.values(r).reverse(),kE.forEach(["l","r"],(function(r){"r"===r&&(t=kE.map(t,(function(n){return kE.values(n).reverse()})));var a=("u"===o?n.predecessors:n.successors).bind(n),u=qE(n,t,e,a),c=LE(n,t,u.root,u.align,"r"===r);"r"===r&&(c=kE.mapValues(c,(function(n){return-n}))),i[o+r]=c}))}));var o=BE(n,i);return zE(i,o),FE(i,n.graph().align)};function NE(n,t){var r={};return kE.reduce(t,(function(t,e){var i=0,o=0,a=t.length,u=kE.last(e);return kE.forEach(e,(function(t,c){var f=function(n,t){if(n.node(t).dummy)return kE.find(n.predecessors(t),(function(t){return n.node(t).dummy}))}(n,t),s=f?n.node(f).order:a;(f||t===u)&&(kE.forEach(e.slice(o,c+1),(function(t){kE.forEach(n.predecessors(t),(function(e){var o=n.node(e),a=o.order;!(a<i||s<a)||o.dummy&&n.node(t).dummy||DE(r,e,t)}))})),o=c+1,i=s)})),e})),r}function RE(n,t){var r={};function e(t,e,i,o,a){var u;kE.forEach(kE.range(e,i),(function(e){u=t[e],n.node(u).dummy&&kE.forEach(n.predecessors(u),(function(t){var e=n.node(t);e.dummy&&(e.order<o||e.order>a)&&DE(r,t,u)}))}))}return kE.reduce(t,(function(t,r){var i,o=-1,a=0;return kE.forEach(r,(function(u,c){if("border"===n.node(u).dummy){var f=n.predecessors(u);f.length&&(i=n.node(f[0]).order,e(r,a,c,o,i),a=c,o=i)}e(r,a,r.length,i,t.length)})),r})),r}function DE(n,t,r){if(t>r){var e=t;t=r,r=e}var i=n[t];i||(n[t]=i={}),i[r]=!0}function IE(n,t,r){if(t>r){var e=t;t=r,r=e}return kE.has(n[t],r)}function qE(n,t,r,e){var i={},o={},a={};return kE.forEach(t,(function(n){kE.forEach(n,(function(n,t){i[n]=n,o[n]=n,a[n]=t}))})),kE.forEach(t,(function(n){var t=-1;kE.forEach(n,(function(n){var u=e(n);if(u.length)for(var c=((u=kE.sortBy(u,(function(n){return a[n]}))).length-1)/2,f=Math.floor(c),s=Math.ceil(c);f<=s;++f){var l=u[f];o[n]===n&&t<a[l]&&!IE(r,n,l)&&(o[l]=n,o[n]=i[n]=i[l],t=a[l])}}))})),{root:i,align:o}}function LE(n,t,r,e,i){var o={},a=function(n,t,r,e){var i=new CE,o=n.graph(),a=function(n,t,r){return function(e,i,o){var a,u=e.node(i),c=e.node(o),f=0;if(f+=u.width/2,kE.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(f+=r?a:-a),a=0,f+=(u.dummy?t:n)/2,f+=(c.dummy?t:n)/2,f+=c.width/2,kE.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(f+=r?a:-a),a=0,f}}(o.nodesep,o.edgesep,e);return kE.forEach(t,(function(t){var e;kE.forEach(t,(function(t){var o=r[t];if(i.setNode(o),e){var u=r[e],c=i.edge(u,o);i.setEdge(u,o,Math.max(a(n,t,e),c||0))}e=t}))})),i}(n,t,r,i),u=i?"borderLeft":"borderRight";function c(n,t){for(var r=a.nodes(),e=r.pop(),i={};e;)i[e]?n(e):(i[e]=!0,r.push(e),r=r.concat(t(e))),e=r.pop()}return c((function(n){o[n]=a.inEdges(n).reduce((function(n,t){return Math.max(n,o[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),c((function(t){var r=a.outEdges(t).reduce((function(n,t){return Math.min(n,o[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),e=n.node(t);r!==Number.POSITIVE_INFINITY&&e.borderType!==u&&(o[t]=Math.max(o[t],r))}),a.successors.bind(a)),kE.forEach(e,(function(n){o[n]=o[r[n]]})),o}function BE(n,t){return kE.minBy(kE.values(t),(function(t){var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY;return kE.forIn(t,(function(t,i){var o=function(n,t){return n.node(t).width}(n,i)/2;r=Math.max(t+o,r),e=Math.min(t-o,e)})),r-e}))}function zE(n,t){var r=kE.values(t),e=kE.min(r),i=kE.max(r);kE.forEach(["u","d"],(function(r){kE.forEach(["l","r"],(function(o){var a,u=r+o,c=n[u];if(c!==t){var f=kE.values(c);(a="l"===o?e-kE.min(f):i-kE.max(f))&&(n[u]=kE.mapValues(c,(function(n){return n+a})))}}))}))}function FE(n,t){return kE.mapValues(n.ul,(function(r,e){if(t)return n[t.toLowerCase()][e];var i=kE.sortBy(kE.map(n,e));return(i[1]+i[2])/2}))}var VE=Iw,GE=Zw,HE=AE;var UE=Iw,WE=Xw,YE=ix,JE=Rx,$E=Zw.normalizeRanks,XE=Lx,KE=Zw.removeEmptyRanks,QE=Fx,ZE=Ux,nb=Jx,tb=ME,rb=function(n){(function(n){var t=GE.buildLayerMatrix(n),r=n.graph().ranksep,e=0;VE.forEach(t,(function(t){var i=VE.max(VE.map(t,(function(t){return n.node(t).height})));VE.forEach(t,(function(t){n.node(t).y=e+i/2})),e+=i+r}))})(n=GE.asNonCompoundGraph(n)),VE.forEach(HE(n),(function(t,r){n.node(r).x=t}))},eb=Zw,ib=Dw.Graph,ob=function(n,t){var r=t&&t.debugTiming?eb.time:eb.notime;r("layout",(function(){var t=r("  buildLayoutGraph",(function(){return function(n){var t=new ib({multigraph:!0,compound:!0}),r=db(n.graph());return t.setGraph(UE.merge({},ub,vb(r,ab),UE.pick(r,cb))),UE.forEach(n.nodes(),(function(r){var e=db(n.node(r));t.setNode(r,UE.defaults(vb(e,fb),sb)),t.setParent(r,n.parent(r))})),UE.forEach(n.edges(),(function(r){var e=db(n.edge(r));t.setEdge(r,UE.merge({},hb,vb(e,lb),UE.pick(e,pb)))})),t}(n)}));r("  runLayout",(function(){!function(n,t){t("    makeSpaceForEdgeLabels",(function(){!function(n){var t=n.graph();t.ranksep/=2,UE.forEach(n.edges(),(function(r){var e=n.edge(r);e.minlen*=2,"c"!==e.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?e.width+=e.labeloffset:e.height+=e.labeloffset)}))}(n)})),t("    removeSelfEdges",(function(){!function(n){UE.forEach(n.edges(),(function(t){if(t.v===t.w){var r=n.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t)}}))}(n)})),t("    acyclic",(function(){WE.run(n)})),t("    nestingGraph.run",(function(){QE.run(n)})),t("    rank",(function(){JE(eb.asNonCompoundGraph(n))})),t("    injectEdgeLabelProxies",(function(){!function(n){UE.forEach(n.edges(),(function(t){var r=n.edge(t);if(r.width&&r.height){var e=n.node(t.v),i={rank:(n.node(t.w).rank-e.rank)/2+e.rank,e:t};eb.addDummyNode(n,"edge-proxy",i,"_ep")}}))}(n)})),t("    removeEmptyRanks",(function(){KE(n)})),t("    nestingGraph.cleanup",(function(){QE.cleanup(n)})),t("    normalizeRanks",(function(){$E(n)})),t("    assignRankMinMax",(function(){!function(n){var t=0;UE.forEach(n.nodes(),(function(r){var e=n.node(r);e.borderTop&&(e.minRank=n.node(e.borderTop).rank,e.maxRank=n.node(e.borderBottom).rank,t=UE.max(t,e.maxRank))})),n.graph().maxRank=t}(n)})),t("    removeEdgeLabelProxies",(function(){!function(n){UE.forEach(n.nodes(),(function(t){var r=n.node(t);"edge-proxy"===r.dummy&&(n.edge(r.e).labelRank=r.rank,n.removeNode(t))}))}(n)})),t("    normalize.run",(function(){YE.run(n)})),t("    parentDummyChains",(function(){XE(n)})),t("    addBorderSegments",(function(){ZE(n)})),t("    order",(function(){tb(n)})),t("    insertSelfEdges",(function(){!function(n){var t=eb.buildLayerMatrix(n);UE.forEach(t,(function(t){var r=0;UE.forEach(t,(function(t,e){var i=n.node(t);i.order=e+r,UE.forEach(i.selfEdges,(function(t){eb.addDummyNode(n,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:e+ ++r,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(n)})),t("    adjustCoordinateSystem",(function(){nb.adjust(n)})),t("    position",(function(){rb(n)})),t("    positionSelfEdges",(function(){!function(n){UE.forEach(n.nodes(),(function(t){var r=n.node(t);if("selfedge"===r.dummy){var e=n.node(r.e.v),i=e.x+e.width/2,o=e.y,a=r.x-i,u=e.height/2;n.setEdge(r.e,r.label),n.removeNode(t),r.label.points=[{x:i+2*a/3,y:o-u},{x:i+5*a/6,y:o-u},{x:i+a,y:o},{x:i+5*a/6,y:o+u},{x:i+2*a/3,y:o+u}],r.label.x=r.x,r.label.y=r.y}}))}(n)})),t("    removeBorderNodes",(function(){!function(n){UE.forEach(n.nodes(),(function(t){if(n.children(t).length){var r=n.node(t),e=n.node(r.borderTop),i=n.node(r.borderBottom),o=n.node(UE.last(r.borderLeft)),a=n.node(UE.last(r.borderRight));r.width=Math.abs(a.x-o.x),r.height=Math.abs(i.y-e.y),r.x=o.x+r.width/2,r.y=e.y+r.height/2}})),UE.forEach(n.nodes(),(function(t){"border"===n.node(t).dummy&&n.removeNode(t)}))}(n)})),t("    normalize.undo",(function(){YE.undo(n)})),t("    fixupEdgeLabelCoords",(function(){!function(n){UE.forEach(n.edges(),(function(t){var r=n.edge(t);if(UE.has(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(n)})),t("    undoCoordinateSystem",(function(){nb.undo(n)})),t("    translateGraph",(function(){!function(n){var t=Number.POSITIVE_INFINITY,r=0,e=Number.POSITIVE_INFINITY,i=0,o=n.graph(),a=o.marginx||0,u=o.marginy||0;function c(n){var o=n.x,a=n.y,u=n.width,c=n.height;t=Math.min(t,o-u/2),r=Math.max(r,o+u/2),e=Math.min(e,a-c/2),i=Math.max(i,a+c/2)}UE.forEach(n.nodes(),(function(t){c(n.node(t))})),UE.forEach(n.edges(),(function(t){var r=n.edge(t);UE.has(r,"x")&&c(r)})),t-=a,e-=u,UE.forEach(n.nodes(),(function(r){var i=n.node(r);i.x-=t,i.y-=e})),UE.forEach(n.edges(),(function(r){var i=n.edge(r);UE.forEach(i.points,(function(n){n.x-=t,n.y-=e})),UE.has(i,"x")&&(i.x-=t),UE.has(i,"y")&&(i.y-=e)})),o.width=r-t+a,o.height=i-e+u}(n)})),t("    assignNodeIntersects",(function(){!function(n){UE.forEach(n.edges(),(function(t){var r,e,i=n.edge(t),o=n.node(t.v),a=n.node(t.w);i.points?(r=i.points[0],e=i.points[i.points.length-1]):(i.points=[],r=a,e=o),i.points.unshift(eb.intersectRect(o,r)),i.points.push(eb.intersectRect(a,e))}))}(n)})),t("    reversePoints",(function(){!function(n){UE.forEach(n.edges(),(function(t){var r=n.edge(t);r.reversed&&r.points.reverse()}))}(n)})),t("    acyclic.undo",(function(){WE.undo(n)}))}(t,r)})),r("  updateInputGraph",(function(){!function(n,t){UE.forEach(n.nodes(),(function(r){var e=n.node(r),i=t.node(r);e&&(e.x=i.x,e.y=i.y,t.children(r).length&&(e.width=i.width,e.height=i.height))})),UE.forEach(n.edges(),(function(r){var e=n.edge(r),i=t.edge(r);e.points=i.points,UE.has(i,"x")&&(e.x=i.x,e.y=i.y)})),n.graph().width=t.graph().width,n.graph().height=t.graph().height}(n,t)}))}))};var ab=["nodesep","edgesep","ranksep","marginx","marginy"],ub={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},cb=["acyclicer","ranker","rankdir","align"],fb=["width","height"],sb={width:0,height:0},lb=["minlen","weight","width","height","labeloffset"],hb={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},pb=["labelpos"];function vb(n,t){return UE.mapValues(UE.pick(n,t),Number)}function db(n){var t={};return UE.forEach(n,(function(n,r){t[r.toLowerCase()]=n})),t}var gb=Iw,yb=Zw,mb=Dw.Graph;var wb={graphlib:Dw,layout:ob,debug:{debugOrdering:function(n){var t=yb.buildLayerMatrix(n),r=new mb({compound:!0,multigraph:!0}).setGraph({});return gb.forEach(n.nodes(),(function(t){r.setNode(t,{label:t}),r.setParent(t,"layer"+n.node(t).rank)})),gb.forEach(n.edges(),(function(n){r.setEdge(n.v,n.w,{},n.name)})),gb.forEach(t,(function(n,t){var e="layer"+t;r.setNode(e,{rank:"same"}),gb.reduce(n,(function(n,t){return r.setEdge(n,t,{style:"invis"}),t}))})),r}},util:{time:Zw.time,notime:Zw.notime},version:"0.8.5"},xb=ht,Eb=y.__importDefault(wb),bb=Ev,_b={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(n){return n.source},target:function(n){return n.target}};function Sb(n,t){t=xb.assign({},_b,t);var r=new Eb.default.graphlib.Graph;r.setGraph({}),r.setDefaultEdgeLabel((function(){return{}})),n.nodes.forEach((function(n){var e=t.nodeId?t.nodeId(n):n.id;n.height||n.width||(n.height=n.width=t.edgesep),r.setNode(e,n)})),n.edges.forEach((function(n){r.setEdge(t.source(n),t.target(n))})),Eb.default.layout(r);var e=[],i=[];r.nodes().forEach((function(n){var t=r.node(n),i=t.x,o=t.y,a=t.height,u=t.width;t.x=[i-u/2,i+u/2,i+u/2,i-u/2],t.y=[o+a/2,o+a/2,o-a/2,o-a/2],e.push(t)})),r.edges().forEach((function(n){var t=r.edge(n).points,e={};e.x=t.map((function(n){return n.x})),e.y=t.map((function(n){return n.y})),i.push(e)})),n.nodes=e,n.edges=i}bb.DataSet.registerTransform("diagram.dagre",Sb),bb.DataSet.registerTransform("dagre",Sb);function Mb(){}function Tb(n,t){var r=new Mb;if(n instanceof Mb)n.each((function(n,t){r.set(t,n)}));else if(Array.isArray(n)){var e,i=-1,o=n.length;if(null==t)for(;++i<o;)r.set(i,n[i]);else for(;++i<o;)r.set(t(e=n[i],i,n),e)}else if(n)for(var a in n)r.set(a,n[a]);return r}function Ob(){var n,t,r,e=[],i=[];function o(r,i,a,u){if(i>=e.length)return null!=n&&r.sort(n),null!=t?t(r):r;for(var c,f,s,l=-1,h=r.length,p=e[i++],v=Tb(),d=a();++l<h;)(s=v.get(c=p(f=r[l])+""))?s.push(f):v.set(c,[f]);return v.each((function(n,t){u(d,t,o(n,i,a,u))})),d}function a(n,r){if(++r>e.length)return n;var o,u=i[r-1];return null!=t&&r>=e.length?o=n.entries():(o=[],n.each((function(n,t){o.push({key:t,values:a(n,r)})}))),null!=u?o.sort((function(n,t){return u(n.key,t.key)})):o}return r={object:function(n){return o(n,0,jb,kb)},map:function(n){return o(n,0,Cb,Pb)},entries:function(n){return a(o(n,0,Cb,Pb),0)},key:function(n){return e.push(n),r},sortKeys:function(n){return i[e.length-1]=n,r},sortValues:function(t){return n=t,r},rollup:function(n){return t=n,r}}}function jb(){return{}}function kb(n,t,r){n[t]=r}function Cb(){return Tb()}function Pb(n,t,r){n.set(t,r)}function Ab(){}Mb.prototype=Tb.prototype={constructor:Mb,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var Nb=Tb.prototype;function Rb(n){return n.target.depth}function Db(n,t){return n.sourceLinks.length?n.depth:t-1}function Ib(n){return function(){return n}}function qb(n,t){return Bb(n.source,t.source)||n.index-t.index}function Lb(n,t){return Bb(n.target,t.target)||n.index-t.index}function Bb(n,t){return n.y0-t.y0}function zb(n){return n.value}function Fb(n){return n.index}function Vb(n){return n.nodes}function Gb(n){return n.links}function Hb(n,t){var r=n.get(t);if(!r)throw new Error("missing: "+t);return r}Ab.prototype={constructor:Ab,has:Nb.has,add:function(n){return this["$"+(n+="")]=n,this},remove:Nb.remove,clear:Nb.clear,values:Nb.keys,size:Nb.size,empty:Nb.empty,each:Nb.each};var Ub=Math.PI,Wb=2*Ub,Yb=Wb-1e-6;function Jb(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $b(){return new Jb}function Xb(n){return function(){return n}}function Kb(n){return n[0]}function Qb(n){return n[1]}Jb.prototype=$b.prototype={constructor:Jb,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,r,e){this._+="Q"+ +n+","+ +t+","+(this._x1=+r)+","+(this._y1=+e)},bezierCurveTo:function(n,t,r,e,i,o){this._+="C"+ +n+","+ +t+","+ +r+","+ +e+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(n,t,r,e,i){n=+n,t=+t,r=+r,e=+e,i=+i;var o=this._x1,a=this._y1,u=r-n,c=e-t,f=o-n,s=a-t,l=f*f+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(l>1e-6)if(Math.abs(s*u-c*f)>1e-6&&i){var h=r-o,p=e-a,v=u*u+c*c,d=h*h+p*p,g=Math.sqrt(v),y=Math.sqrt(l),m=i*Math.tan((Ub-Math.acos((v+l-d)/(2*g*y)))/2),w=m/y,x=m/g;Math.abs(w-1)>1e-6&&(this._+="L"+(n+w*f)+","+(t+w*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>f*p)+","+(this._x1=n+x*u)+","+(this._y1=t+x*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,r,e,i,o){n=+n,t=+t,o=!!o;var a=(r=+r)*Math.cos(e),u=r*Math.sin(e),c=n+a,f=t+u,s=1^o,l=o?e-i:i-e;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+c+","+f),r&&(l<0&&(l=l%Wb+Wb),l>Yb?this._+="A"+r+","+r+",0,1,"+s+","+(n-a)+","+(t-u)+"A"+r+","+r+",0,1,"+s+","+(this._x1=c)+","+(this._y1=f):l>1e-6&&(this._+="A"+r+","+r+",0,"+ +(l>=Ub)+","+s+","+(this._x1=n+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(n,t,r,e){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +e+"h"+-r+"Z"},toString:function(){return this._}};var Zb=Array.prototype.slice;function n_(n){return n.source}function t_(n){return n.target}function r_(n,t,r,e,i){n.moveTo(t,r),n.bezierCurveTo(t=(t+e)/2,r,t,i,e,i)}function e_(){return function(n){var t=n_,r=t_,e=Kb,i=Qb,o=null;function a(){var a,u=Zb.call(arguments),c=t.apply(this,u),f=r.apply(this,u);if(o||(o=a=$b()),n(o,+e.apply(this,(u[0]=c,u)),+i.apply(this,u),+e.apply(this,(u[0]=f,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(n){return arguments.length?(r=n,a):r},a.x=function(n){return arguments.length?(e="function"==typeof n?n:Xb(+n),a):e},a.y=function(n){return arguments.length?(i="function"==typeof n?n:Xb(+n),a):i},a.context=function(n){return arguments.length?(o=null==n?null:n,a):o},a}(r_)}function i_(n){return[n.source.x1,n.y0]}function o_(n){return[n.target.x0,n.y1]}var a_=Object.freeze(Object.defineProperty({__proto__:null,sankey:function(){var n,t=0,r=0,e=1,i=1,o=24,a=8,u=Fb,c=Db,f=Vb,s=Gb,l=6;function h(){var n={nodes:f.apply(null,arguments),links:s.apply(null,arguments)};return p(n),v(n),d(n),g(n),y(n),n}function p(n){n.nodes.forEach((function(n,t){n.index=t,n.sourceLinks=[],n.targetLinks=[]}));var t=Tb(n.nodes,u);n.links.forEach((function(n,r){n.index=r;var e=n.source,i=n.target;"object"!=typeof e&&(e=n.source=Hb(t,e)),"object"!=typeof i&&(i=n.target=Hb(t,i)),e.sourceLinks.push(n),i.targetLinks.push(n)}))}function v(n){n.nodes.forEach((function(n){n.value=Math.max(Oe(n.sourceLinks,zb),Oe(n.targetLinks,zb))}))}function d(n){var r,i,a,u=n.nodes.length;for(r=n.nodes,i=[],a=0;r.length;++a,r=i,i=[]){if(a>u)throw new Error("circular link");r.forEach((function(n){n.depth=a,n.sourceLinks.forEach((function(n){i.indexOf(n.target)<0&&i.push(n.target)}))}))}for(r=n.nodes,i=[],a=0;r.length;++a,r=i,i=[]){if(a>u)throw new Error("circular link");r.forEach((function(n){n.height=a,n.targetLinks.forEach((function(n){i.indexOf(n.source)<0&&i.push(n.source)}))}))}var f=(e-t-o)/(a-1);n.nodes.forEach((function(n){n.x1=(n.x0=t+Math.max(0,Math.min(a-1,Math.floor(c.call(null,n,a))))*f)+o}))}function g(t){var e,o=Ob().key((function(n){return n.x0})).sortKeys(be).entries(t.nodes).map((function(n){return n.values}));e=Te(o,(function(n){return(i-r-(n.length-1)*a)/Oe(n,zb)})),o.forEach((function(t){null!=n&&t.sort(n),t.forEach((function(n,t){n.y1=(n.y0=t)+n.value*e}))})),t.links.forEach((function(n){n.width=n.value*e})),h();for(var u=.9,c=l;c>0;--c,u*=.9)s(u),h(),f(u),h();function f(n){o.forEach((function(t){t.forEach((function(t){let r=t.y0;for(const{target:e,width:i,value:o}of t.sourceLinks.sort(Lb)){if(o>0){let i=0;for(const{source:n,width:r}of e.targetLinks){if(n===t)break;i+=r+a/2}i=(r-i-e.y0)*n*(o/Math.min(t.value,e.value)),e.y0+=i,e.y1+=i}r+=i+a/2}}))}))}function s(n){o.slice().reverse().forEach((function(t){t.forEach((function(t){let r=t.y0;for(const{source:e,width:i,value:o}of t.targetLinks.sort(qb)){if(o>0){let i=0;for(const{target:n,width:r}of e.sourceLinks){if(n===t)break;i+=r+a/2}i=(r-i-e.y0)*n*(o/Math.min(t.value,e.value)),e.y0+=i,e.y1+=i}r+=i+a/2}}))}))}function h(){o.forEach((function(t){var e,o,u,c=r,f=t.length;for(void 0===n&&t.sort(Bb),u=0;u<f;++u)(o=c-(e=t[u]).y0)>0&&(e.y0+=o,e.y1+=o),c=e.y1+a;if((o=c-a-i)>0)for(c=e.y0-=o,e.y1-=o,u=f-2;u>=0;--u)(o=(e=t[u]).y1+a-c)>0&&(e.y0-=o,e.y1-=o),c=e.y0}))}}function y(n){n.nodes.forEach((function(n){n.sourceLinks.sort(Lb),n.targetLinks.sort(qb)})),n.nodes.forEach((function(n){var t=n.y0,r=t;n.sourceLinks.forEach((function(n){n.y0=t+n.width/2,t+=n.width})),n.targetLinks.forEach((function(n){n.y1=r+n.width/2,r+=n.width}))}))}return h.update=function(n){return y(n),n},h.nodeId=function(n){return arguments.length?(u="function"==typeof n?n:Ib(n),h):u},h.nodeAlign=function(n){return arguments.length?(c="function"==typeof n?n:Ib(n),h):c},h.nodeSort=function(t){return arguments.length?(n=t,h):n},h.nodeWidth=function(n){return arguments.length?(o=+n,h):o},h.nodePadding=function(n){return arguments.length?(a=+n,h):a},h.nodes=function(n){return arguments.length?(f="function"==typeof n?n:Ib(n),h):f},h.links=function(n){return arguments.length?(s="function"==typeof n?n:Ib(n),h):s},h.size=function(n){return arguments.length?(t=r=0,e=+n[0],i=+n[1],h):[e-t,i-r]},h.extent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],r=+n[0][1],i=+n[1][1],h):[[t,r],[e,i]]},h.iterations=function(n){return arguments.length?(l=+n,h):l},h},sankeyCenter:function(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?Te(n.sourceLinks,Rb)-1:0},sankeyLeft:function(n){return n.depth},sankeyRight:function(n,t){return t-1-n.height},sankeyJustify:Db,sankeyLinkHorizontal:function(){return e_().source(i_).target(o_)}},Symbol.toStringTag,{value:"Module"})),u_=ht,c_=n(a_),f_=Ev,s_={sankeyLeft:c_.sankeyLeft,sankeyRight:c_.sankeyRight,sankeyCenter:c_.sankeyCenter,sankeyJustify:c_.sankeyJustify},l_={value:function(n){return n.value},source:function(n){return n.source},target:function(n){return n.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function h_(n,t){t=u_.assign({},l_,t);var r=null;u_.isString(t.nodeAlign)?r=s_[t.nodeAlign]:u_.isFunction(t.nodeAlign)&&(r=t.nodeAlign);var e=c_.sankey().nodeSort(t.sort).links((function(n){return n.edges})).nodeWidth(t.nodeWidth).nodePadding(t.nodePadding).extent([[0,0],[1,1]]);u_.isFunction(t.nodeId)&&e.nodeId(t.nodeId),r&&e.nodeAlign(r),e(n),n.nodes.forEach((function(n){var t=n.x0,r=n.x1,e=n.y0,i=n.y1;n.x=[t,r,r,t],n.y=[e,e,i,i]})),n.edges.forEach((function(n){var t=n.source,r=n.target,e=t.x1,i=r.x0;n.x=[e,e,i,i];var o=n.width/2;n.y=[n.y0+o,n.y0-o,n.y1+o,n.y1-o]}))}function p_(n){return function(){return n}}function v_(n){return n[0]}function d_(n){return n[1]}function g_(){this._=null}function y_(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function m_(n,t){var r=t,e=t.R,i=r.U;i?i.L===r?i.L=e:i.R=e:n._=e,e.U=i,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}function w_(n,t){var r=t,e=t.L,i=r.U;i?i.L===r?i.L=e:i.R=e:n._=e,e.U=i,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}function x_(n){for(;n.L;)n=n.L;return n}function E_(n,t,r,e){var i=[null,null],o=U_.push(i)-1;return i.left=n,i.right=t,r&&__(i,n,t,r),e&&__(i,t,n,e),G_[n.index].halfedges.push(o),G_[t.index].halfedges.push(o),i}function b_(n,t,r){var e=[t,r];return e.left=n,e}function __(n,t,r,e){n[0]||n[1]?n.left===r?n[1]=e:n[0]=e:(n[0]=e,n.left=t,n.right=r)}function S_(n,t,r,e,i){var o,a=n[0],u=n[1],c=a[0],f=a[1],s=0,l=1,h=u[0]-c,p=u[1]-f;if(o=t-c,h||!(o>0)){if(o/=h,h<0){if(o<s)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>s&&(s=o)}if(o=e-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>s&&(s=o)}else if(h>0){if(o<s)return;o<l&&(l=o)}if(o=r-f,p||!(o>0)){if(o/=p,p<0){if(o<s)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>s&&(s=o)}if(o=i-f,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>s&&(s=o)}else if(p>0){if(o<s)return;o<l&&(l=o)}return!(s>0||l<1)||(s>0&&(n[0]=[c+s*h,f+s*p]),l<1&&(n[1]=[c+l*h,f+l*p]),!0)}}}}}function M_(n,t,r,e,i){var o=n[1];if(o)return!0;var a,u,c=n[0],f=n.left,s=n.right,l=f[0],h=f[1],p=s[0],v=s[1],d=(l+p)/2,g=(h+v)/2;if(v===h){if(d<t||d>=e)return;if(l>p){if(c){if(c[1]>=i)return}else c=[d,r];o=[d,i]}else{if(c){if(c[1]<r)return}else c=[d,i];o=[d,r]}}else if(u=g-(a=(l-p)/(v-h))*d,a<-1||a>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(r-u)/a,r];o=[(i-u)/a,i]}else{if(c){if(c[1]<r)return}else c=[(i-u)/a,i];o=[(r-u)/a,r]}else if(h<v){if(c){if(c[0]>=e)return}else c=[t,a*t+u];o=[e,a*e+u]}else{if(c){if(c[0]<t)return}else c=[e,a*e+u];o=[t,a*t+u]}return n[0]=c,n[1]=o,!0}function T_(n,t){var r=n.site,e=t.left,i=t.right;return r===i&&(i=e,e=r),i?Math.atan2(i[1]-e[1],i[0]-e[0]):(r===e?(e=t[1],i=t[0]):(e=t[0],i=t[1]),Math.atan2(e[0]-i[0],i[1]-e[1]))}function O_(n,t){return t[+(t.left!==n.site)]}function j_(n,t){return t[+(t.left===n.site)]}f_.DataSet.registerTransform("diagram.sankey",h_),f_.DataSet.registerTransform("sankey",h_),g_.prototype={constructor:g_,insert:function(n,t){var r,e,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;r=n}else this._?(n=x_(this._),t.P=null,t.N=n,n.P=n.L=t,r=n):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,n=t;r&&r.C;)r===(e=r.U).L?(i=e.R)&&i.C?(r.C=i.C=!1,e.C=!0,n=e):(n===r.R&&(m_(this,r),r=(n=r).U),r.C=!1,e.C=!0,w_(this,e)):(i=e.L)&&i.C?(r.C=i.C=!1,e.C=!0,n=e):(n===r.L&&(w_(this,r),r=(n=r).U),r.C=!1,e.C=!0,m_(this,e)),r=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,r,e,i=n.U,o=n.L,a=n.R;if(r=o?a?x_(a):o:a,i?i.L===n?i.L=r:i.R=r:this._=r,o&&a?(e=r.C,r.C=n.C,r.L=o,o.U=r,r!==a?(i=r.U,r.U=n.U,n=r.R,i.L=n,r.R=a,a.U=r):(r.U=i,i=r,n=r.R)):(e=n.C,n=r),n&&(n.U=i),!e)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,m_(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,w_(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,m_(this,i),n=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,w_(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,m_(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,w_(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}};var k_,C_=[];function P_(){y_(this),this.x=this.y=this.arc=this.site=this.cy=null}function A_(n){var t=n.P,r=n.N;if(t&&r){var e=t.site,i=n.site,o=r.site;if(e!==o){var a=i[0],u=i[1],c=e[0]-a,f=e[1]-u,s=o[0]-a,l=o[1]-u,h=2*(c*l-f*s);if(!(h>=-Y_)){var p=c*c+f*f,v=s*s+l*l,d=(l*p-f*v)/h,g=(c*v-s*p)/h,y=C_.pop()||new P_;y.arc=n,y.site=i,y.x=d+a,y.y=(y.cy=g+u)+Math.sqrt(d*d+g*g),n.circle=y;for(var m=null,w=H_._;w;)if(y.y<w.y||y.y===w.y&&y.x<=w.x){if(!w.L){m=w.P;break}w=w.L}else{if(!w.R){m=w;break}w=w.R}H_.insert(m,y),m||(k_=y)}}}}function N_(n){var t=n.circle;t&&(t.P||(k_=t.N),H_.remove(t),C_.push(t),y_(t),n.circle=null)}var R_=[];function D_(){y_(this),this.edge=this.site=this.circle=null}function I_(n){var t=R_.pop()||new D_;return t.site=n,t}function q_(n){N_(n),V_.remove(n),R_.push(n),y_(n)}function L_(n){var t=n.circle,r=t.x,e=t.cy,i=[r,e],o=n.P,a=n.N,u=[n];q_(n);for(var c=o;c.circle&&Math.abs(r-c.circle.x)<W_&&Math.abs(e-c.circle.cy)<W_;)o=c.P,u.unshift(c),q_(c),c=o;u.unshift(c),N_(c);for(var f=a;f.circle&&Math.abs(r-f.circle.x)<W_&&Math.abs(e-f.circle.cy)<W_;)a=f.N,u.push(f),q_(f),f=a;u.push(f),N_(f);var s,l=u.length;for(s=1;s<l;++s)f=u[s],c=u[s-1],__(f.edge,c.site,f.site,i);c=u[0],(f=u[l-1]).edge=E_(c.site,f.site,null,i),A_(c),A_(f)}function B_(n){for(var t,r,e,i,o=n[0],a=n[1],u=V_._;u;)if((e=z_(u,a)-o)>W_)u=u.L;else{if(!((i=o-F_(u,a))>W_)){e>-W_?(t=u.P,r=u):i>-W_?(t=u,r=u.N):t=r=u;break}if(!u.R){t=u;break}u=u.R}!function(n){G_[n.index]={site:n,halfedges:[]}}(n);var c=I_(n);if(V_.insert(t,c),t||r){if(t===r)return N_(t),r=I_(t.site),V_.insert(c,r),c.edge=r.edge=E_(t.site,c.site),A_(t),void A_(r);if(r){N_(t),N_(r);var f=t.site,s=f[0],l=f[1],h=n[0]-s,p=n[1]-l,v=r.site,d=v[0]-s,g=v[1]-l,y=2*(h*g-p*d),m=h*h+p*p,w=d*d+g*g,x=[(g*m-p*w)/y+s,(h*w-d*m)/y+l];__(r.edge,f,v,x),c.edge=E_(f,n,null,x),r.edge=E_(n,v,null,x),A_(t),A_(r)}else c.edge=E_(t.site,c.site)}}function z_(n,t){var r=n.site,e=r[0],i=r[1],o=i-t;if(!o)return e;var a=n.P;if(!a)return-1/0;var u=(r=a.site)[0],c=r[1],f=c-t;if(!f)return u;var s=u-e,l=1/o-1/f,h=s/f;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*f)-c+f/2+i-o/2)))/l+e:(e+u)/2}function F_(n,t){var r=n.N;if(r)return z_(r,t);var e=n.site;return e[1]===t?e[0]:1/0}var V_,G_,H_,U_,W_=1e-6,Y_=1e-12;function J_(n,t){return t[1]-n[1]||t[0]-n[0]}function $_(n,t){var r,e,i,o=n.sort(J_).pop();for(U_=[],G_=new Array(n.length),V_=new g_,H_=new g_;;)if(i=k_,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===r&&o[1]===e||(B_(o),r=o[0],e=o[1]),o=n.pop();else{if(!i)break;L_(i.arc)}if(function(){for(var n,t,r,e,i=0,o=G_.length;i<o;++i)if((n=G_[i])&&(e=(t=n.halfedges).length)){var a=new Array(e),u=new Array(e);for(r=0;r<e;++r)a[r]=r,u[r]=T_(n,U_[t[r]]);for(a.sort((function(n,t){return u[t]-u[n]})),r=0;r<e;++r)u[r]=t[a[r]];for(r=0;r<e;++r)t[r]=u[r]}}(),t){var a=+t[0][0],u=+t[0][1],c=+t[1][0],f=+t[1][1];!function(n,t,r,e){for(var i,o=U_.length;o--;)M_(i=U_[o],n,t,r,e)&&S_(i,n,t,r,e)&&(Math.abs(i[0][0]-i[1][0])>W_||Math.abs(i[0][1]-i[1][1])>W_)||delete U_[o]}(a,u,c,f),function(n,t,r,e){var i,o,a,u,c,f,s,l,h,p,v,d,g=G_.length,y=!0;for(i=0;i<g;++i)if(o=G_[i]){for(a=o.site,u=(c=o.halfedges).length;u--;)U_[c[u]]||c.splice(u,1);for(u=0,f=c.length;u<f;)v=(p=j_(o,U_[c[u]]))[0],d=p[1],l=(s=O_(o,U_[c[++u%f]]))[0],h=s[1],(Math.abs(v-l)>W_||Math.abs(d-h)>W_)&&(c.splice(u,0,U_.push(b_(a,p,Math.abs(v-n)<W_&&e-d>W_?[n,Math.abs(l-n)<W_?h:e]:Math.abs(d-e)<W_&&r-v>W_?[Math.abs(h-e)<W_?l:r,e]:Math.abs(v-r)<W_&&d-t>W_?[r,Math.abs(l-r)<W_?h:t]:Math.abs(d-t)<W_&&v-n>W_?[Math.abs(h-t)<W_?l:n,t]:null))-1),++f);f&&(y=!1)}if(y){var m,w,x,E=1/0;for(i=0,y=null;i<g;++i)(o=G_[i])&&(x=(m=(a=o.site)[0]-n)*m+(w=a[1]-t)*w)<E&&(E=x,y=o);if(y){var b=[n,t],_=[n,e],S=[r,e],M=[r,t];y.halfedges.push(U_.push(b_(a=y.site,b,_))-1,U_.push(b_(a,_,S))-1,U_.push(b_(a,S,M))-1,U_.push(b_(a,M,b))-1)}}for(i=0;i<g;++i)(o=G_[i])&&(o.halfedges.length||delete G_[i])}(a,u,c,f)}this.edges=U_,this.cells=G_,V_=H_=U_=G_=null}$_.prototype={constructor:$_,polygons:function(){var n=this.edges;return this.cells.map((function(t){var r=t.halfedges.map((function(r){return O_(t,n[r])}));return r.data=t.site.data,r}))},triangles:function(){var n=[],t=this.edges;return this.cells.forEach((function(r,e){if(o=(i=r.halfedges).length)for(var i,o,a,u,c,f,s=r.site,l=-1,h=t[i[o-1]],p=h.left===s?h.right:h.left;++l<o;)a=p,p=(h=t[i[l]]).left===s?h.right:h.left,a&&p&&e<a.index&&e<p.index&&(c=a,f=p,((u=s)[0]-f[0])*(c[1]-u[1])-(u[0]-c[0])*(f[1]-u[1])<0)&&n.push([s.data,a.data,p.data])})),n},links:function(){return this.edges.filter((function(n){return n.right})).map((function(n){return{source:n.left.data,target:n.right.data}}))},find:function(n,t,r){for(var e,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var c=n-i.site[0],f=t-i.site[1],s=c*c+f*f;do{i=o.cells[e=a],a=null,i.halfedges.forEach((function(r){var e=o.edges[r],u=e.left;if(u!==i.site&&u||(u=e.right)){var c=n-u[0],f=t-u[1],l=c*c+f*f;l<s&&(s=l,a=u.index)}}))}while(null!==a);return o._found=e,null==r||s<=r*r?i.site:null}};var X_=n(Object.freeze(Object.defineProperty({__proto__:null,voronoi:function(){var n=v_,t=d_,r=null;function e(e){return new $_(e.map((function(r,i){var o=[Math.round(n(r,i,e)/W_)*W_,Math.round(t(r,i,e)/W_)*W_];return o.index=i,o.data=r,o})),r)}return e.polygons=function(n){return e(n).polygons()},e.links=function(n){return e(n).links()},e.triangles=function(n){return e(n).triangles()},e.x=function(t){return arguments.length?(n="function"==typeof t?t:p_(+t),e):n},e.y=function(n){return arguments.length?(t="function"==typeof n?n:p_(+n),e):t},e.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],e):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},e.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],e):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},e}},Symbol.toStringTag,{value:"Module"}))),K_=y.__importStar(X_),Q_=ht,Z_=Ev.DataSet.registerTransform,nS=ty,tS={as:["_x","_y"]};function rS(n,t){var r=(t=Q_.assign({},tS,t)).as;if(!Q_.isArray(r)||2!==r.length)throw new TypeError("Invalid as: must be an array with two strings!");var e=r[0],i=r[1],o=nS.getFields(t);if(!Q_.isArray(o)||2!==o.length)throw new TypeError("Invalid fields: must be an array with two strings!");var a=o[0],u=o[1],c=n.rows,f=c.map((function(n){return[n[a],n[u]]})),s=K_.voronoi();t.extend&&s.extent(t.extend),t.size&&s.size(t.size);var l=s(f).polygons();c.forEach((function(n,t){var r=l[t].filter((function(n){return!!n}));n[e]=r.map((function(n){return n[0]})),n[i]=r.map((function(n){return n[1]}))}))}Z_("diagram.voronoi",rS),Z_("voronoi",rS);var eS=y.__importStar(Ag),iS=ht,oS=Ev,aS=ty,uS={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function cS(n,t){if(n.dataType!==oS.DataSet.CONSTANTS.HIERARCHY||!n.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var r=n.root,e=(t=iS.assign({},uS,t)).as;if(!iS.isArray(e)||2!==e.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=void 0;try{i=aS.getField(t)}catch(XM){}i&&r.sum((function(n){return n[i]}));var o=eS.cluster();o.size(t.size),t.nodeSize&&o.nodeSize(t.nodeSize),t.separation&&o.separation(t.separation),o(r);var a=e[0],u=e[1];r.each((function(n){n[a]=n.x,n[u]=n.y}))}oS.DataSet.registerTransform("hierarchy.cluster",cS),oS.DataSet.registerTransform("dendrogram",cS);var fS,sS={exports:{}};"undefined"!=typeof self&&self,fS=function(){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=31)}([function(n,t,r){var e=r(4);t.a=function(n){return Array.isArray?Array.isArray(n):Object(e.a)(n,"Array")}},function(n,t,r){t.a=function(n){return null!==n&&"function"!=typeof n&&isFinite(n.length)}},function(n,t,r){var e=r(0),i=r(13);t.a=function(n,t){if(n)if(Object(e.a)(n))for(var r=0,o=n.length;r<o&&!1!==t(n[r],r);r++);else if(Object(i.a)(n))for(var a in n)if(n.hasOwnProperty(a)&&!1===t(n[a],a))break}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"Function")}},function(n,t,r){var e={}.toString;t.a=function(n,t){return e.call(n)==="[object "+t+"]"}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"Number")}},function(n,t,r){t.a=function(n){return null==n}},function(n,t,r){var e=r(33).mix;n.exports={assign:e}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"String")}},function(n,t,r){var e=r(15),i=r(4);t.a=function(n){if(!Object(e.a)(n)||!Object(i.a)(n,"Object"))return!1;if(null===Object.getPrototypeOf(n))return!0;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}},function(n,t,r){var e=r(6);t.a=function(n){return Object(e.a)(n)?"":n.toString()}},function(n,t,r){var e=r(18),i=function(){function n(n,t){void 0===t&&(t={}),this.options=t,this.rootNode=e(n,t)}return n.prototype.execute=function(){throw new Error("please override this method")},n}();n.exports=i},function(n,t,r){var e=r(1);t.a=function(n,t){return!!Object(e.a)(n)&&n.indexOf(t)>-1}},function(n,t,r){t.a=function(n){var t=typeof n;return null!==n&&"object"===t||"function"===t}},function(n,t,r){var e=r(2),i=r(1);t.a=function(n,t){if(!Object(i.a)(n))return n;var r=[];return Object(e.a)(n,(function(n,e){t(n,e)&&r.push(n)})),r}},function(n,t,r){t.a=function(n){return"object"==typeof n&&null!==n}},function(n,t,r){function e(n,t){for(var r in t)t.hasOwnProperty(r)&&"constructor"!==r&&void 0!==t[r]&&(n[r]=t[r])}t.a=function(n,t,r,i){return t&&e(n,t),r&&e(n,r),i&&e(n,i),n}},function(n,t,r){var e=r(30),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];n.exports=function(n,t,r){var u=t.direction||a;if(t.isHorizontal=function(n){return o.indexOf(n)>-1}(u),u&&-1===i.indexOf(u))throw new TypeError("Invalid direction: "+u);if(u===i[0])r(n,t);else if(u===i[1])r(n,t),n.right2left();else if(u===i[2])r(n,t);else if(u===i[3])r(n,t),n.bottom2top();else if(u===i[4]||u===i[5]){var c=e(n,t),f=c.left,s=c.right;r(f,t),r(s,t),t.isHorizontal?f.right2left():f.bottom2top(),s.translate(f.x-s.x,f.y-s.y),n.x=f.x,n.y=s.y;var l=n.getBoundingBox();t.isHorizontal?l.top<0&&n.translate(0,-l.top):l.left<0&&n.translate(-l.left,0)}var h=t.fixedRoot;return void 0===h&&(h=!0),h&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),n}},function(n,t,r){var e=r(7),i={getId:function(n){return n.id||n.name},getPreH:function(n){return n.preH||0},getPreV:function(n){return n.preV||0},getHGap:function(n){return n.hgap||18},getVGap:function(n){return n.vgap||18},getChildren:function(n){return n.children},getHeight:function(n){return n.height||36},getWidth:function(n){var t=n.label||" ";return n.width||18*t.split("").length}};function o(n,t){var r=this;if(r.vgap=r.hgap=0,n instanceof o)return n;r.data=n;var e=t.getHGap(n),i=t.getVGap(n);return r.preH=t.getPreH(n),r.preV=t.getPreV(n),r.width=t.getWidth(n),r.height=t.getHeight(n),r.width+=r.preH,r.height+=r.preV,r.id=t.getId(n),r.x=r.y=0,r.depth=0,r.children||(r.children=[]),r.addGap(e,i),r}e.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(n,t){var r=this;r.hgap+=n,r.vgap+=t,r.width+=2*n,r.height+=2*t},eachNode:function(n){for(var t,r=[this];t=r.shift();)n(t),r=t.children.concat(r)},DFTraverse:function(n){this.eachNode(n)},BFTraverse:function(n){for(var t,r=[this];t=r.shift();)n(t),r=r.concat(t.children)},getBoundingBox:function(){var n={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){n.left=Math.min(n.left,t.x),n.top=Math.min(n.top,t.y),n.width=Math.max(n.width,t.x+t.width),n.height=Math.max(n.height,t.y+t.height)})),n},translate:function(n,t){void 0===n&&(n=0),void 0===t&&(t=0),this.eachNode((function(r){r.x+=n,r.y+=t,r.x+=r.preH,r.y+=r.preV}))},right2left:function(){var n=this,t=n.getBoundingBox();n.eachNode((function(n){n.x=n.x-2*(n.x-t.left)-n.width})),n.translate(t.width,0)},bottom2top:function(){var n=this,t=n.getBoundingBox();n.eachNode((function(n){n.y=n.y-2*(n.y-t.top)-n.height})),n.translate(0,t.height)}}),n.exports=function(n,t,r){void 0===t&&(t={});var a,u=new o(n,t=e.assign({},i,t)),c=[u];if(!r&&!n.collapsed)for(;a=c.shift();)if(!a.data.collapsed){var f=t.getChildren(a.data),s=f?f.length:0;if(a.children=new Array(s),f&&s)for(var l=0;l<s;l++){var h=new o(f[l],t);a.children[l]=h,c.push(h),h.parent=a,h.depth=a.depth+1}}return u}},function(n,t,r){var e=r(6),i=r(20);t.a=function(n,t){var r=Object(i.a)(t),o=r.length;if(Object(e.a)(n))return!o;for(var a=0;a<o;a+=1){var u=r[a];if(t[u]!==n[u]||!(u in n))return!1}return!0}},function(n,t,r){var e=r(2),i=r(3),o=Object.keys?function(n){return Object.keys(n)}:function(n){var t=[];return Object(e.a)(n,(function(r,e){Object(i.a)(n)&&"prototype"===e||t.push(e)})),t};t.a=o},function(n,t,r){var e=r(1),i=Array.prototype.splice;t.a=function(n,t){if(!Object(e.a)(n))return[];for(var r=n?t.length:0,o=r-1;r--;){var a=void 0,u=t[r];r!==o&&u===a||(a=u,i.call(n,u,1))}return n}},function(n,t,r){var e=r(12),i=r(2);t.a=function(n){var t=[];return Object(i.a)(n,(function(n){Object(e.a)(t,n)||t.push(n)})),t}},function(n,t,r){var e=r(0),i=r(3),o=r(24);t.a=function(n,t){if(!t)return{0:n};if(!Object(i.a)(t)){var r=Object(e.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(n){for(var t="_",e=0,i=r.length;e<i;e++)t+=n[r[e]]&&n[r[e]].toString();return t}}return Object(o.a)(n,t)}},function(n,t,r){var e=r(2),i=r(0),o=r(3),a=Object.prototype.hasOwnProperty;t.a=function(n,t){if(!t||!Object(i.a)(n))return{};var r,u={},c=Object(o.a)(t)?t:function(n){return n[t]};return Object(e.a)(n,(function(n){r=c(n),a.call(u,r)?u[r].push(n):u[r]=[n]})),u}},function(n,t,r){t.a=function(n,t){return n.hasOwnProperty(t)}},function(n,t,r){var e=r(2),i=r(3),o=Object.values?function(n){return Object.values(n)}:function(n){var t=[];return Object(e.a)(n,(function(r,e){Object(i.a)(n)&&"prototype"===e||t.push(r)})),t};t.a=o},function(n,t,r){var e={}.toString;t.a=function(n){return e.call(n).replace(/^\[object /,"").replace(/]$/,"")}},function(n,t,r){var e=Object.prototype;t.a=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||e)}},function(n,t,r){var e=r(15),i=r(1),o=r(8),a=function(n,t){if(n===t)return!0;if(!n||!t)return!1;if(Object(o.a)(n)||Object(o.a)(t))return!1;if(Object(i.a)(n)||Object(i.a)(t)){if(n.length!==t.length)return!1;for(var r=!0,u=0;u<n.length&&(r=a(n[u],t[u]));u++);return r}if(Object(e.a)(n)||Object(e.a)(t)){var c=Object.keys(n),f=Object.keys(t);if(c.length!==f.length)return!1;for(r=!0,u=0;u<c.length&&(r=a(n[c[u]],t[c[u]]));u++);return r}return!1};t.a=a},function(n,t,r){var e=r(18);n.exports=function(n,t){for(var r=e(n.data,t,!0),i=e(n.data,t,!0),o=n.children.length,a=Math.round(o/2),u=t.getSide||function(n,t){return t<a?"right":"left"},c=0;c<o;c++){var f=n.children[c];"right"===u(f,c)?i.children.push(f):r.children.push(f)}return r.eachNode((function(n){n.isRoot()||(n.side="left")})),i.eachNode((function(n){n.isRoot()||(n.side="right")})),{left:r,right:i}}},function(n,t,r){var e={compactBox:r(32),dendrogram:r(114),indented:r(116),mindmap:r(118)};n.exports=e},function(n,t,r){var e=r(11),i=r(113),o=r(17),a=r(7),u=function(n){var t,r;function e(){return n.apply(this,arguments)||this}return r=n,(t=e).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,e.prototype.execute=function(){return o(this.rootNode,this.options,i)},e}(e),c={};n.exports=function(n,t){return t=a.assign({},c,t),new u(n,t).execute()}},function(n,t,r){Object.defineProperty(t,"__esModule",{value:!0});var e=r(12);r.d(t,"contains",(function(){return e.a})),r.d(t,"includes",(function(){return e.a}));var i=r(34);r.d(t,"difference",(function(){return i.a}));var o=r(35);r.d(t,"find",(function(){return o.a}));var a=r(36);r.d(t,"findIndex",(function(){return a.a}));var u=r(37);r.d(t,"firstValue",(function(){return u.a}));var c=r(38);r.d(t,"flatten",(function(){return c.a}));var f=r(39);r.d(t,"flattenDeep",(function(){return f.a}));var s=r(40);r.d(t,"getRange",(function(){return s.a}));var l=r(41);r.d(t,"pull",(function(){return l.a}));var h=r(21);r.d(t,"pullAt",(function(){return h.a}));var p=r(42);r.d(t,"reduce",(function(){return p.a}));var v=r(43);r.d(t,"remove",(function(){return v.a}));var d=r(44);r.d(t,"sortBy",(function(){return d.a}));var g=r(45);r.d(t,"union",(function(){return g.a}));var y=r(22);r.d(t,"uniq",(function(){return y.a}));var m=r(46);r.d(t,"valuesOfKey",(function(){return m.a}));var w=r(47);r.d(t,"head",(function(){return w.a}));var x=r(48);r.d(t,"last",(function(){return x.a}));var E=r(49);r.d(t,"startsWith",(function(){return E.a}));var b=r(50);r.d(t,"endsWith",(function(){return b.a}));var _=r(14);r.d(t,"filter",(function(){return _.a}));var S=r(51);r.d(t,"every",(function(){return S.a}));var M=r(52);r.d(t,"some",(function(){return M.a}));var T=r(53);r.d(t,"group",(function(){return T.a}));var O=r(24);r.d(t,"groupBy",(function(){return O.a}));var j=r(23);r.d(t,"groupToMap",(function(){return j.a}));var k=r(54);r.d(t,"getWrapBehavior",(function(){return k.a}));var C=r(55);r.d(t,"wrapBehavior",(function(){return C.a}));var P=r(56);r.d(t,"number2color",(function(){return P.a}));var A=r(57);r.d(t,"parseRadius",(function(){return A.a}));var N=r(58);r.d(t,"clamp",(function(){return N.a}));var R=r(59);r.d(t,"fixedBase",(function(){return R.a}));var D=r(60);r.d(t,"isDecimal",(function(){return D.a}));var I=r(61);r.d(t,"isEven",(function(){return I.a}));var q=r(62);r.d(t,"isInteger",(function(){return q.a}));var L=r(63);r.d(t,"isNegative",(function(){return L.a}));var B=r(64);r.d(t,"isNumberEqual",(function(){return B.a}));var z=r(65);r.d(t,"isOdd",(function(){return z.a}));var F=r(66);r.d(t,"isPositive",(function(){return F.a}));var V=r(67);r.d(t,"maxBy",(function(){return V.a}));var G=r(68);r.d(t,"minBy",(function(){return G.a}));var H=r(69);r.d(t,"mod",(function(){return H.a}));var U=r(70);r.d(t,"toDegree",(function(){return U.a}));var W=r(71);r.d(t,"toInteger",(function(){return W.a}));var Y=r(72);r.d(t,"toRadian",(function(){return Y.a}));var J=r(73);r.d(t,"forIn",(function(){return J.a}));var $=r(25);r.d(t,"has",(function(){return $.a}));var X=r(74);r.d(t,"hasKey",(function(){return X.a}));var K=r(75);r.d(t,"hasValue",(function(){return K.a}));var Q=r(20);r.d(t,"keys",(function(){return Q.a}));var Z=r(19);r.d(t,"isMatch",(function(){return Z.a}));var nn=r(26);r.d(t,"values",(function(){return nn.a}));var tn=r(76);r.d(t,"lowerCase",(function(){return tn.a}));var rn=r(77);r.d(t,"lowerFirst",(function(){return rn.a}));var en=r(78);r.d(t,"substitute",(function(){return en.a}));var on=r(79);r.d(t,"upperCase",(function(){return on.a}));var an=r(80);r.d(t,"upperFirst",(function(){return an.a}));var un=r(27);r.d(t,"getType",(function(){return un.a}));var cn=r(81);r.d(t,"isArguments",(function(){return cn.a}));var fn=r(0);r.d(t,"isArray",(function(){return fn.a}));var sn=r(1);r.d(t,"isArrayLike",(function(){return sn.a}));var ln=r(82);r.d(t,"isBoolean",(function(){return ln.a}));var hn=r(83);r.d(t,"isDate",(function(){return hn.a}));var pn=r(84);r.d(t,"isError",(function(){return pn.a}));var vn=r(3);r.d(t,"isFunction",(function(){return vn.a}));var dn=r(85);r.d(t,"isFinite",(function(){return dn.a}));var gn=r(6);r.d(t,"isNil",(function(){return gn.a}));var yn=r(86);r.d(t,"isNull",(function(){return yn.a}));var mn=r(5);r.d(t,"isNumber",(function(){return mn.a}));var wn=r(13);r.d(t,"isObject",(function(){return wn.a}));var xn=r(15);r.d(t,"isObjectLike",(function(){return xn.a}));var En=r(9);r.d(t,"isPlainObject",(function(){return En.a}));var bn=r(28);r.d(t,"isPrototype",(function(){return bn.a}));var _n=r(87);r.d(t,"isRegExp",(function(){return _n.a}));var Sn=r(8);r.d(t,"isString",(function(){return Sn.a}));var Mn=r(4);r.d(t,"isType",(function(){return Mn.a}));var Tn=r(88);r.d(t,"isUndefined",(function(){return Tn.a}));var On=r(89);r.d(t,"isElement",(function(){return On.a}));var jn=r(90);r.d(t,"requestAnimationFrame",(function(){return jn.a}));var kn=r(91);r.d(t,"clearAnimationFrame",(function(){return kn.a}));var Cn=r(92);r.d(t,"augment",(function(){return Cn.a}));var Pn=r(93);r.d(t,"clone",(function(){return Pn.a}));var An=r(94);r.d(t,"debounce",(function(){return An.a}));var Nn=r(95);r.d(t,"memoize",(function(){return Nn.a}));var Rn=r(96);r.d(t,"deepMix",(function(){return Rn.a}));var Dn=r(2);r.d(t,"each",(function(){return Dn.a}));var In=r(97);r.d(t,"extend",(function(){return In.a}));var qn=r(98);r.d(t,"indexOf",(function(){return qn.a}));var Ln=r(99);r.d(t,"isEmpty",(function(){return Ln.a}));var Bn=r(29);r.d(t,"isEqual",(function(){return Bn.a}));var zn=r(100);r.d(t,"isEqualWith",(function(){return zn.a}));var Fn=r(101);r.d(t,"map",(function(){return Fn.a}));var Vn=r(102);r.d(t,"mapValues",(function(){return Vn.a}));var Gn=r(16);r.d(t,"mix",(function(){return Gn.a})),r.d(t,"assign",(function(){return Gn.a}));var Hn=r(103);r.d(t,"get",(function(){return Hn.a}));var Un=r(104);r.d(t,"set",(function(){return Un.a}));var Wn=r(105);r.d(t,"pick",(function(){return Wn.a}));var Yn=r(106);r.d(t,"throttle",(function(){return Yn.a}));var Jn=r(107);r.d(t,"toArray",(function(){return Jn.a}));var $n=r(10);r.d(t,"toString",(function(){return $n.a}));var Xn=r(108);r.d(t,"uniqueId",(function(){return Xn.a}));var Kn=r(109);r.d(t,"noop",(function(){return Kn.a}));var Qn=r(110);r.d(t,"identity",(function(){return Qn.a}));var Zn=r(111);r.d(t,"size",(function(){return Zn.a}));var nt=r(112);r.d(t,"Cache",(function(){return nt.a}))},function(n,t,r){var e=r(14),i=r(12);t.a=function(n,t){return void 0===t&&(t=[]),Object(e.a)(n,(function(n){return!Object(i.a)(t,n)}))}},function(n,t,r){var e=r(3),i=r(19),o=r(0),a=r(9);t.a=function(n,t){if(!Object(o.a)(n))return null;var r;if(Object(e.a)(t)&&(r=t),Object(a.a)(t)&&(r=function(n){return Object(i.a)(n,t)}),r)for(var u=0;u<n.length;u+=1)if(r(n[u]))return n[u];return null}},function(n,t,r){t.a=function(n,t,r){void 0===r&&(r=0);for(var e=r;e<n.length;e++)if(t(n[e],e))return e;return-1}},function(n,t,r){var e=r(6),i=r(0);t.a=function(n,t){for(var r=null,o=0;o<n.length;o++){var a=n[o][t];if(!Object(e.a)(a)){r=Object(i.a)(a)?a[0]:a;break}}return r}},function(n,t,r){var e=r(0);t.a=function(n){if(!Object(e.a)(n))return[];for(var t=[],r=0;r<n.length;r++)t=t.concat(n[r]);return t}},function(n,t,r){var e=r(0),i=function(n,t){if(void 0===t&&(t=[]),Object(e.a)(n))for(var r=0;r<n.length;r+=1)i(n[r],t);else t.push(n);return t};t.a=i},function(n,t,r){var e=r(0),i=r(14);t.a=function(n){if(!(n=Object(i.a)(n,(function(n){return!isNaN(n)}))).length)return{min:0,max:0};if(Object(e.a)(n[0])){for(var t=[],r=0;r<n.length;r++)t=t.concat(n[r]);n=t}var o=Math.max.apply(null,n);return{min:Math.min.apply(null,n),max:o}}},function(n,t,r){var e=Array.prototype,i=e.splice,o=e.indexOf;t.a=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e++)for(var a=t[e],u=-1;(u=o.call(n,a))>-1;)i.call(n,u,1);return n}},function(n,t,r){var e=r(2),i=r(0),o=r(9);t.a=function(n,t,r){if(!Object(i.a)(n)&&!Object(o.a)(n))return n;var a=r;return Object(e.a)(n,(function(n,r){a=t(a,n,r)})),a}},function(n,t,r){var e=r(1),i=r(21);t.a=function(n,t){var r=[];if(!Object(e.a)(n))return r;for(var o=-1,a=[],u=n.length;++o<u;){var c=n[o];t(c,o,n)&&(r.push(c),a.push(o))}return Object(i.a)(n,a),r}},function(n,t,r){var e=r(0),i=r(8),o=r(3);t.a=function(n,t){var r;if(Object(o.a)(t))r=function(n,r){return t(n)-t(r)};else{var a=[];Object(i.a)(t)?a.push(t):Object(e.a)(t)&&(a=t),r=function(n,t){for(var r=0;r<a.length;r+=1){var e=a[r];if(n[e]>t[e])return 1;if(n[e]<t[e])return-1}return 0}}return n.sort(r),n}},function(n,t,r){var e=r(22);t.a=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Object(e.a)([].concat.apply([],n))}},function(n,t,r){var e=r(2),i=r(0),o=r(6);t.a=function(n,t){var r=[],a={};return n.forEach((function(n){var u=n[t];Object(o.a)(u)||(Object(i.a)(u)||(u=[u]),Object(e.a)(u,(function(n){a[n]||(r.push(n),a[n]=!0)})))})),r}},function(n,t,r){t.a=function(n){if(Object(e.a)(n))return n[0]};var e=r(1)},function(n,t,r){t.a=function(n){if(Object(e.a)(n))return n[n.length-1]};var e=r(1)},function(n,t,r){var e=r(0),i=r(8);t.a=function(n,t){return!(!Object(e.a)(n)&&!Object(i.a)(n))&&n[0]===t}},function(n,t,r){var e=r(0),i=r(8);t.a=function(n,t){return!(!Object(e.a)(n)&&!Object(i.a)(n))&&n[n.length-1]===t}},function(n,t,r){t.a=function(n,t){for(var r=0;r<n.length;r++)if(!t(n[r],r))return!1;return!0}},function(n,t,r){t.a=function(n,t){for(var r=0;r<n.length;r++)if(t(n[r],r))return!0;return!1}},function(n,t,r){var e=r(23);t.a=function(n,t){if(!t)return[n];var r=Object(e.a)(n,t),i=[];for(var o in r)i.push(r[o]);return i}},function(n,t,r){t.a=function(n,t){return n["_wrap_"+t]}},function(n,t,r){t.a=function(n,t){if(n["_wrap_"+t])return n["_wrap_"+t];var r=function(r){n[t](r)};return n["_wrap_"+t]=r,r}},function(n,t,r){var e={};t.a=function(n){var t=e[n];if(!t){for(var r=n.toString(16),i=r.length;i<6;i++)r="0"+r;t="#"+r,e[n]=t}return t}},function(n,t,r){var e=r(0);t.a=function(n){var t=0,r=0,i=0,o=0;return Object(e.a)(n)?1===n.length?t=r=i=o=n[0]:2===n.length?(t=i=n[0],r=o=n[1]):3===n.length?(t=n[0],r=o=n[1],i=n[2]):(t=n[0],r=n[1],i=n[2],o=n[3]):t=r=i=o=n,{r1:t,r2:r,r3:i,r4:o}}},function(n,t,r){t.a=function(n,t,r){return n<t?t:n>r?r:n}},function(n,t,r){t.a=function(n,t){var r=t.toString(),e=r.indexOf(".");if(-1===e)return Math.round(n);var i=r.substr(e+1).length;return i>20&&(i=20),parseFloat(n.toFixed(i))}},function(n,t,r){var e=r(5);t.a=function(n){return Object(e.a)(n)&&n%1!=0}},function(n,t,r){var e=r(5);t.a=function(n){return Object(e.a)(n)&&n%2==0}},function(n,t,r){var e=r(5),i=Number.isInteger?Number.isInteger:function(n){return Object(e.a)(n)&&n%1==0};t.a=i},function(n,t,r){var e=r(5);t.a=function(n){return Object(e.a)(n)&&n<0}},function(n,t,r){t.a=function(n,t,r){return void 0===r&&(r=1e-5),Math.abs(n-t)<r}},function(n,t,r){var e=r(5);t.a=function(n){return Object(e.a)(n)&&n%2!=0}},function(n,t,r){var e=r(5);t.a=function(n){return Object(e.a)(n)&&n>0}},function(n,t,r){var e=r(2),i=r(0),o=r(3);t.a=function(n,t){if(Object(i.a)(n)){var r,a,u=n[0];return r=Object(o.a)(t)?t(n[0]):n[0][t],Object(e.a)(n,(function(n){(a=Object(o.a)(t)?t(n):n[t])>r&&(u=n,r=a)})),u}}},function(n,t,r){var e=r(2),i=r(0),o=r(3);t.a=function(n,t){if(Object(i.a)(n)){var r,a,u=n[0];return r=Object(o.a)(t)?t(n[0]):n[0][t],Object(e.a)(n,(function(n){(a=Object(o.a)(t)?t(n):n[t])<r&&(u=n,r=a)})),u}}},function(n,t,r){t.a=function(n,t){return(n%t+t)%t}},function(n,t,r){var e=180/Math.PI;t.a=function(n){return e*n}},function(n,t,r){t.a=parseInt},function(n,t,r){var e=Math.PI/180;t.a=function(n){return e*n}},function(n,t,r){var e=r(2);t.a=e.a},function(n,t,r){var e=r(25);t.a=e.a},function(n,t,r){var e=r(12),i=r(26);t.a=function(n,t){return Object(e.a)(Object(i.a)(n),t)}},function(n,t,r){var e=r(10);t.a=function(n){return Object(e.a)(n).toLowerCase()}},function(n,t,r){var e=r(10);t.a=function(n){var t=Object(e.a)(n);return t.charAt(0).toLowerCase()+t.substring(1)}},function(n,t,r){t.a=function(n,t){return n&&t?n.replace(/\\?\{([^{}]+)\}/g,(function(n,r){return"\\"===n.charAt(0)?n.slice(1):void 0===t[r]?"":t[r]})):n}},function(n,t,r){var e=r(10);t.a=function(n){return Object(e.a)(n).toUpperCase()}},function(n,t,r){var e=r(10);t.a=function(n){var t=Object(e.a)(n);return t.charAt(0).toUpperCase()+t.substring(1)}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"Arguments")}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"Boolean")}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"Date")}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"Error")}},function(n,t,r){var e=r(5);t.a=function(n){return Object(e.a)(n)&&isFinite(n)}},function(n,t,r){t.a=function(n){return null===n}},function(n,t,r){var e=r(4);t.a=function(n){return Object(e.a)(n,"RegExp")}},function(n,t,r){t.a=function(n){return void 0===n}},function(n,t,r){t.a=function(n){return n instanceof Element||n instanceof HTMLDocument}},function(n,t,r){t.a=function(n){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,16)};return t(n)}},function(n,t,r){t.a=function(n){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(n)}},function(n,t,r){var e=r(16),i=r(3);t.a=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=n[0],o=1;o<n.length;o++){var a=n[o];Object(i.a)(a)&&(a=a.prototype),Object(e.a)(r.prototype,a)}}},function(n,t,r){var e=r(0),i=function(n){if("object"!=typeof n||null===n)return n;var t;if(Object(e.a)(n)){t=[];for(var r=0,o=n.length;r<o;r++)"object"==typeof n[r]&&null!=n[r]?t[r]=i(n[r]):t[r]=n[r]}else for(var a in t={},n)"object"==typeof n[a]&&null!=n[a]?t[a]=i(n[a]):t[a]=n[a];return t};t.a=i},function(n,t,r){t.a=function(n,t,r){var e;return function(){var i=this,o=arguments,a=function(){e=null,r||n.apply(i,o)},u=r&&!e;clearTimeout(e),e=setTimeout(a,t),u&&n.apply(i,o)}}},function(n,t,r){var e=r(3);t.a=function(n,t){if(!Object(e.a)(n))throw new TypeError("Expected a function");var r=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=t?t.apply(this,e):e[0],a=r.cache;if(a.has(o))return a.get(o);var u=n.apply(this,e);return a.set(o,u),u};return r.cache=new Map,r}},function(n,t,r){var e=r(0),i=r(9);function o(n,t,r,a){for(var u in r=r||0,a=a||5,t)if(t.hasOwnProperty(u)){var c=t[u];null!==c&&Object(i.a)(c)?(Object(i.a)(n[u])||(n[u]={}),r<a?o(n[u],c,r+1,a):n[u]=t[u]):Object(e.a)(c)?(n[u]=[],n[u]=n[u].concat(c)):void 0!==c&&(n[u]=c)}}t.a=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e+=1)o(n,t[e]);return n}},function(n,t,r){var e=r(16),i=r(3);t.a=function(n,t,r,o){Object(i.a)(t)||(r=t,t=n,n=function(){});var a=Object.create?function(n,t){return Object.create(n,{constructor:{value:t}})}:function(n,t){function r(){}r.prototype=n;var e=new r;return e.constructor=t,e},u=a(t.prototype,n);return n.prototype=Object(e.a)(u,n.prototype),n.superclass=a(t.prototype,t),Object(e.a)(u,r),Object(e.a)(n,o),n}},function(n,t,r){var e=r(1);t.a=function(n,t){if(!Object(e.a)(n))return-1;var r=Array.prototype.indexOf;if(r)return r.call(n,t);for(var i=-1,o=0;o<n.length;o++)if(n[o]===t){i=o;break}return i}},function(n,t,r){var e=r(6),i=r(1),o=r(27),a=r(28),u=Object.prototype.hasOwnProperty;t.a=function(n){if(Object(e.a)(n))return!0;if(Object(i.a)(n))return!n.length;var t=Object(o.a)(n);if("Map"===t||"Set"===t)return!n.size;if(Object(a.a)(n))return!Object.keys(n).length;for(var r in n)if(u.call(n,r))return!1;return!0}},function(n,t,r){var e=r(3),i=r(29);t.a=function(n,t,r){return Object(e.a)(r)?!!r(n,t):Object(i.a)(n,t)}},function(n,t,r){var e=r(2),i=r(1);t.a=function(n,t){if(!Object(i.a)(n))return n;var r=[];return Object(e.a)(n,(function(n,e){r.push(t(n,e))})),r}},function(n,t,r){var e=r(6),i=r(13),o=function(n){return n};t.a=function(n,t){void 0===t&&(t=o);var r={};return Object(i.a)(n)&&!Object(e.a)(n)&&Object.keys(n).forEach((function(e){r[e]=t(n[e],e)})),r}},function(n,t,r){var e=r(8);t.a=function(n,t,r){for(var i=0,o=Object(e.a)(t)?t.split("."):t;n&&i<o.length;)n=n[o[i++]];return void 0===n||i<o.length?r:n}},function(n,t,r){var e=r(13),i=r(8),o=r(5);t.a=function(n,t,r){var a=n,u=Object(i.a)(t)?t.split("."):t;return u.forEach((function(n,t){t<u.length-1?(Object(e.a)(a[n])||(a[n]=Object(o.a)(u[t+1])?[]:{}),a=a[n]):a[n]=r})),n}},function(n,t,r){var e=r(2),i=r(9),o=Object.prototype.hasOwnProperty;t.a=function(n,t){if(null===n||!Object(i.a)(n))return{};var r={};return Object(e.a)(t,(function(t){o.call(n,t)&&(r[t]=n[t])})),r}},function(n,t,r){t.a=function(n,t,r){var e,i,o,a,u=0;r||(r={});var c=function(){u=!1===r.leading?0:Date.now(),e=null,a=n.apply(i,o),e||(i=o=null)},f=function(){var f=Date.now();u||!1!==r.leading||(u=f);var s=t-(f-u);return i=this,o=arguments,s<=0||s>t?(e&&(clearTimeout(e),e=null),u=f,a=n.apply(i,o),e||(i=o=null)):e||!1===r.trailing||(e=setTimeout(c,s)),a};return f.cancel=function(){clearTimeout(e),u=0,e=i=o=null},f}},function(n,t,r){var e=r(1);t.a=function(n){return Object(e.a)(n)?Array.prototype.slice.call(n):[]}},function(n,t,r){var e={};t.a=function(n){return e[n=n||"g"]?e[n]+=1:e[n]=1,n+e[n]}},function(n,t,r){t.a=function(){}},function(n,t,r){t.a=function(n){return n}},function(n,t,r){t.a=function(n){return Object(e.a)(n)?0:Object(i.a)(n)?n.length:Object.keys(n).length};var e=r(6),i=r(1)},function(n,t,r){var e=function(){function n(){this.map={}}return n.prototype.has=function(n){return void 0!==this.map[n]},n.prototype.get=function(n,t){var r=this.map[n];return void 0===r?t:r},n.prototype.set=function(n,t){this.map[n]=t},n.prototype.clear=function(){this.map={}},n.prototype.delete=function(n){delete this.map[n]},n.prototype.size=function(){return Object.keys(this.map).length},n}();t.a=e},function(n,t){function r(n,t,r,e){void 0===e&&(e=[]);var i=this;i.w=n||0,i.h=t||0,i.y=r||0,i.x=0,i.c=e||[],i.cs=e.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function e(n,t,r){r?n.y+=t:n.x+=t,n.children.forEach((function(n){e(n,t,r)}))}function i(n,t){var r=t?n.y:n.x;return n.children.forEach((function(n){r=Math.min(i(n,t),r)})),r}function o(n,t){e(n,-i(n,t),t)}function a(n,t,r){r?t.y=n.x:t.x=n.x,n.c.forEach((function(n,e){a(n,t.children[e],r)}))}function u(n,t,r){void 0===r&&(r=0),t?(n.x=r,r+=n.width):(n.y=r,r+=n.height),n.children.forEach((function(n){u(n,t,r)}))}r.fromNode=function(n,t){if(!n)return null;var e=[];return n.children.forEach((function(n){e.push(r.fromNode(n,t))})),t?new r(n.height,n.width,n.x,e):new r(n.width,n.height,n.y,e)},n.exports=function(n,t){void 0===t&&(t={});var e=t.isHorizontal;function i(n){0===n.cs?(n.el=n,n.er=n,n.msel=n.mser=0):(n.el=n.c[0].el,n.msel=n.c[0].msel,n.er=n.c[n.cs-1].er,n.mser=n.c[n.cs-1].mser)}function c(n,t,r){for(var e=n.c[t-1],i=e.mod,o=n.c[t],a=o.mod;null!==e&&null!==o;){h(e)>r.low&&(r=r.nxt);var u=i+e.prelim+e.w-(a+o.prelim);u>0&&(a+=u,f(n,t,r.index,u));var c=h(e),p=h(o);c<=p&&null!==(e=l(e))&&(i+=e.mod),c>=p&&null!==(o=s(o))&&(a+=o.mod)}!e&&o?function(n,t,r,e){var i=n.c[0].el;i.tl=r;var o=e-r.mod-n.c[0].msel;i.mod+=o,i.prelim-=o,n.c[0].el=n.c[t].el,n.c[0].msel=n.c[t].msel}(n,t,o,a):e&&!o&&function(n,t,r,e){var i=n.c[t].er;i.tr=r;var o=e-r.mod-n.c[t].mser;i.mod+=o,i.prelim-=o,n.c[t].er=n.c[t-1].er,n.c[t].mser=n.c[t-1].mser}(n,t,e,i)}function f(n,t,r,e){n.c[t].mod+=e,n.c[t].msel+=e,n.c[t].mser+=e,function(n,t,r,e){if(r!==t-1){var i=t-r;n.c[r+1].shift+=e/i,n.c[t].shift-=e/i,n.c[t].change-=e-e/i}}(n,t,r,e)}function s(n){return 0===n.cs?n.tl:n.c[0]}function l(n){return 0===n.cs?n.tr:n.c[n.cs-1]}function h(n){return n.y+n.h}function p(n,t,r){for(;null!==r&&n>=r.low;)r=r.nxt;return{low:n,index:t,nxt:r}}u(n,e);var v=r.fromNode(n,e);return function n(t){if(0!==t.cs){n(t.c[0]);for(var r=p(h(t.c[0].el),0,null),e=1;e<t.cs;++e){n(t.c[e]);var o=h(t.c[e].er);c(t,e,r),r=p(o,e,r)}!function(n){n.prelim=(n.c[0].prelim+n.c[0].mod+n.c[n.cs-1].mod+n.c[n.cs-1].prelim+n.c[n.cs-1].w)/2-n.w/2}(t),i(t)}else i(t)}(v),function n(t,r){r+=t.mod,t.x=t.prelim+r,function(n){for(var t=0,r=0,e=0;e<n.cs;e++)r+=(t+=n.c[e].shift)+n.c[e].change,n.c[e].mod+=r}(t);for(var e=0;e<t.cs;e++)n(t.c[e],r)}(v,0),a(v,n,e),o(n,e),n}},function(n,t,r){var e=r(11),i=r(115),o=r(17),a=r(7),u=function(n){var t,r;function e(){return n.apply(this,arguments)||this}return r=n,(t=e).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,e.prototype.execute=function(){var n=this;return n.rootNode.width=0,o(n.rootNode,n.options,i)},e}(e),c={};n.exports=function(n,t){return t=a.assign({},c,t),new u(n,t).execute()}},function(n,t,r){var e=r(7);function i(n,t){void 0===t&&(t=[]);var r=this;r.x=r.y=0,r.leftChild=r.rightChild=null,r.height=0,r.children=t}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(n,t,r){r?(t.x=n.x,t.y=n.y):(t.x=n.y,t.y=n.x),n.children.forEach((function(n,e){a(n,t.children[e],r)}))}n.exports=function(n,t){void 0===t&&(t={}),t=e.assign({},o,t);var r,u=0,c=function n(t){if(!t)return null;t.width=0,t.depth&&t.depth>u&&(u=t.depth);var r=t.children,e=r.length,o=new i(t.height,[]);return r.forEach((function(t,r){var i=n(t);o.children.push(i),0===r&&(o.leftChild=i),r===e-1&&(o.rightChild=i)})),o.originNode=t,o.isLeaf=t.isLeaf(),o}(n);return function n(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=u;else{var r=t.children.map((function(t){return n(t)})),e=Math.min.apply(null,r);t.drawingDepth=e-1}return t.drawingDepth}(c),function n(e){e.x=e.drawingDepth*t.rankSep,e.isLeaf?(e.y=0,r&&(e.y=r.y+r.height+t.nodeSep,e.originNode.parent!==r.originNode.parent&&(e.y+=t.subTreeSep)),r=e):(e.children.forEach((function(t){n(t)})),e.y=(e.leftChild.y+e.rightChild.y)/2)}(c),a(c,n,t.isHorizontal),n}},function(n,t,r){var e=r(11),i=r(117),o=r(30),a=r(7),u=["LR","RL","H"],c=u[0],f=function(n){var t,r;function e(){return n.apply(this,arguments)||this}return r=n,(t=e).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,e.prototype.execute=function(){var n=this.options,t=this.rootNode;n.isHorizontal=!0;var r=n.indent,e=void 0===r?20:r,a=n.dropCap,f=void 0===a||a,s=n.direction||c;if(s&&-1===u.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===u[0])i(t,e,f);else if(s===u[1])i(t,e,f),t.right2left();else if(s===u[2]){var l=o(t,n),h=l.left,p=l.right;i(h,e,f),h.right2left(),i(p,e,f);var v=h.getBoundingBox();p.translate(v.width,0),t.x=p.x-t.width/2}return t},e}(e),s={};n.exports=function(n,t){return t=a.assign({},s,t),new f(n,t).execute()}},function(n,t){n.exports=function(n,t,r){var e=null;n.eachNode((function(n){!function(n,t,r,e){var i="function"==typeof r?r(n):r*n.depth;if(!e)try{if(n.id===n.parent.children[0].id)return n.x+=i,void(n.y=t?t.y:0)}catch(XM){}n.x+=i,n.y=t?t.y+t.height:0}(n,e,t,r),e=n}))}},function(n,t,r){var e=r(11),i=r(119),o=r(17),a=r(7),u=function(n){var t,r;function e(){return n.apply(this,arguments)||this}return r=n,(t=e).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,e.prototype.execute=function(){return o(this.rootNode,this.options,i)},e}(e),c={};n.exports=function(n,t){return t=a.assign({},c,t),new u(n,t).execute()}},function(n,t,r){var e=r(7);function i(n,t){var r=0;return n.children.length?n.children.forEach((function(n){r+=i(n,t)})):r=n.height,n._subTreeSep=t.getSubTreeSep(n.data),n.totalHeight=Math.max(n.height,r)+2*n._subTreeSep,n.totalHeight}function o(n){var t=n.children,r=t.length;if(r){t.forEach((function(n){o(n)}));var e=t[0],i=t[r-1],a=i.y-e.y+i.height,u=0;if(t.forEach((function(n){u+=n.totalHeight})),a>n.height)n.y=e.y+a/2-n.height/2;else if(1!==t.length||n.height>u){var c=n.y+(n.height-a)/2-e.y;t.forEach((function(n){n.translate(0,c)}))}else n.y=(e.y+e.height/2+i.y+i.height/2)/2-n.height/2}}var a={getSubTreeSep:function(){return 0}};n.exports=function(n,t){void 0===t&&(t={}),t=e.assign({},a,t),n.parent={x:0,width:0,height:0,y:0},n.BFTraverse((function(n){n.x=n.parent.x+n.parent.width})),n.parent=null,i(n,t),n.startY=0,n.y=n.totalHeight/2-n.height/2,n.eachNode((function(n){var t=n.children,r=t.length;if(r){var e=t[0];if(e.startY=n.startY+n._subTreeSep,1===r)e.y=n.y+n.height/2-e.height/2;else{e.y=e.startY+e.totalHeight/2-e.height/2;for(var i=1;i<r;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(n)}}])},sS.exports=fS();var lS=y.__importDefault(sS.exports),hS=Ev,pS={};function vS(n,t){var r=n.root;if(t=Object.assign({},pS,t),n.dataType!==hS.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=lS.default.compactBox(r,t)}hS.DataSet.registerTransform("hierarchy.compact-box",vS),hS.DataSet.registerTransform("compact-box-tree",vS),hS.DataSet.registerTransform("non-layered-tidy-tree",vS),hS.DataSet.registerTransform("mindmap-logical",vS);var dS=y.__importDefault(sS.exports),gS=Ev,yS={};function mS(n,t){var r=n.root;if(t=Object.assign({},yS,t),n.dataType!==gS.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=dS.default.dendrogram(r,t)}gS.DataSet.registerTransform("hierarchy.dendrogram",mS),gS.DataSet.registerTransform("dendrogram",mS);var wS=y.__importDefault(sS.exports),xS=Ev,ES={};function bS(n,t){var r=n.root;if(t=Object.assign({},ES,t),n.dataType!==xS.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=wS.default.indented(r,t)}xS.DataSet.registerTransform("hierarchy.indented",bS),xS.DataSet.registerTransform("indented-tree",bS);var _S=ht,SS=y.__importStar(Ag),MS=Ev,TS=ty,OS={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function jS(n,t){if(n.dataType!==MS.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var r,e=n.root,i=(t=_S.assign({},OS,t)).as;if(!_S.isArray(i)||3!==i.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{r=TS.getField(t)}catch(XM){}r&&e.sum((function(n){return n[r]})).sort((function(n,t){return t[r]-n[r]}));var o=SS.pack();o.size(t.size),t.padding&&o.padding(t.padding),o(e);var a=i[0],u=i[1],c=i[2];e.each((function(n){n[a]=n.x,n[u]=n.y,n[c]=n.r}))}MS.DataSet.registerTransform("hierarchy.pack",jS),MS.DataSet.registerTransform("hierarchy.circle-packing",jS),MS.DataSet.registerTransform("circle-packing",jS);var kS=y.__importStar(Ag),CS=ht,PS=Ev,AS=ty,NS={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function RS(n,t){if(n.dataType!==PS.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var r,e=n.root,i=(t=CS.assign({},NS,t)).as;if(!CS.isArray(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{r=AS.getField(t)}catch(XM){}r&&e.sum((function(n){return n[r]}));var o=kS.partition();o.size(t.size).round(t.round).padding(t.padding),o(e);var a=i[0],u=i[1];e.each((function(n){n[a]=[n.x0,n.x1,n.x1,n.x0],n[u]=[n.y1,n.y1,n.y0,n.y0],["x0","x1","y0","y1"].forEach((function(t){-1===i.indexOf(t)&&delete n[t]}))}))}PS.DataSet.registerTransform("hierarchy.partition",RS),PS.DataSet.registerTransform("adjacency",RS);var DS=y.__importStar(Ag),IS=ht,qS=Ev,LS=ty,BS={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function zS(n,t){if(n.dataType!==qS.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var r,e=n.root,i=(t=IS.assign({},BS,t)).as;if(!IS.isArray(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{r=LS.getField(t)}catch(XM){}r&&e.sum((function(n){return n[r]}));var o=DS.tree();o.size(t.size),t.nodeSize&&o.nodeSize(t.nodeSize),t.separation&&o.separation(t.separation),o(e);var a=i[0],u=i[1];e.each((function(n){n[a]=n.x,n[u]=n.y}))}qS.DataSet.registerTransform("hierarchy.tree",zS),qS.DataSet.registerTransform("tree",zS);var FS=y.__importStar(Ag),VS=ht,GS=Ev,HS=ty,US={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function WS(n,t){if(n.dataType!==GS.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var r,e=n.root,i=(t=VS.assign({},US,t)).as;if(!VS.isArray(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{r=HS.getField(t)}catch(XM){}r&&e.sum((function(n){return n[r]}));var o=FS.treemap();o.tile(FS[t.tile]).size(t.size).round(t.round).padding(t.padding).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft),o(e);var a=i[0],u=i[1];e.each((function(n){n[a]=[n.x0,n.x1,n.x1,n.x0],n[u]=[n.y1,n.y1,n.y0,n.y0],["x0","x1","y0","y1"].forEach((function(t){-1===i.indexOf(t)&&delete n[t]}))}))}GS.DataSet.registerTransform("hierarchy.treemap",WS),GS.DataSet.registerTransform("treemap",WS);var YS={};Object.defineProperty(YS,"__esModule",{value:!0});var JS=y,$S=Math.PI/180,XS=2048;function KS(n){return n.text}function QS(){return"serif"}function ZS(){return"normal"}function nM(n){return n.value}function tM(){return 90*~~(2*Math.random())}function rM(){return 1}function eM(n,t,r,e){if(!t.sprite){var i=n.context,o=n.ratio;i.clearRect(0,0,2048/o,2048/o);var a=0,u=0,c=0,f=r.length;for(--e;++e<f;){t=r[e],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font;var s=i.measureText(t.text+"m").width*o,l=t.size<<1;if(t.rotate){var h=Math.sin(t.rotate*$S),p=Math.cos(t.rotate*$S),v=s*p,d=s*h,g=l*p,y=l*h;s=Math.max(Math.abs(v+y),Math.abs(v-y))+31>>5<<5,l=~~Math.max(Math.abs(d+g),Math.abs(d-g))}else s=s+31>>5<<5;if(l>c&&(c=l),a+s>=2048&&(a=0,u+=c,c=0),u+l>=2048)break;i.translate((a+(s>>1))/o,(u+(l>>1))/o),t.rotate&&i.rotate(t.rotate*$S),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=s,t.height=l,t.xoff=a,t.yoff=u,t.x1=s>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=s}for(var m=i.getImageData(0,0,2048/o,2048/o).data,w=[];--e>=0;)if((t=r[e]).hasText){for(var x=(s=t.width)>>5,E=(l=t.y1-t.y0,0);E<l*x;E++)w[E]=0;if(null==(a=t.xoff))return;u=t.yoff;for(var b=0,_=-1,S=0;S<l;S++){for(E=0;E<s;E++){var M=x*S+(E>>5),T=m[2048*(u+S)+(a+E)<<2]?1<<31-E%32:0;w[M]|=T,b|=T}b?_=S:(t.y0++,l--,S--,u++)}t.y1=t.y0+_,t.sprite=w.slice(0,(t.y1-t.y0)*x)}}}function iM(n,t,r){r>>=5;for(var e,i=n.sprite,o=n.width>>5,a=n.x-(o<<4),u=127&a,c=32-u,f=n.y1-n.y0,s=(n.y+n.y0)*r+(a>>5),l=0;l<f;l++){e=0;for(var h=0;h<=o;h++)if((e<<c|(h<o?(e=i[l*o+h])>>>u:0))&t[s+h])return!0;s+=r}return!1}function oM(n,t){var r=n[0],e=n[1];t.x+t.x0<r.x&&(r.x=t.x+t.x0),t.y+t.y0<r.y&&(r.y=t.y+t.y0),t.x+t.x1>e.x&&(e.x=t.x+t.x1),t.y+t.y1>e.y&&(e.y=t.y+t.y1)}function aM(n){var t=n[0]/n[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function uM(n){for(var t=[],r=-1;++r<n;)t[r]=0;return t}function cM(){return document.createElement("canvas")}function fM(n){return"function"==typeof n?n:function(){return n}}var sM={archimedean:aM,rectangular:function(n){var t=4*n[0]/n[1],r=0,e=0;return function(n){var i=n<0?-1:1;switch(Math.sqrt(1+4*i*n)-i&3){case 0:r+=t;break;case 1:e+=4;break;case 2:r-=t;break;default:e-=4}return[r,e]}}};YS.default=function(){var n=[256,256],t=KS,r=QS,e=nM,i=ZS,o=ZS,a=tM,u=rM,c=aM,f=[],s=1/0,l=Math.random,h=cM,p={};function v(t,r,e){for(var i,o,a,u,f,s=r.x,h=r.y,p=Math.sqrt(n[0]*n[0]+n[1]*n[1]),v=c(n),d=l()<.5?1:-1,g=-d;(i=v(g+=d))&&(o=~~i[0],a=~~i[1],!(Math.min(Math.abs(o),Math.abs(a))>=p));)if(r.x=s+o,r.y=h+a,!(r.x+r.x0<0||r.y+r.y0<0||r.x+r.x1>n[0]||r.y+r.y1>n[1]||e&&iM(r,t,n[0])||e&&(f=e,!((u=r).x+u.x1>f[0].x&&u.x+u.x0<f[1].x&&u.y+u.y1>f[0].y&&u.y+u.y0<f[1].y)))){for(var y=r.sprite,m=r.width>>5,w=n[0]>>5,x=r.x-(m<<4),E=127&x,b=32-E,_=r.y1-r.y0,S=void 0,M=(r.y+r.y0)*w+(x>>5),T=0;T<_;T++){S=0;for(var O=0;O<=m;O++)t[M+O]|=S<<b|(O<m?(S=y[T*m+O])>>>E:0);M+=w}return delete r.sprite,!0}return!1}return p.canvas=function(n){return arguments.length?(h=fM(n),p):h},p.start=function(){var c=JS.__read(n,2),d=c[0],g=c[1],y=function(n){n.width=n.height=1;var t=Math.sqrt(n.getContext("2d").getImageData(0,0,1,1).data.length>>2);n.width=2048/t,n.height=XS/t;var r=n.getContext("2d");return r.fillStyle=r.strokeStyle="red",r.textAlign="center",{context:r,ratio:t}}(h()),m=p.board?p.board:uM((n[0]>>5)*n[1]),w=f.length,x=[],E=f.map((function(n,c){return n.text=t.call(this,n,c),n.font=r.call(this,n,c),n.style=i.call(this,n,c),n.weight=o.call(this,n,c),n.rotate=a.call(this,n,c),n.size=~~e.call(this,n,c),n.padding=u.call(this,n,c),n})).sort((function(n,t){return t.size-n.size})),b=-1,_=p.board?[{x:0,y:0},{x:d,y:g}]:null;return function(){var t=Date.now();for(;Date.now()-t<s&&++b<w;){var r=E[b];r.x=d*(l()+.5)>>1,r.y=g*(l()+.5)>>1,eM(y,r,E,b),r.hasText&&v(m,r,_)&&(x.push(r),_?p.hasImage||oM(_,r):_=[{x:r.x+r.x0,y:r.y+r.y0},{x:r.x+r.x1,y:r.y+r.y1}],r.x-=n[0]>>1,r.y-=n[1]>>1)}p._tags=x,p._bounds=_}(),p},p.createMask=function(t){var r=document.createElement("canvas"),e=JS.__read(n,2),i=e[0],o=e[1];if(i&&o){var a=i>>5,u=uM((i>>5)*o);r.width=i,r.height=o;var c=r.getContext("2d");c.drawImage(t,0,0,t.width,t.height,0,0,i,o);for(var f=c.getImageData(0,0,i,o).data,s=0;s<o;s++)for(var l=0;l<i;l++){var h=a*s+(l>>5),v=s*i+l<<2,d=f[v]>=250&&f[v+1]>=250&&f[v+2]>=250?1<<31-l%32:0;u[h]|=d}p.board=u,p.hasImage=!0}},p.timeInterval=function(n){return arguments.length?(s=null==n?1/0:n,p):s},p.words=function(n){return arguments.length?(f=n,p):f},p.size=function(t){return arguments.length?(n=[+t[0],+t[1]],p):n},p.font=function(n){return arguments.length?(r=fM(n),p):r},p.fontStyle=function(n){return arguments.length?(i=fM(n),p):i},p.fontWeight=function(n){return arguments.length?(o=fM(n),p):o},p.rotate=function(n){return arguments.length?(a=fM(n),p):a},p.text=function(n){return arguments.length?(t=fM(n),p):t},p.spiral=function(n){return arguments.length?(c=sM[n]||n,p):c},p.fontSize=function(n){return arguments.length?(e=fM(n),p):e},p.padding=function(n){return arguments.length?(u=fM(n),p):u},p.random=function(n){return arguments.length?(l=n,p):l},p};var lM=y,hM=ht,pM=Ev,vM=lM.__importDefault(YS),dM=ty,gM={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function yM(n,t){t=hM.assign({},gM,t);var r=vM.default();if(!t.size[0]||!t.size[1])return n.rows=[],void(n._tagCloud=r);["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach((function(n){t[n]&&r[n](t[n])}));var e=dM.getFields(t),i=lM.__read(e,2),o=i[0],a=i[1];if(!hM.isString(o)||!hM.isString(a))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var u=n.rows.map((function(n){return n.text=n[o],n.value=n[a],n}));r.words(u),t.imageMask&&r.createMask(t.imageMask);var c=r.start(),f=c._tags,s=c._bounds||[{x:0,y:0},{x:t.size[0],y:t.size[1]}];f.forEach((function(n){n.x+=t.size[0]/2,n.y+=t.size[1]/2}));var l=lM.__read(t.size,2),h=l[0],p=l[1],v=c.hasImage;f.push({text:"",value:0,x:v?0:s[0].x,y:v?0:s[0].y,opacity:0}),f.push({text:"",value:0,x:v?h:s[1].x,y:v?p:s[1].y,opacity:0}),n.rows=f,n._tagCloud=c}pM.DataSet.registerTransform("tag-cloud",yM),pM.DataSet.registerTransform("word-cloud",yM);var mM=y,wM=ht,xM=lv.exports,EM=mM.__importDefault(ev),bM=ty,_M={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};Ev.DataSet.registerTransform("waffle",(function(n,t){t=wM.assign({},_M,t);var r=bM.getFields(t),e=mM.__read(r,2),i=e[0],o=e[1],a=mM.__read(t.as,2),u=a[0],c=a[1],f=t.groupBy,s=EM.default(n.rows,f),l=wM.keys(s),h=mM.__read(t.size,2),p=h[0],v=h[1],d=t.maxCount,g=v/l.length,y=t.rows,m=t.gapRatio,w=[],x=t.scale,E=0,b=0;wM.forIn(s,(function(n){var t=xM.sum(wM.map(n,(function(n){return n[o]}))),r=Math.ceil(t*x/y);t*x>d&&(x=d/t,r=Math.ceil(t*x/y)),b=p/r})),wM.forIn(s,(function(n){var t=[E*g,(E+1)*g],r=(t[1]-t[0])*(1-m)/y,e=0,a=0;wM.each(n,(function(n){for(var s=n[o],l=Math.round(s*x),h=0;h<l;h++){a===y&&(a=0,e++);var p=wM.pick(n,[i,o].concat(f));p[u]=e*b+b/2,p[c]=a*r+r/2+t[0],p._wStep=b,p._hStep=r,a++,w.push(p)}})),E+=1})),n.rows=w}));var SM={};Object.defineProperty(SM,"__esModule",{value:!0});var MM=y,TM=ht,OM=MM.__importDefault(um),jM=MM.__importDefault(xm),kM=Ev,CM=ty,PM=fm,AM={as:["x","y","z"],method:"gaussian"},NM=TM.keys(jM.default);function RM(n,t){var r,e;t=TM.assign({},AM,t);var i=CM.getFields(t);if(!TM.isArray(i)||2!==i.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var o,a=MM.__read(t.as,3),u=a[0],c=a[1],f=a[2];if(!TM.isString(u)||!TM.isString(c)||!TM.isString(f))throw new TypeError("invalid as: must be an array of 3 strings!");if(TM.isString(t.method)){if(-1===NM.indexOf(t.method))throw new TypeError("invalid method: "+t.method+". Must be one of "+NM.join(", "));o=jM.default[t.method]}var s,l,h,p,v=MM.__read(i,2),d=v[0],g=v[1],y=t.extent,m=t.bandwidth;y&&Array.isArray(y)&&Array.isArray(y[0])&&Array.isArray(y[1])?(s=(r=MM.__read(y,2))[0],l=r[1]):(s=n.range(d),l=n.range(g)),m&&Array.isArray(m)&&m.slice(0,2).every(TM.isNumber)&&m.slice(0,2).every((function(n){return n>0}))?(h=(e=MM.__read(m,2))[0],p=e[1]):(h=PM.silverman(n.getColumn(d)),p=PM.silverman(n.getColumn(g)));for(var w=OM.default(s,h),x=OM.default(l,p),E=n.rows.length,b=[],_=0;_<w.length;_++)for(var S=0;S<x.length;S++){for(var M=0,T=w[_],O=x[S],j=0;j<E;j++)M+=o((T-n.rows[j][d])/h)*o((O-n.rows[j][g])/p);var k=1/(E*h*p)*M,C={};C[u]=T,C[c]=O,C[f]=k,b.push(C)}n.rows=b}kM.DataSet.registerTransform("kernel-smooth.density",RM),kM.DataSet.registerTransform("kernel.density",RM),SM.default={KERNEL_METHODS:NM};var DM={};Object.defineProperty(DM,"__esModule",{value:!0});var IM=y,qM=ht,LM=IM.__importDefault(um),BM=IM.__importDefault(xm),zM=Ev,FM=lv.exports,VM=ty,GM=fm,HM={as:["x","y"],method:"gaussian"},UM=qM.keys(BM.default);function WM(n,t,r,e){return n((e-r)/t)}function YM(n){return function(t){return qM.isArray(t)?t.map((function(t){return n(t)})):n(t)}}function JM(n,t){t=qM.assign({},HM,t);var r=VM.getFields(t);if(!qM.isArray(r)||1!==r.length&&2!==r.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var e,i=IM.__read(t.as,2),o=i[0],a=i[1];if(!qM.isString(o)||!qM.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var u=t.method;if(qM.isString(u)){if(-1===UM.indexOf(u))throw new TypeError("invalid method: "+u+". Must be one of "+UM.join(", "));e=BM.default[u]}var c=IM.__read(r,2),f=c[0],s=c[1],l=n.getColumn(f),h=t.extent;!h&&qM.isArray(h)||(h=n.range(f));var p=t.bandwidth;(!p||!qM.isNumber(p)||p<=0)&&(p=GM.silverman(l));var v,d=LM.default(h,p),g=l.length,y=WM.bind(null,e,p);if(qM.isNil(s))v=YM((function(n){var t=l.map((function(t){return y(n,t)})),r=FM.sum(t),e=g*p;return r&&e?r/e:0}));else{var m=n.getColumn(s);v=YM((function(n){var t=l.map((function(t){return y(n,t)})),r=FM.sum(t.map((function(n,t){return n*m[t]}))),e=FM.sum(t);return r&&e?r/e:0}))}var w=d.map((function(n){var t={};return t[o]=n,t[a]=v(n),t}));n.rows=w}zM.DataSet.registerTransform("kernel-smooth.regression",JM),zM.DataSet.registerTransform("kernel.regression",JM),DM.default={KERNEL_METHODS:UM};var $M=Ev.DataSet;export{jn as $,Fn as A,Wn as B,h as C,kn as D,Z as E,Q as F,z as G,x as H,fn as I,ct as J,Hn as K,o as L,p as M,xn as N,Gn as O,a as P,tt as Q,E as R,k as S,st as T,Rn as U,Sn as V,cn as W,s as X,l as Y,D as Z,i as _,O as a,nn as a0,_n as a1,zn as a2,et as a3,A as a4,N as a5,w as a6,En as a7,tn as a8,Zn as a9,Y as aa,W as ab,Nn as ac,on as ad,u as ae,c as af,Cn as ag,In as ah,Dn as ai,it as aj,X as ak,bn as al,_ as am,R as an,rt as ao,C as ap,$ as aq,pn as ar,vn as as,$M as at,S as b,sn as c,at as d,j as e,Jn as f,B as g,L as h,T as i,J as j,M as k,dn as l,Ln as m,ut as n,hn as o,en as p,Bn as q,I as r,an as s,wn as t,Mn as u,K as v,Qn as w,lt as x,$n as y,Kn as z};
