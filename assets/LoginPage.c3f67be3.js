import{_ as e,v as a,u as s,c as r,d as o}from"./index.5fc53803.js";import{d as n,r as t,b as d,f as l,o as m,x as u,m as i,k as c,u as p,J as b,K as f,U as g,an as h,A as v,q as _,l as w}from"./ant-design-vue.07f5f87d.js";const x={class:"login-container"},y=(e=>(b("data-v-7bd9babb"),e=e(),f(),e))((()=>w("div",{class:"login-head"},"Smile Admin System",-1)));var k=e(n({__name:"LoginPage",setup(e){const n=t({username:"",password:"",remember:!1,loading:!1}),b=d((()=>!(n.username&&n.password))),{t:f}=a.exports.useI18n(),w=d((()=>({username:{required:!0,message:f("account.pleaseInputAccount")},password:{required:!0,message:f("account.pleaseInputPassword")}}))),k=s();n.remember=k.getters.remember,n.remember&&(n.username="admin",n.password="123456");const q=e=>{const{checked:a}=e.target;k.commit("SET_REMEMBER",a)},E=r(),I=o(),M=e=>{n.loading=!0,k.dispatch("login",e).then((()=>{n.loading=!1;const e=E.query.redirect||"/";I.push({path:e})})).catch((()=>{n.loading=!1}))},U=e=>{};return(e,a)=>{const s=l("a-input"),r=l("a-form-item"),o=l("a-input-password"),t=l("a-checkbox"),d=l("a-button"),k=l("a-form");return m(),u("div",x,[y,i(k,{model:n,rules:p(w),name:"login",autocomplete:"off","validate-on-rule-change":"",onFinish:M,onFinishFailed:U},{default:c((()=>[i(r,{name:"username"},{default:c((()=>[i(s,{value:n.username,"onUpdate:value":a[0]||(a[0]=e=>n.username=e),valueModifiers:{trim:!0},placeholder:p(f)("account.userName")},{prefix:c((()=>[i(p(g),{style:{color:"#bbb"}})])),_:1},8,["value","placeholder"])])),_:1}),i(r,{name:"password"},{default:c((()=>[i(o,{value:n.password,"onUpdate:value":a[1]||(a[1]=e=>n.password=e),valueModifiers:{trim:!0},placeholder:p(f)("account.password")},{prefix:c((()=>[i(p(h),{style:{color:"#bbb"}})])),_:1},8,["value","placeholder"])])),_:1}),i(r,{name:"remember"},{default:c((()=>[i(t,{checked:n.remember,"onUpdate:checked":a[2]||(a[2]=e=>n.remember=e),onChange:q},{default:c((()=>[v(_(p(f)("account.remember")),1)])),_:1},8,["checked"])])),_:1}),i(r,null,{default:c((()=>[i(d,{class:"login-submit",disabled:p(b),loading:n.loading,type:"primary","html-type":"submit"},{default:c((()=>[v(_(p(f)("action.login")),1)])),_:1},8,["disabled","loading"])])),_:1})])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-7bd9babb"]]);export{k as default};
