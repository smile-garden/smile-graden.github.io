import{b as a,v as e}from"./index.5fc53803.js";import{e as t,r as l,a1 as n,B as s,d as u,b as r,f as o,o as i,j as c,k as m,m as d,u as p,A as g,q as f,a7 as h}from"./ant-design-vue.07f5f87d.js";function v(){const e=t(!1);let u=[];const r=t([]),o=t(0),i=l({name:"",pageNum:1,pageSize:10});n((()=>{(async()=>{e.value=!0,await a(i).then((a=>{e.value=!1,a&&(r.value=a.list,o.value=a.list.length,u=a.list)})).catch((a=>{e.value=!1,s.error(a.message)}))})()}));return{loading:e,queryParams:i,list:r,total:o,searchQuery:()=>{i.pageNum=1,r.value=u.filter((a=>a.name.includes(i.name)))},resetQuery:()=>{i.name="",i.pageNum=1,i.pageSize=10,r.value=u},change:(a,e)=>{i.pageNum=a,i.pageSize=e}}}const y=u({__name:"TableList",setup(a){const{t:t}=e.exports.useI18n(),l=r((()=>[{title:t("user.name"),dataIndex:"name"},{title:t("user.age"),dataIndex:"age"},{title:t("user.address"),dataIndex:"address"}])),{loading:n,queryParams:s,list:u,total:y,searchQuery:b,resetQuery:_,change:N}=v(),k=r((()=>{const a=(s.pageNum-1)*s.pageSize,e=s.pageNum*s.pageSize;return u.value.slice(a,e)}));return(a,e)=>{const u=o("a-input"),r=o("a-form-item"),v=o("a-button"),x=o("a-space"),C=o("a-form"),w=o("a-table"),z=o("a-pagination"),I=o("a-card");return i(),c(I,{bordered:!1},{default:m((()=>[d(C,{layout:"inline",class:"app-filter-wrapper"},{default:m((()=>[d(r,{label:p(t)("user.name")},{default:m((()=>[d(u,{value:p(s).name,"onUpdate:value":e[0]||(e[0]=a=>p(s).name=a),placeholder:p(t)("common.pleaseInput")},null,8,["value","placeholder"])])),_:1},8,["label"]),d(r,null,{default:m((()=>[d(x,null,{default:m((()=>[d(v,{type:"primary",onClick:p(b)},{default:m((()=>[g(f(p(t)("action.search")),1)])),_:1},8,["onClick"]),d(v,{onClick:p(_)},{default:m((()=>[g(f(p(t)("action.reset")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),d(w,{columns:p(l),"data-source":p(k),loading:p(n)},null,8,["columns","data-source","loading"]),p(y)?(i(),c(z,{key:0,current:p(s).pageNum,"onUpdate:current":e[1]||(e[1]=a=>p(s).pageNum=a),class:"ant-table-pagination ant-table-pagination-right","show-quick-jumper":"",total:p(y),"show-total":a=>`${p(t)("common.total")} ${a} ${p(t)("common.item")}`,onChange:p(N)},null,8,["current","total","show-total","onChange"])):h("",!0)])),_:1})}}});export{y as default};
